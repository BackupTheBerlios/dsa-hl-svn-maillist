<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4669 - in rl/branches/newton20: . cmake engine	engine/ai engine/ai/include engine/common engine/core	engine/core/include engine/core/src engine/rules	engine/script engine/script/src engine/startup engine/ui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4669%20-%20in%20rl/branches/newton20%3A%20.%20cmake%20engine%0A%09engine/ai%20engine/ai/include%20engine/common%20engine/core%0A%09engine/core/include%20engine/core/src%20engine/rules%0A%09engine/script%20engine/script/src%20engine/startup%20engine/ui&In-Reply-To=%3C200901032122.n03LMa62030898%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001725.html">
   <LINK REL="Next"  HREF="001727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4669 - in rl/branches/newton20: . cmake engine	engine/ai engine/ai/include engine/common engine/core	engine/core/include engine/core/src engine/rules	engine/script engine/script/src engine/startup engine/ui</H1>
    <B>chrber at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4669%20-%20in%20rl/branches/newton20%3A%20.%20cmake%20engine%0A%09engine/ai%20engine/ai/include%20engine/common%20engine/core%0A%09engine/core/include%20engine/core/src%20engine/rules%0A%09engine/script%20engine/script/src%20engine/startup%20engine/ui&In-Reply-To=%3C200901032122.n03LMa62030898%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4669 - in rl/branches/newton20: . cmake engine	engine/ai engine/ai/include engine/common engine/core	engine/core/include engine/core/src engine/rules	engine/script engine/script/src engine/startup engine/ui">chrber at mail.berlios.de
       </A><BR>
    <I>Sat Jan  3 22:22:36 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001725.html">[Dsa-hl-svn] r4668 - in rl/trunk: . cmake
</A></li>
        <LI>Next message: <A HREF="001727.html">[Dsa-hl-svn] r4670 - in rl/branches/newton20: cmake engine/ui	plugins plugins/fmod4driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1726">[ date ]</a>
              <a href="thread.html#1726">[ thread ]</a>
              <a href="subject.html#1726">[ subject ]</a>
              <a href="author.html#1726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: chrber
Date: 2009-01-03 22:22:24 +0100 (Sat, 03 Jan 2009)
New Revision: 4669

Added:
   rl/branches/newton20/cmake/FindCEGUIOGRE.cmake
   rl/branches/newton20/cmake/FindMeshMagick.cmake
   rl/branches/newton20/cmake/FindOIS.cmake
   rl/branches/newton20/cmake/FindOpenSteer.cmake
   rl/branches/newton20/cmake/FindXercesC.cmake
   rl/branches/newton20/cmake/UseSWIG.cmake
   rl/branches/newton20/engine/CMakeLists.txt
   rl/branches/newton20/engine/rules/CMakeLists.txt
   rl/branches/newton20/engine/script/CMakeLists.txt
   rl/branches/newton20/engine/startup/CMakeLists.txt
   rl/branches/newton20/engine/ui/CMakeLists.txt
Modified:
   rl/branches/newton20/CMakeLists.txt
   rl/branches/newton20/cmake/FindCEGUI.cmake
   rl/branches/newton20/cmake/FindFMODEx.cmake
   rl/branches/newton20/cmake/FindOGRE.cmake
   rl/branches/newton20/cmake/FindOgreNewt.cmake
   rl/branches/newton20/engine/ai/CMakeLists.txt
   rl/branches/newton20/engine/ai/include/DialogLoaderImpl.h
   rl/branches/newton20/engine/common/CMakeLists.txt
   rl/branches/newton20/engine/core/CMakeLists.txt
   rl/branches/newton20/engine/core/include/SaveAble.h
   rl/branches/newton20/engine/core/include/SaveAbleCollection.h
   rl/branches/newton20/engine/core/include/SaveAbleFactory.h
   rl/branches/newton20/engine/core/include/SaveAbleManager.h
   rl/branches/newton20/engine/core/src/SaveAble.cpp
   rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp
   rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp
   rl/branches/newton20/engine/core/src/SaveAbleManager.cpp
   rl/branches/newton20/engine/script/src/Scene.cpp
Log:
Added cmake build system to branch containing all fixes from trunk (hopefully)
Typical bunch of missing line endings for other files


Modified: rl/branches/newton20/CMakeLists.txt
===================================================================
--- rl/branches/newton20/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -1,10 +1,7 @@
 PROJECT(RL)
 
-CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
+CMAKE_MINIMUM_REQUIRED(VERSION 2.6.2)
 
-# Cmake handles escaping of preprocessor directives
-CMAKE_POLICY(SET CMP0005 OLD)
-
 # Include required cmake macros
 INCLUDE(FeatureSummary)
 
@@ -27,9 +24,15 @@
 
 # Check for required components
 FIND_PACKAGE(PkgConfig)
+FIND_PACKAGE(XercesC REQUIRED)
 FIND_PACKAGE(OGRE 1.6 REQUIRED)
-FIND_PACKAGE(OgreNewt REQUIRED)
+FIND_PACKAGE(OIS REQUIRED)
 FIND_PACKAGE(CEGUI REQUIRED)
+FIND_PACKAGE(CEGUIOGRE 1.6 REQUIRED)
+FIND_PACKAGE(OgreNewt 2.0 REQUIRED)
+FIND_PACKAGE(OpenSteer REQUIRED)
+FIND_PACKAGE(MeshMagick 0.5 REQUIRED)
+FIND_PACKAGE(Ruby REQUIRED)
 FIND_PACKAGE(Boost 1.34 REQUIRED filesystem)
 FIND_PACKAGE(SWIG REQUIRED)
 IF (NOT SWIG_DIR MATCHES -rl$)
@@ -42,12 +45,9 @@
 SET(DATADIRNAME &quot;rastullah&quot; CACHE STRING &quot;change the name of the directory for the read-only architecture-independent game data&quot;)
 
 # Game options
-SET(ENABLE_FMOD4 &quot;Enable FMOD 4.xx (FMODex) sound support&quot; ON)
-SET(ENABLE_OPENAL &quot;Enable OpenAL sound support (unsupported)&quot; OFF)
+SET(WITH_FMOD4 ON CACHE BOOL &quot;Enable FMOD 4.xx (FMODex) sound support&quot;)
+SET(WITH_OPENAL OFF CACHE BOOL &quot;Enable OpenAL sound support (unsupported)&quot;)
 
-# Handle options
-ADD_DEFINITIONS(-DRL_MODULEDIR=\\&quot;${DATAROOTDIR}/${DATADIRNAME}/modules\\&quot;)
-
 # Include subdirectories
 ADD_SUBDIRECTORY(engine)
 ADD_SUBDIRECTORY(plugins)

Modified: rl/branches/newton20/cmake/FindCEGUI.cmake
===================================================================
--- rl/branches/newton20/cmake/FindCEGUI.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindCEGUI.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -53,7 +53,7 @@
 	MESSAGE(STATUS &quot;Looking for CEGUI&quot;)
 	FIND_PATH(CEGUI_INCLUDE_DIRS CEGUI.h ${CEGUI_INCLUDE_SEARCH_DIRS})
 	FIND_LIBRARY(CEGUI_LIBRARIES debug CEGUIBase_d optimized CEGUIBase PATHS ${CEGUI_LIBRARY_SEARCH_DIRS})
-	
+
 # 	SET(OGRESOURCE $ENV{OGRE_NEW})
 # 	IF (OGRESDK)
 # 		MESSAGE(STATUS &quot;Using CEGUI in OGRE SDK&quot;)
@@ -81,7 +81,6 @@
 	SET(CEGUI_LIBRARY_DIRS ${CEGUI_LIBDIR})
 	SET(CEGUI_LIBRARIES ${CEGUI_LIBRARIES})
 
-	CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
 	FIND_PACKAGE(PkgConfig)
 	IF(PKG_CONFIG_FOUND)
 		PKG_SEARCH_MODULE(CEGUI CEGUI)

Added: rl/branches/newton20/cmake/FindCEGUIOGRE.cmake
===================================================================
--- rl/branches/newton20/cmake/FindCEGUIOGRE.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindCEGUIOGRE.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,68 @@
+# Find CEGUI-OGRE (CEGUI Renderer interface module for OGRE)
+#
+# This module defines
+# CEGUIOGRE_FOUND       - OpenSteer was found
+# CEGUIOGRE_INCLUDE_DIR - Directory containing CEGUI-OGRE header files
+# CEGUIOGRE_LIBRARY     - Library name of CEGUI-OGRE library
+#
+# Copyright (C) 2003-2009 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+# On a new cmake run, we do not need to be verbose
+IF(CEGUIOGRE_INCLUDE_DIR AND CEGUIOGRE_LIBRARY)
+	SET(CEGUIOGRE_FIND_QUIETLY TRUE)
+ENDIF(CEGUIOGRE_INCLUDE_DIR AND CEGUIOGRE_LIBRARY)
+
+IF(WIN32)
+
+ELSE(WIN32)
+	IF(PKG_CONFIG_FOUND)
+		PKG_SEARCH_MODULE(CEGUIOGRE CEGUI-OGRE)
+		SET(CEGUIOGRE_INCLUDE_DIR ${CEGUIOGRE_INCLUDE_DIRS})
+		SET(CEGUIOGRE_LIBRARY ${CEGUIOGRE_LIBRARIES})
+	ENDIF(PKG_CONFIG_FOUND)
+	IF(NOT CEGUIOGRE_FOUND)
+		SET(CEGUIOGRE_INCLUDE_SEARCH_DIRS
+		    /usr/include
+		    /usr/local/include
+		    /opt/include
+		    /opt/OGRE/include)
+		SET(CEGUIOGRE_LIBRARY_SEARCH_DIRS
+		    /usr/lib
+		    /usr/lib64
+		    /usr/local/lib
+		    /usr/local/lib64
+		    /opt/OGRE/lib
+		    /opt/OGRE/lib64)
+		SET(CEGUIOGRE_INC_DIR_SUFFIXES PATH_SUFFIXES OGRE)
+		FIND_PATH(CEGUIOGRE_INCLUDE_DIR OgreCEGUIRenderer.h
+		          PATHS ${CEGUIOGRE_INCLUDE_SEARCH_DIRS}
+		          PATH_SUFFIXES ${CEGUIOGRE_INC_DIR_SUFFIXES})
+		FIND_LIBRARY(CEGUIOGRE_LIBRARY CEGUIOgreRenderer
+		             PATHS ${CEGUIOGRE_LIBRARY_SEARCH_DIRS}
+		             PATH_SUFFIXES ${CEGUIOGRE_LIB_DIR_SUFFIXES}})
+	ENDIF(NOT CEGUIOGRE_FOUND)
+ENDIF(WIN32)
+
+SET(CEGUIOGRE_INCLUDE_DIR ${CEGUIOGRE_INCLUDE_DIR} CACHE STRING &quot;Directory containing CEGUI-OGRE header files&quot;)
+SET(CEGUIOGRE_LIBRARY ${CEGUIOGRE_LIBRARY} CACHE STRING &quot;Library name of CEGRUI-OGRE library&quot;)
+
+IF(CEGUIOGRE_INCLUDE_DIR AND CEGUIOGRE_LIBRARY)
+	SET(CEGUIOGRE_FOUND TRUE)
+ENDIF(CEGUIOGRE_INCLUDE_DIR AND CEGUIOGRE_LIBRARY)
+
+IF(CEGUIOGRE_FOUND)
+	IF(NOT CEGUIOGRE_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries: ${CEGUIOGRE_LIBRARY} from ${CEGUIOGRE_LIBRARY_DIRS}&quot;)
+		MESSAGE(STATUS &quot;  includes: ${CEGUIOGRE_INCLUDE_DIR}&quot;)
+	ENDIF(NOT CEGUIOGRE_FIND_QUIETLY)
+ELSE(CEGUIOGRE_FOUND)
+	IF(NOT CEGUIOGRE_LIBRARY)
+		MESSAGE(SEND_ERROR, &quot;CEGRUI-OGRE library could not be found.&quot;)
+	ENDIF(NOT CEGUIOGRE_LIBRARY)
+	IF(NOT CEGUIOGRE_INCLUDE_DIR)
+		MESSAGE(SEND_ERROR &quot;CEGRUI-OGRE include files could not be found.&quot;)
+	ENDIF(NOT CEGUIOGRE_INCLUDE_DIR)
+ENDIF(CEGUIOGRE_FOUND)
\ No newline at end of file

Modified: rl/branches/newton20/cmake/FindFMODEx.cmake
===================================================================
--- rl/branches/newton20/cmake/FindFMODEx.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindFMODEx.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -1,11 +1,12 @@
 # Find FMODEx
 #
 # This module defines
-# FMODEX_FOUND
-# FMODEX_INCLUDE_DIR
-# FMODEX_LIBRARY
+# FMODEX_FOUND       - FMODEx was found
+# FMODEX_INCLUDE_DIR - Directory containing FMODEx header files
+# FMODEX_LIBRARY     - Library name of FMODEx library
 #
 # Based on the CMakeLists.txt of zdoom and FindFMOD.cmake of openfrag
+# Copyright (C) 2003-2009 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
 #
 # Redistribution and use is allowed according to the terms of the BSD license.
 # For details see the accompanying COPYING-CMAKE-SCRIPTS file.
@@ -15,7 +16,7 @@
 	SET(FMODEX_FIND_QUIETLY TRUE)
 ENDIF(FMODEX_INCLUDE_DIR AND FMODEX_LIBRARY)
 
-# Check for for 32/64 bit architecture
+# Check for 32/64 bit architecture
 IF(CMAKE_SIZEOF_VOID_P MATCHES &quot;8&quot;)
 	SET(X64 64)
 ENDIF(CMAKE_SIZEOF_VOID_P MATCHES &quot;8&quot;)
@@ -27,15 +28,15 @@
 	SET(FMODEX_INCLUDE_SEARCH_DIRS
 	    /usr/include
 	    /usr/local/include
-	    /opt/fmodex/fmodex/include
-            /opt/include)
+	    /opt/fmodex/include
+	    /opt/include INTERNAL)
 	SET(FMODEX_LIBRARY_SEARCH_DIRS
 	    /usr/lib
 	    /usr/lib64
 	    /usr/local/lib
 	    /usr/local/lib64
 	    /opt/fmodex/lib
-	    /opt/fmodex/lib64)
+	    /opt/fmodex/lib64 INTERNAL)
 	SET(FMODEX_INC_DIR_SUFFIXES PATH_SUFFIXES fmodex)
 ENDIF(WIN32)
 
@@ -60,38 +61,22 @@
 FIND_PATH(FMODEX_INCLUDE_DIR fmod.h
           PATHS ${FMODEX_INCLUDE_SEARCH_PATHS}
           PATH_SUFFIXES ${FMODEX_INC_DIR_SUFFIXES})
-IF(FMODEX_INCLUDE_DIR)
-	IF (NOT FMODEX_FIND_QUIETLY)
-		MESSAGE(STATUS &quot;  includes: ${FMODEX_INCLUDE_DIR}&quot;)
-	ENDIF(NOT FMODEX_FIND_QUIETLY)
-ELSE(FMODEX_INCLUDE_DIR)
-	MESSAGE(SEND_ERROR &quot;FMODEx include files could not be found.&quot;)
-ENDIF(FMODEX_INCLUDE_DIR)
 
 FIND_LIBRARY(FMODEX_LIBRARY ${FMODEX_LIBRARY_NAME}
              PATHS ${FMODEX_LIBRARY_SEARCH_DIRS}
              PATH_SUFFIXES ${FMOD_LIB_DIR_SUFFIXES})
-IF(FMODEX_LIBRARY)
-	IF (NOT FMODEX_FIND_QUIETLY)
-		MESSAGE(STATUS &quot;  libraries: ${FMODEX_LIBRARY}&quot;)
-	ENDIF(NOT FMODEX_FIND_QUIETLY)
-ELSE(FMODEX_LIBRARY)
-	MESSAGE(SEND_ERROR, &quot;FMODex library could not be found.&quot;)
-ENDIF(FMODEX_LIBRARY)
 
+SET(FMODEX_INCLUDE_DIR ${FMODEX_INCLUDE_DIR} CACHE STRING &quot;Directory containing FMODEx header files&quot;)
+SET(FMODEX_LIBRARY ${FMODEX_LIBRARY} CACHE STRING &quot;Library name of FMODEx library&quot;)
+
 IF(FMODEX_INCLUDE_DIR AND FMODEX_LIBRARY)
 	SET(FMODEX_FOUND TRUE)
 ENDIF(FMODEX_INCLUDE_DIR AND FMODEX_LIBRARY)
 
-# Allow customisation of paths
-SET(FMODEX_INCLUDE_DIR ${FMODEX_INCLUDE_DIR})
-SET(FMODEX_LIBRARY ${FMODEX_LIBRARY})
-
 IF(FMODEX_INCLUDE_DIR)
 	# Extract the library version from the header file
 	SET(FMODEX_VERSION 0)
-	FILE(READ &quot;${FMODEX_INCLUDE_DIR}/fmod.h&quot;
-	     _FMODEX_FMOD_H_CONTENTS)
+	FILE(READ &quot;${FMODEX_INCLUDE_DIR}/fmod.h&quot; _FMODEX_FMOD_H_CONTENTS)
 	STRING(REGEX REPLACE &quot;.*#define FMOD_VERSION    0x([0-9]+).*&quot; &quot;\\1&quot;
 	       FMODEX_VERSION &quot;${_FMODEX_FMOD_H_CONTENTS}&quot;)
 	IF(NOT &quot;${FMODEX_VERSION}&quot; STREQUAL 0)
@@ -104,19 +89,36 @@
 	# Compare installed and required version
 	IF(FMODEx_FIND_VERSION)
 		# Major and minor version are required
-		IF(NOT FMODEx_FIND_VERSION_MINOR)
-			MESSAGE(SEND_ERROR &quot;When requesting a specific version of FMODEx , you must provide at least the major and minor version numbers, e.g., 4.20&quot;)
-		ENDIF(NOT FMODEx_FIND_VERSION_MINOR)
+		IF(NOT DEFINED FMODEx_FIND_VERSION_MINOR)
+			MESSAGE(SEND_ERROR &quot;When requesting a specific version of FMODEx, you must provide at least the major and minor version numbers, e.g., 4.20&quot;)
+		ENDIF(NOT DEFINED FMODEx_FIND_VERSION_MINOR)
 
-		IF (&quot;${FMOD_VERSION}&quot; VERSION_LESS &quot;${FMODEx_FIND_VERSION}&quot;)
-			SET(FMODEX_FOUND FALSE)
-			MESSAGE(STATUS &quot;Detected version of FMODEx ${FMODEX_VERSION} is too old. At least version ${FMODEx_FIND_VERSION} is required.&quot;)
-		ENDIF(&quot;${FMOD_VERSION}&quot; VERSION_LESS &quot;${FMODEx_FIND_VERSION}&quot;)
+		# Exact version match requested
+		IF(FMODEx_FIND_VERSION_EXACT)
+			IF(NOT &quot;${FMOD_VERSION}&quot; VERSION_EQUAL &quot;${FMODEx_FIND_VERSION}&quot;)
+				SET(NEWTON_FOUND FALSE)
+				MESSAGE(SEND_ERROR &quot;Required version of FMODEx ${FMODEx_FIND_VERSION}, but you have FMODEx ${FMOD_VERSION} installed.&quot;)
+			ENDIF(NOT &quot;${FMOD_VERSION}&quot; VERSION_EQUAL &quot;${FMODEx_FIND_VERSION}&quot;)
+		ELSE(FMODEx_FIND_VERSION_EXACT)
+			IF(&quot;${FMOD_VERSION}&quot; VERSION_LESS &quot;${FMODEx_FIND_VERSION}&quot;)
+				SET(NEWTON_FOUND FALSE)
+				MESSAGE(STATUS &quot;Detected version of FMODEx ${FMODEX_VERSION} is too old. At least version ${FMODEx_FIND_VERSION} is required.&quot;)
+			ENDIF(&quot;${FMOD_VERSION}&quot; VERSION_LESS &quot;${FMODEx_FIND_VERSION}&quot;)
+		ENDIF(FMODEx_FIND_VERSION_EXACT)
 	ENDIF(FMODEx_FIND_VERSION)
 ENDIF(FMODEX_INCLUDE_DIR)
 
 IF(FMODEX_FOUND)
 	IF(NOT FMODEX_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries: ${FMODEX_LIBRARY}&quot;)
+		MESSAGE(STATUS &quot;  includes: ${FMODEX_INCLUDE_DIR}&quot;)
 		MESSAGE(STATUS &quot;  version: ${FMODEX_VERSION}&quot;)
 	ENDIF(NOT FMODEX_FIND_QUIETLY)
+ELSE(FMODEX_FOUND)
+	IF(NOT FMODEX_LIBRARY)
+		MESSAGE(SEND_ERROR, &quot;FMODex library could not be found.&quot;)
+	ENDIF(NOT FMODEX_LIBRARY)
+	IF(NOT FMODEX_INCLUDE_DIR)
+		MESSAGE(SEND_ERROR &quot;FMODEx include files could not be found.&quot;)
+	ENDIF(NOT FMODEX_INCLUDE_DIR)
 ENDIF(FMODEX_FOUND)
\ No newline at end of file

Added: rl/branches/newton20/cmake/FindMeshMagick.cmake
===================================================================
--- rl/branches/newton20/cmake/FindMeshMagick.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindMeshMagick.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,71 @@
+# Find MeshMagick
+#
+# This module defines
+# MESHMAGICK_FOUND       - MeshMagick was found
+# MESHMAGICK_INCLUDE_DIR - Directory containing MeshMagick header files
+# MESHMAGICK_LIBRARY     - Library name of MeshMagick library
+#
+# Copyright (C) 2003-2009 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+# On a new cmake run, we do not need to be verbose
+IF(MESHMAGICK_INCLUDE_DIR AND MESHMAGICK_LIBRARY)
+	SET(MESHMAGICK_FIND_QUIETLY TRUE)
+ENDIF(MESHMAGICK_INCLUDE_DIR AND MESHMAGICK_LIBRARY)
+
+# Search for headers and libraries
+IF(WIN32)
+
+ELSE(WIN32)
+	IF(PKG_CONFIG_FOUND)
+		PKG_SEARCH_MODULE(MESHMAGICK meshmagick)
+		SET(MESHMAGICK_INCLUDE_DIR ${MESHMAGICK_INCLUDE_DIRS})
+		SET(MESHMAGICK_LIBRARY ${MESHMAGICK_LIBRARIES})
+	ENDIF(PKG_CONFIG_FOUND)
+	IF(NOT MESHMAGICK_FOUND)
+		SET(MESHMAGICK_INCLUDE_SEARCH_DIRS
+		    /usr/include
+		    /usr/local/include
+		    /opt/include
+		    /opt/meshmagick/include)
+		SET(MESHMAGICK_LIBRARY_SEARCH_DIRS
+		    /usr/lib
+		    /usr/lib64
+		    /usr/local/lib
+		    /usr/local/lib64
+		    /opt/meshmagick/lib
+		    /opt/meshmagick/lib64)
+		SET(MESHMAGICK_INC_DIR_SUFFIXES PATH_SUFFIXES meshmagick)
+		FIND_PATH(MESHMAGICK_INCLUDE_DIR MeshMagickPrerequisites.h
+		          PATHS ${MESHMAGICK_INCLUDE_SEARCH_DIRS}
+		          PATH_SUFFIXES ${MESHMAGICK_INC_DIR_SUFFIXES})
+		FIND_LIBRARY(MESHMAGICK_LIBRARY meshmagick
+		             PATHS ${MESHMAGICK_LIBRARY_SEARCH_DIRS}
+		             PATH_SUFFIXES ${MESHMAGICK_LIB_DIR_SUFFIXES}})
+	ENDIF(NOT MESHMAGICK_FOUND)
+ENDIF(WIN32)
+
+SET(MESHMAGICK_INCLUDE_DIR ${MESHMAGICK_INCLUDE_DIR} CACHE STRING &quot;Directory containing MeshMagick header files&quot;)
+SET(MESHMAGICK_LIBRARY ${MESHMAGICK_LIBRARY} CACHE STRING &quot;Library name of MeshMagick library&quot;)
+
+IF(MESHMAGICK_INCLUDE_DIR AND MESHMAGICK_LIBRARY)
+	SET(MESHMAGICK_FOUND TRUE)
+ENDIF(MESHMAGICK_INCLUDE_DIR AND MESHMAGICK_LIBRARY)
+
+IF(MESHMAGICK_FOUND)
+	IF(NOT MESHMAGICK_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries: ${MESHMAGICK_LIBRARY} from ${MESHMAGICK_LIBRARY_DIRS}&quot;)
+		MESSAGE(STATUS &quot;  includes: ${MESHMAGICK_INCLUDE_DIR}&quot;)
+	ENDIF(NOT MESHMAGICK_FIND_QUIETLY)
+ELSE(MESHMAGICK_FOUND)
+	IF(MeshMagick_FIND_REQUIRED)
+		IF(NOT MESHMAGICK_LIBRARY)
+			MESSAGE(SEND_ERROR, &quot;MeshMagick library could not be found.&quot;)
+		ENDIF(NOT MESHMAGICK_LIBRARY)
+		IF(NOT MESHMAGICK_INCLUDE_DIR)
+			MESSAGE(SEND_ERROR &quot;MeshMagick include files could not be found.&quot;)
+		ENDIF(NOT MESHMAGICK_INCLUDE_DIR)
+	ENDIF(MeshMagick_FIND_REQUIRED)
+ENDIF(MESHMAGICK_FOUND)
\ No newline at end of file

Modified: rl/branches/newton20/cmake/FindOGRE.cmake
===================================================================
--- rl/branches/newton20/cmake/FindOGRE.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindOGRE.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -58,11 +58,10 @@
 ELSE (WIN32) #Unix/OSX
 	FIND_PACKAGE(PkgConfig)
 	IF(PKG_CONFIG_FOUND)
-		CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7)
 		PKG_SEARCH_MODULE(OGRE OGRE)
 		IF(NOT PKGCONFIG_FAILED)
 			_PKGCONFIG_INVOKE(OGRE &quot;OGRE&quot; PLUGINDIR &quot;&quot; --variable=plugindir)
-			ADD_DEFINITIONS(-DOGRE_PLUGINDIR=\\&quot;${OGRE_PLUGINDIR}\\&quot;)
+			ADD_DEFINITIONS(-DOGRE_PLUGINDIR=&quot;${OGRE_PLUGINDIR}&quot;)
 		ENDIF(NOT PKGCONFIG_FAILED)
 		SET(OGRE_INCLUDE_DIRS ${OGRE_INCLUDE_DIRS})
 		SET(OGRE_LIBRARY_DIRS ${OGRE_LIBDIR})

Added: rl/branches/newton20/cmake/FindOIS.cmake
===================================================================
--- rl/branches/newton20/cmake/FindOIS.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindOIS.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,81 @@
+# - Find OIS includes and library
+#
+# This module defines
+#  OIS_INCLUDE_DIRS
+#  OIS_LIBRARIES, the libraries to link against to use OIS.
+#  OIS_LIBRARY_DIRS, the location of the libraries
+#  OIS_FOUND, If false, do not try to use OIS
+#
+# Copyright &#169; 2007-2008, Matt Williams
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+# On a new cmake run, we do not need to be verbose
+IF(OIS_INCLUDE_DIR AND OIS_LIBRARY)
+	SET(OIS_FIND_QUIETLY TRUE)
+ENDIF(OIS_INCLUDE_DIR AND OIS_LIBRARY)
+
+IF (WIN32)
+	MESSAGE(STATUS &quot;Looking for OIS&quot;)
+	SET(OGRESDK $ENV{OGRE_HOME})
+	SET(OGRESOURCE $ENV{OGRE_NEW})
+	IF (OGRESDK)
+		MESSAGE(STATUS &quot;Using OIS in OGRE SDK&quot;)
+		SET(OGRESDK $ENV{OGRE_HOME})
+		STRING(REGEX REPLACE &quot;[\\]&quot; &quot;/&quot; OGRESDK &quot;${OGRESDK}&quot;)
+		SET(OIS_INCLUDE_DIRS ${OGRESDK}/include)
+		SET(OIS_LIBRARY_DIRS ${OGRESDK}/lib)
+		SET(OIS_LIBRARIES debug OIS_d optimized OIS)
+	ELSEIF (OGRESOURCE)
+		MESSAGE(STATUS &quot;Using OIS in OGRE dependencies&quot;)
+		SET(OIS_INCLUDE_DIRS C:/ogrenew/Dependencies/include)
+		SET(OIS_LIBRARY_DIRS C:/ogrenew/Dependencies/lib/Release C:/ogrenew/Dependencies/lib/Debug)
+		SET(OIS_LIBRARIES debug OIS_d optimized OIS)
+	ELSE (OGRESDK)
+		IF (NOT DEPENDENCIES_PATH)
+			MESSAGE(STATUS &quot;Please set DEPENDENCIES_PATH (the directory containing 'common' and 'dependencies')&quot;)
+		ELSE (NOT DEPENDENCIES_PATH)
+			SET(CEGUIOGRE_INCLUDE_DIRS ${DEPENDENCIES_PATH}/dependencies/Ogre/OIS)
+			SET(CEGUIOGRE_LIBRARIES optimized OIS debug OIS_d)
+			SET(CEGUIOGRE_LIBRARY_DIRS optimized ${DEPENDENCIES_PATH}/dependencies/lib/release debug ${DEPENDENCIES_PATH}/dependencies/lib/debug)
+		ENDIF (NOT DEPENDENCIES_PATH)
+	ENDIF (OGRESDK)
+ELSE(WIN32)
+	IF(PKG_CONFIG_FOUND)
+		PKG_SEARCH_MODULE(OIS OIS)
+		SET(OIS_INCLUDE_DIR ${OIS_INCLUDE_DIRS})
+		SET(OIS_LIBRARY ${OIS_LIBRARIES})
+	ENDIF(PKG_CONFIG_FOUND)
+	IF(NOT OIS_FOUND)
+
+	ENDIF(NOT OIS_FOUND)
+ENDIF(WIN32)
+
+SET(OIS_INCLUDE_DIR ${OIS_INCLUDE_DIR} CACHE STRING &quot;Directory containing OIS header files&quot;)
+SET(OIS_LIBRARY ${OIS_LIBRARY} CACHE STRING &quot;Library name of OIS library&quot;)
+
+#Do some preparation
+SEPARATE_ARGUMENTS(OIS_INCLUDE_DIRS)
+SEPARATE_ARGUMENTS(OIS_LIBRARIES)
+
+SET(OIS_INCLUDE_DIRS ${OIS_INCLUDE_DIRS})
+SET(OIS_LIBRARIES ${OIS_LIBRARIES})
+SET(OIS_LIBRARY_DIRS ${OIS_LIBRARY_DIRS})
+
+MARK_AS_ADVANCED(OIS_INCLUDE_DIRS OIS_LIBRARIES OIS_LIBRARY_DIRS)
+
+IF (OIS_INCLUDE_DIR AND OIS_LIBRARY)
+	SET(OIS_FOUND TRUE)
+ENDIF (OIS_INCLUDE_DIR AND OIS_LIBRARY)
+
+IF (OIS_FOUND)
+	IF (NOT OIS_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries : ${OIS_LIBRARY} from ${OIS_LIBRARY_DIRS}&quot;)
+		MESSAGE(STATUS &quot;  includes  : ${OIS_INCLUDE_DIR}&quot;)
+	ENDIF (NOT OIS_FIND_QUIETLY)
+ELSE (OIS_FOUND)
+	IF (OIS_FIND_REQUIRED)
+		MESSAGE(FATAL_ERROR &quot;Could not find OIS&quot;)
+	ENDIF (OIS_FIND_REQUIRED)
+ENDIF (OIS_FOUND)

Modified: rl/branches/newton20/cmake/FindOgreNewt.cmake
===================================================================
--- rl/branches/newton20/cmake/FindOgreNewt.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindOgreNewt.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -17,6 +17,60 @@
 
 ELSE(WIN32)
 	IF(PKG_CONFIG_FOUND)
-		PKG_SEARCH_MODULE(OGRENEWT OgreNewt)
+		IF(OgreNewt_FIND_VERSION)
+			IF(OgreNewt_FIND_VERSION_EXACT)
+				PKG_SEARCH_MODULE(OGRENEWT REQUIRED OgreNewt=${OgreNewt_FIND_VERSION})
+			ELSE(OgreNewt_FIND_VERSION_EXACT)
+				PKG_SEARCH_MODULE(OGRENEWT REQUIRED OgreNewt&gt;=${OgreNewt_FIND_VERSION})
+			ENDIF(OgreNewt_FIND_VERSION_EXACT)
+		ELSE(OgreNewt_FIND_VERSION)
+			PKG_SEARCH_MODULE(OGRENEWT REQUIRED OgreNewt)
+		ENDIF(OgreNewt_FIND_VERSION)
+		SET(OGRENEWT_INCLUDE_DIR ${OGRENEWT_INCLUDE_DIRS})
+		SET(OGRENEWT_LIBRARY ${OGRENEWT_LIBRARIES})
 	ENDIF(PKG_CONFIG_FOUND)
-ENDIF(WIN32)
\ No newline at end of file
+	IF(NOT OGRENEWT_FOUND)
+		SET(OGRENEWT_INCLUDE_SEARCH_DIRS
+		    /usr/include
+		    /usr/local/include
+		    /opt/include
+		    /opt/OgreNewt/include)
+		SET(OGRENEWT_LIBRARY_SEARCH_DIRS
+		    /usr/lib
+		    /usr/lib64
+		    /usr/local/lib
+		    /usr/local/lib64
+		    /opt/OgreNewt/lib
+		    /opt/OgreNewt/lib64)
+		SET(OGRENEWT_INC_DIR_SUFFIXES PATH_SUFFIXES OgreNewt)
+		FIND_PATH(OGRENEWT_INCLUDE_DIR OgreNewt.h
+		          PATHS ${OGRENEWT_INCLUDE_SEARCH_DIRS}
+		          PATH_SUFFIXES ${OGRENEWT_INC_DIR_SUFFIXES})
+		FIND_LIBRARY(OGRENEWT_LIBRARY OgreNewt
+		             PATHS ${OGRENEWT_LIBRARY_SEARCH_DIRS}
+		             PATH_SUFFIXES ${OGRENEWT_LIB_DIR_SUFFIXES}})
+	ENDIF(NOT OGRENEWT_FOUND)
+ENDIF(WIN32)
+
+SET(OGRENEWT_INCLUDE_DIR ${OGRENEWT_INCLUDE_DIR} CACHE STRING &quot;Directory containing OgreNewt header files&quot;)
+SET(OGRENEWT_LIBRARY ${OGRENEWT_LIBRARY} CACHE STRING &quot;Library name of OgreNewt library&quot;)
+
+IF(OGRENEWT_INCLUDE_DIR AND OGRENEWT_LIBRARY)
+	SET(OGRENEWT_FOUND TRUE)
+ENDIF(OGRENEWT_INCLUDE_DIR AND OGRENEWT_LIBRARY)
+
+IF(OGRENEWT_FOUND)
+	IF(NOT OGRENEWT_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries: ${OGRENEWT_LIBRARY} from ${OGRENEWT_LIBRARY_DIRS}&quot;)
+		MESSAGE(STATUS &quot;  includes: ${OGRENEWT_INCLUDE_DIR}&quot;)
+	ENDIF(NOT OGRENEWT_FIND_QUIETLY)
+ELSE(OGRENEWT_FOUND)
+	IF(OgreNewt_FIND_REQUIRED)
+		IF(NOT OGRENEWT_LIBRARY)
+			MESSAGE(SEND_ERROR, &quot;OgreNewt library could not be found.&quot;)
+		ENDIF(NOT OGRENEWT_LIBRARY)
+		IF(NOT OGRENEWT_INCLUDE_DIR)
+			MESSAGE(SEND_ERROR &quot;OgreNewt include files could not be found.&quot;)
+		ENDIF(NOT OGRENEWT_INCLUDE_DIR)
+	ENDIF(OgreNewt_FIND_REQUIRED)
+ENDIF(OGRENEWT_FOUND)
\ No newline at end of file

Added: rl/branches/newton20/cmake/FindOpenSteer.cmake
===================================================================
--- rl/branches/newton20/cmake/FindOpenSteer.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindOpenSteer.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,68 @@
+# Find OpenSteer
+#
+# This module defines
+# OPENSTEER_FOUND       - OpenSteer was found
+# OPENSTEER_INCLUDE_DIR - Directory containing OpenSteer header files
+# OPENSTEER_LIBRARY     - Library name of OpenSteer library
+#
+# Copyright (C) 2003-2009 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+# On a new cmake run, we do not need to be verbose
+IF(OPENSTEER_INCLUDE_DIR AND OPENSTEER_LIBRARY)
+	SET(OPENSTEER_FIND_QUIETLY TRUE)
+ENDIF(OPENSTEER_INCLUDE_DIR AND OPENSTEER_LIBRARY)
+
+IF(WIN32)
+
+ELSE(WIN32)
+	IF(PKG_CONFIG_FOUND)
+		PKG_SEARCH_MODULE(OPENSTEER opensteer)
+		SET(OPENSTEER_INCLUDE_DIR ${OPENSTEER_INCLUDE_DIRS})
+		SET(OPENSTEER_LIBRARY ${OPENSTEER_LIBRARIES})
+	ENDIF(PKG_CONFIG_FOUND)
+	IF(NOT OPENSTEER_FOUND)
+		SET(OPENSTEER_INCLUDE_SEARCH_DIRS
+		    /usr/include
+		    /usr/local/include
+		    /opt/include
+		    /opt/OpenSteer/include)
+		SET(OPENSTEER_LIBRARY_SEARCH_DIRS
+		    /usr/lib
+		    /usr/lib64
+		    /usr/local/lib
+		    /usr/local/lib64
+		    /opt/OpenSteer/lib
+		    /opt/OpenSteer/lib64)
+		SET(OPENSTEER_INC_DIR_SUFFIXES PATH_SUFFIXES OpenSteer)
+		FIND_PATH(OPENSTEER_INCLUDE_DIR SteerLibrary.h
+		          PATHS ${OPENSTEER_INCLUDE_SEARCH_DIRS}
+		          PATH_SUFFIXES ${OPENSTEER_INC_DIR_SUFFIXES})
+		FIND_LIBRARY(OPENSTEER_LIBRARY OPENSTEER
+		             PATHS ${OPENSTEER_LIBRARY_SEARCH_DIRS}
+		             PATH_SUFFIXES ${OPENSTEER_LIB_DIR_SUFFIXES}})
+	ENDIF(NOT OPENSTEER_FOUND)
+ENDIF(WIN32)
+
+SET(OPENSTEER_INCLUDE_DIR ${OPENSTEER_INCLUDE_DIR} CACHE STRING &quot;Directory containing OpenSteer header files&quot;)
+SET(OPENSTEER_LIBRARY ${OPENSTEER_LIBRARY} CACHE STRING &quot;Library name of OpenSteer library&quot;)
+
+IF(OPENSTEER_INCLUDE_DIR AND OPENSTEER_LIBRARY)
+	SET(OPENSTEER_FOUND TRUE)
+ENDIF(OPENSTEER_INCLUDE_DIR AND OPENSTEER_LIBRARY)
+
+IF(OPENSTEER_FOUND)
+	IF(NOT OPENSTEER_FIND_QUIETLY)
+		MESSAGE(STATUS &quot;  libraries: ${OPENSTEER_LIBRARY} from ${OPENSTEER_LIBRARY_DIRS}&quot;)
+		MESSAGE(STATUS &quot;  includes: ${OPENSTEER_INCLUDE_DIR}&quot;)
+	ENDIF(NOT OPENSTEER_FIND_QUIETLY)
+ELSE(OPENSTEER_FOUND)
+	IF(NOT OPENSTEER_LIBRARY)
+		MESSAGE(SEND_ERROR, &quot;OpenSteer library could not be found.&quot;)
+	ENDIF(NOT OPENSTEER_LIBRARY)
+	IF(NOT OPENSTEER_INCLUDE_DIR)
+		MESSAGE(SEND_ERROR &quot;OpenSteer include files could not be found.&quot;)
+	ENDIF(NOT OPENSTEER_INCLUDE_DIR)
+ENDIF(OPENSTEER_FOUND)
\ No newline at end of file

Added: rl/branches/newton20/cmake/FindXercesC.cmake
===================================================================
--- rl/branches/newton20/cmake/FindXercesC.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/FindXercesC.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,32 @@
+# - Find Xerces-C
+# Find the Xerces-C includes and library
+#
+#  XERCESC_INCLUDE_DIR - Where to find xercesc include sub-directory.
+#  XERCESC_LIBRARIES   - List of libraries when using Xerces-C.
+#  XERCESC_FOUND       - True if Xerces-C found.
+
+IF (XERCESC_INCLUDE_DIR)
+  # Already in cache, be silent.
+  SET(XERCESC_FIND_QUIETLY TRUE)
+ENDIF (XERCESC_INCLUDE_DIR)
+
+FIND_PATH(XERCESC_INCLUDE_DIR xercesc)
+
+SET(XERCESC_NAMES xerces-c xerces-c_2)
+FIND_LIBRARY(XERCESC_LIBRARY NAMES ${XERCESC_NAMES} )
+
+# Handle the QUIETLY and REQUIRED arguments and set XERCESC_FOUND to
+# TRUE if all listed variables are TRUE.
+INCLUDE(FindPackageHandleStandardArgs)
+FIND_PACKAGE_HANDLE_STANDARD_ARGS(
+  XERCESC DEFAULT_MSG
+  XERCESC_LIBRARY XERCESC_INCLUDE_DIR
+)
+
+IF(XERCESC_FOUND)
+  SET( XERCESC_LIBRARIES ${XERCESC_LIBRARY} )
+ELSE(XERCESC_FOUND)
+  SET( XERCESC_LIBRARIES )
+ENDIF(XERCESC_FOUND)
+
+MARK_AS_ADVANCED( XERCESC_LIBRARY XERCESC_INCLUDE_DIR )

Added: rl/branches/newton20/cmake/UseSWIG.cmake
===================================================================
--- rl/branches/newton20/cmake/UseSWIG.cmake	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/cmake/UseSWIG.cmake	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,206 @@
+# - SWIG module for CMake
+# Defines the following macros:
+#   SWIG_ADD_MODULE(name language [ files ])
+#     - Define swig module with given name and specified language
+#   SWIG_LINK_LIBRARIES(name [ libraries ])
+#     - Link libraries to swig module
+# All other macros are for internal use only.
+# To get the actual name of the swig module,
+# use: ${SWIG_MODULE_name_REAL_NAME}.
+# Set Source files properties such as CPLUSPLUS and SWIG_FLAGS to specify
+# special behavior of SWIG. Also global CMAKE_SWIG_FLAGS can be used to add
+# special flags to all swig calls.
+# Another special variable is CMAKE_SWIG_OUTDIR, it allows one to specify
+# where to write all the swig generated module (swig -outdir option)
+# The name-specific variable SWIG_MODULE_&lt;name&gt;_EXTRA_DEPS may be used
+# to specify extra dependencies for the generated modules.
+#
+# This version was adapted to satisfy the special requirements of the Ruby
+# bindings for Rastullah. It is not identical to the included UseSWIG.cmake
+# file, which is bundeled with cmake.
+
+SET(SWIG_CXX_EXTENSION &quot;cxx&quot;)
+SET(SWIG_EXTRA_LIBRARIES &quot;&quot;)
+
+SET(SWIG_PYTHON_EXTRA_FILE_EXTENSION &quot;py&quot;)
+
+#
+# For given swig module initialize variables associated with it
+#
+MACRO(SWIG_MODULE_INITIALIZE name language)
+  STRING(TOUPPER &quot;${language}&quot; swig_uppercase_language)
+  STRING(TOLOWER &quot;${language}&quot; swig_lowercase_language)
+  SET(SWIG_MODULE_${name}_LANGUAGE &quot;${swig_uppercase_language}&quot;)
+  SET(SWIG_MODULE_${name}_SWIG_LANGUAGE_FLAG &quot;${swig_lowercase_language}&quot;)
+
+  IF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xUNKNOWNx$&quot;)
+    MESSAGE(FATAL_ERROR &quot;SWIG Error: Language \&quot;${language}\&quot; not found&quot;)
+  ENDIF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xUNKNOWNx$&quot;)
+
+  SET(SWIG_MODULE_${name}_REAL_NAME &quot;${name}&quot;)
+  IF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xPYTHONx$&quot;)
+    SET(SWIG_MODULE_${name}_REAL_NAME &quot;_${name}&quot;)
+  ENDIF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xPYTHONx$&quot;)
+  IF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xPERLx$&quot;)
+    SET(SWIG_MODULE_${name}_EXTRA_FLAGS &quot;-shadow&quot;)
+  ENDIF(&quot;x${SWIG_MODULE_${name}_LANGUAGE}x&quot; MATCHES &quot;^xPERLx$&quot;)
+ENDMACRO(SWIG_MODULE_INITIALIZE)
+
+#
+# For a given language, input file, and output file, determine extra files that
+# will be generated. This is internal swig macro.
+#
+
+MACRO(SWIG_GET_EXTRA_OUTPUT_FILES language outfiles generatedpath infile)
+  GET_SOURCE_FILE_PROPERTY(SWIG_GET_EXTRA_OUTPUT_FILES_module_basename
+    ${infile} SWIG_MODULE_NAME)
+  IF(SWIG_GET_EXTRA_OUTPUT_FILES_module_basename STREQUAL &quot;NOTFOUND&quot;)
+    GET_FILENAME_COMPONENT(SWIG_GET_EXTRA_OUTPUT_FILES_module_basename &quot;${infile}&quot; NAME_WE)
+  ENDIF(SWIG_GET_EXTRA_OUTPUT_FILES_module_basename STREQUAL &quot;NOTFOUND&quot;)
+  FOREACH(it ${SWIG_${language}_EXTRA_FILE_EXTENSION})
+    SET(${outfiles} ${${outfiles}}
+      &quot;${generatedpath}/${SWIG_GET_EXTRA_OUTPUT_FILES_module_basename}.${it}&quot;)
+  ENDFOREACH(it)
+ENDMACRO(SWIG_GET_EXTRA_OUTPUT_FILES)
+
+#
+# Take swig (*.i) file and add proper custom commands for it
+#
+MACRO(SWIG_ADD_SOURCE_TO_MODULE name outfiles infile)
+  SET(swig_full_infile ${infile})
+  GET_FILENAME_COMPONENT(swig_source_file_path &quot;${infile}&quot; PATH)
+  GET_FILENAME_COMPONENT(swig_source_file_name_we &quot;${infile}&quot; NAME_WE)
+  GET_SOURCE_FILE_PROPERTY(swig_source_file_generated ${infile} GENERATED)
+  GET_SOURCE_FILE_PROPERTY(swig_source_file_cplusplus ${infile} CPLUSPLUS)
+  GET_SOURCE_FILE_PROPERTY(swig_source_file_flags ${infile} SWIG_FLAGS)
+  IF(&quot;${swig_source_file_flags}&quot; STREQUAL &quot;NOTFOUND&quot;)
+    SET(swig_source_file_flags &quot;&quot;)
+  ENDIF(&quot;${swig_source_file_flags}&quot; STREQUAL &quot;NOTFOUND&quot;)
+  SET(swig_source_file_fullname &quot;${infile}&quot;)
+  IF(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_SOURCE_DIR}&quot;)
+    STRING(REGEX REPLACE
+      &quot;^${CMAKE_CURRENT_SOURCE_DIR}&quot; &quot;&quot;
+      swig_source_file_relative_path
+      &quot;${swig_source_file_path}&quot;)
+  ELSE(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_SOURCE_DIR}&quot;)
+    IF(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_BINARY_DIR}&quot;)
+      STRING(REGEX REPLACE
+        &quot;^${CMAKE_CURRENT_BINARY_DIR}&quot; &quot;&quot;
+        swig_source_file_relative_path
+        &quot;${swig_source_file_path}&quot;)
+      SET(swig_source_file_generated 1)
+    ELSE(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_BINARY_DIR}&quot;)
+      SET(swig_source_file_relative_path &quot;${swig_source_file_path}&quot;)
+      IF(swig_source_file_generated)
+        SET(swig_source_file_fullname &quot;${CMAKE_CURRENT_BINARY_DIR}/${infile}&quot;)
+      ELSE(swig_source_file_generated)
+        SET(swig_source_file_fullname &quot;${CMAKE_CURRENT_SOURCE_DIR}/${infile}&quot;)
+      ENDIF(swig_source_file_generated)
+    ENDIF(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_BINARY_DIR}&quot;)
+  ENDIF(${swig_source_file_path} MATCHES &quot;^${CMAKE_CURRENT_SOURCE_DIR}&quot;)
+
+  SET(swig_generated_file_fullname
+    &quot;${CMAKE_CURRENT_BINARY_DIR}&quot;)
+  IF(swig_source_file_relative_path)
+    SET(swig_generated_file_fullname
+      &quot;${swig_generated_file_fullname}/${swig_source_file_relative_path}&quot;)
+  ENDIF(swig_source_file_relative_path)
+  # If CMAKE_SWIG_OUTDIR was specified then pass it to -outdir
+  IF(CMAKE_SWIG_OUTDIR)
+    SET(swig_outdir ${CMAKE_SWIG_OUTDIR})
+  ELSE(CMAKE_SWIG_OUTDIR)
+    SET(swig_outdir ${CMAKE_CURRENT_BINARY_DIR})
+  ENDIF(CMAKE_SWIG_OUTDIR)
+  SWIG_GET_EXTRA_OUTPUT_FILES(${SWIG_MODULE_${name}_LANGUAGE}
+    swig_extra_generated_files
+    &quot;${swig_outdir}&quot;
+    &quot;${infile}&quot;)
+  # add the language into the name of the file (i.e. TCL_wrap)
+  # this allows for the same .i file to be wrapped into different languages
+  SET(swig_generated_file_fullname
+    &quot;${swig_source_file_name_we}${SWIG_MODULE_${name}_LANGUAGE}_wrap&quot;)
+
+  IF(swig_source_file_cplusplus)
+    SET(swig_generated_file_fullname
+      &quot;${swig_generated_file_fullname}.${SWIG_CXX_EXTENSION}&quot;)
+  ELSE(swig_source_file_cplusplus)
+    SET(swig_generated_file_fullname
+      &quot;${swig_generated_file_fullname}.c&quot;)
+  ENDIF(swig_source_file_cplusplus)
+
+  #MESSAGE(&quot;Full path to source file: ${swig_source_file_fullname}&quot;)
+  #MESSAGE(&quot;Full path to the output file: ${swig_generated_file_fullname}&quot;)
+  GET_DIRECTORY_PROPERTY(cmake_include_directories INCLUDE_DIRECTORIES)
+  SET(swig_include_dirs)
+  FOREACH(it ${cmake_include_directories})
+    SET(swig_include_dirs ${swig_include_dirs} &quot;-I${it}&quot;)
+  ENDFOREACH(it)
+
+  SET(swig_special_flags)
+  # default is c, so add c++ flag if it is c++
+  IF(swig_source_file_cplusplus)
+    SET(swig_special_flags ${swig_special_flags} &quot;-c++&quot;)
+  ENDIF(swig_source_file_cplusplus)
+  SET(swig_extra_flags)
+  IF(SWIG_MODULE_${name}_EXTRA_FLAGS)
+    SET(swig_extra_flags ${swig_extra_flags} ${SWIG_MODULE_${name}_EXTRA_FLAGS})
+  ENDIF(SWIG_MODULE_${name}_EXTRA_FLAGS)
+  ADD_CUSTOM_COMMAND(
+    OUTPUT &quot;${swig_generated_file_fullname}&quot; ${swig_extra_generated_files}
+    COMMAND &quot;${SWIG_EXECUTABLE}&quot;
+    ARGS &quot;-${SWIG_MODULE_${name}_SWIG_LANGUAGE_FLAG}&quot;
+    ${swig_source_file_flags}
+    ${CMAKE_SWIG_FLAGS}
+    -outdir ${swig_outdir}
+    ${swig_special_flags}
+    ${swig_extra_flags}
+    ${swig_include_dirs}
+    -o &quot;${swig_generated_file_fullname}&quot;
+    &quot;${swig_source_file_fullname}&quot;
+    MAIN_DEPENDENCY &quot;${swig_source_file_fullname}&quot;
+    DEPENDS ${SWIG_MODULE_${name}_EXTRA_DEPS}
+    COMMENT &quot;Swig source&quot;)
+  SET_SOURCE_FILES_PROPERTIES(&quot;${swig_generated_file_fullname}&quot; ${swig_extra_generated_files}
+    PROPERTIES GENERATED 1)
+  SET(${outfiles} &quot;${swig_generated_file_fullname}&quot; ${swig_extra_generated_files})
+ENDMACRO(SWIG_ADD_SOURCE_TO_MODULE)
+
+#
+# Create Swig module
+#
+MACRO(SWIG_ADD_MODULE name language)
+  SWIG_MODULE_INITIALIZE(${name} ${language})
+  SET(swig_dot_i_sources)
+  SET(swig_other_sources)
+  FOREACH(it ${ARGN})
+    IF(${it} MATCHES &quot;.*\\.i$&quot;)
+      SET(swig_dot_i_sources ${swig_dot_i_sources} &quot;${it}&quot;)
+    ELSE(${it} MATCHES &quot;.*\\.i$&quot;)
+      SET(swig_other_sources ${swig_other_sources} &quot;${it}&quot;)
+    ENDIF(${it} MATCHES &quot;.*\\.i$&quot;)
+  ENDFOREACH(it)
+
+  SET(swig_generated_sources)
+  FOREACH(it ${swig_dot_i_sources})
+    SWIG_ADD_SOURCE_TO_MODULE(${name} swig_generated_source ${it})
+    SET(swig_generated_sources ${swig_generated_sources} &quot;${swig_generated_source}&quot;)
+  ENDFOREACH(it)
+  GET_DIRECTORY_PROPERTY(swig_extra_clean_files ADDITIONAL_MAKE_CLEAN_FILES)
+  SET_DIRECTORY_PROPERTIES(PROPERTIES
+    ADDITIONAL_MAKE_CLEAN_FILES &quot;${swig_extra_clean_files};${swig_generated_sources}&quot;)
+  ADD_LIBRARY(${SWIG_MODULE_${name}_REAL_NAME}
+    SHARED
+    ${swig_generated_sources}
+    ${swig_other_sources})
+ENDMACRO(SWIG_ADD_MODULE)
+
+#
+# Like TARGET_LINK_LIBRARIES but for swig modules
+#
+MACRO(SWIG_LINK_LIBRARIES name)
+  IF(SWIG_MODULE_${name}_REAL_NAME)
+    TARGET_LINK_LIBRARIES(${SWIG_MODULE_${name}_REAL_NAME} ${ARGN})
+  ELSE(SWIG_MODULE_${name}_REAL_NAME)
+    MESSAGE(SEND_ERROR &quot;Cannot find Swig library \&quot;${name}\&quot;.&quot;)
+  ENDIF(SWIG_MODULE_${name}_REAL_NAME)
+ENDMACRO(SWIG_LINK_LIBRARIES name)

Added: rl/branches/newton20/engine/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,10 @@
+# Library directories
+ADD_SUBDIRECTORY(common)
+ADD_SUBDIRECTORY(ai)
+ADD_SUBDIRECTORY(ui)
+ADD_SUBDIRECTORY(core)
+ADD_SUBDIRECTORY(rules)
+ADD_SUBDIRECTORY(script)
+
+# Main program directory
+ADD_SUBDIRECTORY(startup)
\ No newline at end of file

Modified: rl/branches/newton20/engine/ai/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/ai/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/ai/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -5,7 +5,8 @@
 ${RL_RULES_INCLUDE_DIR}
 ${OGRE_INCLUDE_DIRS}
 ${CEGUI_INCLUDE_DIRS}
-${OGRENEWT_INCLUDE_DIRS})
+${OGRENEWT_INCLUDE_DIRS}
+${OPENSTEER_INCLUDE_DIR})
 
 SET(RlAi_LIB_SRCS
 src/Agent.cpp
@@ -26,6 +27,7 @@
 src/DialogElement.cpp
 src/DialogImplication.cpp
 src/DialogLoader.cpp
+src/DialogLoaderImpl.cpp
 src/DialogManager.cpp
 src/DialogOption.cpp
 src/DialogParagraph.cpp
@@ -45,9 +47,11 @@
 
 ADD_LIBRARY(RlAi SHARED ${RlAi_LIB_SRCS})
 
-TARGET_LINK_LIBRARIES(RlAi ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${OGRENEWT_LIBRARIES})
+TARGET_LINK_LIBRARIES(RlAi ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${OGRENEWT_LIBRARIES} ${OPENSTEER_LIBRARY})
 
 SET_TARGET_PROPERTIES(RlAi PROPERTIES
 	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
 	SOVERSION ${RL_MAJOR_VERSION}
-	DEFINE_SYMBOL RLAI_EXPORTS)
\ No newline at end of file
+	DEFINE_SYMBOL RLAI_EXPORTS)
+
+INSTALL(TARGETS RlAi LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file

Modified: rl/branches/newton20/engine/ai/include/DialogLoaderImpl.h
===================================================================
--- rl/branches/newton20/engine/ai/include/DialogLoaderImpl.h	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/ai/include/DialogLoaderImpl.h	2009-01-03 21:22:24 UTC (rev 4669)
@@ -76,4 +76,5 @@
         std::map&lt;Ogre::String, DialogPrototype*&gt; mDialogs;
 
     };
-}
\ No newline at end of file
+}
+

Modified: rl/branches/newton20/engine/common/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/common/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/common/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -1,5 +1,6 @@
 INCLUDE_DIRECTORIES(
 ${CMAKE_CURRENT_SOURCE_DIR}/include
+${XERCESC_INCLUDE_DIR}
 ${OGRE_INCLUDE_DIRS}
 ${CEGUI_INCLUDE_DIRS})
 
@@ -25,9 +26,11 @@
 
 ADD_LIBRARY(RlCommon SHARED ${RlCommon_LIB_SRCS})
 
-TARGET_LINK_LIBRARIES(RlCommon ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES})
+TARGET_LINK_LIBRARIES(RlCommon ${XERCESC_LIBRARIES} ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${Boost_FILESYSTEM_LIBRARY})
 
 SET_TARGET_PROPERTIES(RlCommon PROPERTIES
 	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
 	SOVERSION ${RL_MAJOR_VERSION}
-	DEFINE_SYMBOL RLCOMMON_EXPORTS)
\ No newline at end of file
+	DEFINE_SYMBOL RLCOMMON_EXPORTS)
+
+INSTALL(TARGETS RlCommon LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/core/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -1,9 +1,12 @@
 INCLUDE_DIRECTORIES(
 ${CMAKE_CURRENT_SOURCE_DIR}/include
+${CMAKE_CURRENT_SOURCE_DIR}/include/nulldriver
 ${RL_COMMON_INCLUDE_DIR}
 ${OGRE_INCLUDE_DIRS}
 ${CEGUI_INCLUDE_DIRS}
-${OGRENEWT_INCLUDE_DIRS})
+${OGRENEWT_INCLUDE_DIR}
+${MESHMAGICK_INCLUDE_DIR}
+${RUBY_INCLUDE_PATH})
 
 SET(RlCore_LIB_SRCS
 src/Actor.cpp
@@ -84,11 +87,15 @@
 src/nulldriver/NullSound.cpp
 src/nulldriver/NullSoundStitching.cpp)
 
+ADD_DEFINITIONS(-DRL_MODULEDIR=&quot;${DATAROOTDIR}/${DATADIRNAME}&quot;)
+
 ADD_LIBRARY(RlCore SHARED ${RlCore_LIB_SRCS})
 
-#TARGET_LINK_LIBRARIES(RlCore ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES})
+TARGET_LINK_LIBRARIES(RlCore ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${OGRENEWT_LIBRARY} ${MESHMAGICK_LIBRARY} ${OIS_LIBRARIES} ${RUBY_LIBRARY})
 
 SET_TARGET_PROPERTIES(RlCore PROPERTIES
 	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
 	SOVERSION ${RL_MAJOR_VERSION}
-	DEFINE_SYMBOL RLCORE_EXPORTS)
\ No newline at end of file
+	DEFINE_SYMBOL RLCORE_EXPORTS)
+
+INSTALL(TARGETS RlCore LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/include/SaveAble.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAble.h	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/include/SaveAble.h	2009-01-03 21:22:24 UTC (rev 4669)
@@ -55,4 +55,5 @@
 }
 
 
-#endif
\ No newline at end of file
+#endif
+

Modified: rl/branches/newton20/engine/core/include/SaveAbleCollection.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleCollection.h	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/include/SaveAbleCollection.h	2009-01-03 21:22:24 UTC (rev 4669)
@@ -31,4 +31,5 @@
 		Ogre::String mId;
 	};
 
-}
\ No newline at end of file
+}
+

Modified: rl/branches/newton20/engine/core/include/SaveAbleFactory.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleFactory.h	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/include/SaveAbleFactory.h	2009-01-03 21:22:24 UTC (rev 4669)
@@ -41,3 +41,4 @@
 }
 
 #endif
+

Modified: rl/branches/newton20/engine/core/include/SaveAbleManager.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleManager.h	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/include/SaveAbleManager.h	2009-01-03 21:22:24 UTC (rev 4669)
@@ -41,4 +41,5 @@
 	};
 }
 
-#endif
\ No newline at end of file
+#endif
+

Modified: rl/branches/newton20/engine/core/src/SaveAble.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAble.cpp	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/src/SaveAble.cpp	2009-01-03 21:22:24 UTC (rev 4669)
@@ -55,4 +55,5 @@
 	{
 		return mId;
 	}
-}
\ No newline at end of file
+}
+

Modified: rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp	2009-01-03 21:22:24 UTC (rev 4669)
@@ -16,4 +16,5 @@
 
 #include &quot;stdinc.h&quot;
 
-#include &quot;SaveAbleCollection.h&quot;
\ No newline at end of file
+#include &quot;SaveAbleCollection.h&quot;
+

Modified: rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp	2009-01-03 21:22:24 UTC (rev 4669)
@@ -16,4 +16,5 @@
 
 #include &quot;stdinc.h&quot;
 
-#include &quot;SaveAbleFactory.h&quot;
\ No newline at end of file
+#include &quot;SaveAbleFactory.h&quot;
+

Modified: rl/branches/newton20/engine/core/src/SaveAbleManager.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleManager.cpp	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/core/src/SaveAbleManager.cpp	2009-01-03 21:22:24 UTC (rev 4669)
@@ -16,4 +16,5 @@
 
 #include &quot;stdinc.h&quot;
 
-#include &quot;SaveAbleManager.h&quot;
\ No newline at end of file
+#include &quot;SaveAbleManager.h&quot;
+

Added: rl/branches/newton20/engine/rules/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/rules/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/rules/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,86 @@
+INCLUDE_DIRECTORIES(
+${CMAKE_CURRENT_SOURCE_DIR}/include
+${RL_COMMON_INCLUDE_DIR}
+${RL_CORE_INCLUDE_DIR}
+${OGRE_INCLUDE_DIRS}
+${CEGUI_INCLUDE_DIRS}
+${OGRENEWT_INCLUDE_DIR})
+
+SET(RlRules_LIB_SRCS
+src/Action.cpp
+src/ActionManager.cpp
+src/ApplyDamageJob.cpp
+src/Armor.cpp
+src/Combat.cpp
+src/Combatant.cpp
+src/CombatManager.cpp
+src/Container.cpp
+src/Creature.cpp
+src/CreatureController.cpp
+src/CreatureControllerManager.cpp
+src/Date.cpp
+src/DsaDataLoader.cpp
+src/DsaManager.cpp
+src/Effect.cpp
+src/EffectFactory.cpp
+src/EffectManagementTask.cpp
+src/EffectManager.cpp
+src/Eigenschaft.cpp
+src/EigenschaftenStateSet.cpp
+src/GameEventLog.cpp
+src/GameObject.cpp
+src/GameObjectManager.cpp
+src/GameTimeSource.cpp
+src/GlobalProperties.cpp
+src/GoToJob.cpp
+src/FetchItemJob.cpp
+src/Item.cpp
+src/Inventory.cpp
+src/JournalEntry.cpp
+src/Kampfaktion.cpp
+src/Kampftechnik.cpp
+src/ObjectStateChangeEvent.cpp
+src/ObjectStateChangeEventSource.cpp
+src/ObjectStateChangeListener.cpp
+src/PartyManager.cpp
+src/Quest.cpp
+src/QuestBook.cpp
+src/QuestEvent.cpp
+src/QuestListener.cpp
+src/RulesSubsystem.cpp
+src/SelectionHelper.cpp
+src/Selector.cpp
+src/Slot.cpp
+src/SonderfertigkeitenStateSet.cpp
+src/StateSet.cpp
+src/Talent.cpp
+src/Talentgruppe.cpp
+src/TalentStateSet.cpp
+src/WaitJob.cpp
+src/Weapon.cpp
+src/ZauberStateSet.cpp
+src/FallDownMovement.cpp
+src/JogFastMovement.cpp
+src/JogMovement.cpp
+src/JumpHighMovement.cpp
+src/JumpLongMovement.cpp
+src/JumpToTargetMovement.cpp
+src/LieDownMovement.cpp
+src/RotateMovement.cpp
+src/SneakMovement.cpp
+src/SprintMovement.cpp
+src/StandAroundMovement.cpp
+src/StepRecognitionMovement.cpp
+src/StrafeMovement.cpp
+src/WalkMovement.cpp)
+
+ADD_LIBRARY(RlRules SHARED ${RlRules_LIB_SRCS})
+
+TARGET_LINK_LIBRARIES(RlRules ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${OGRENEWT_LIBRARY})
+
+SET_TARGET_PROPERTIES(RlRules PROPERTIES
+	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
+	SOVERSION ${RL_MAJOR_VERSION}
+	DEFINE_SYMBOL RLRULES_EXPORTS)
+
+INSTALL(TARGETS RlRules LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file

Added: rl/branches/newton20/engine/script/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/script/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/script/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,51 @@
+# Include required cmake macros
+INCLUDE(UseSWIG)
+
+INCLUDE_DIRECTORIES(
+${CMAKE_CURRENT_SOURCE_DIR}/include
+${RL_COMMON_INCLUDE_DIR}
+${RL_CORE_INCLUDE_DIR}
+${RL_RULES_INCLUDE_DIR}
+${RL_AI_INCLUDE_DIR}
+${RL_UI_INCLUDE_DIR}
+${OGRE_INCLUDE_DIRS}
+${CEGUI_INCLUDE_DIRS}
+${OGRENEWT_INCLUDE_DIR}
+${OIS_INCLUDE_DIRS}
+${RUBY_INCLUDE_PATH})
+
+SET_SOURCE_FILES_PROPERTIES(swig/RlExports.i PROPERTIES CPLUSPLUS ON)
+
+SWIG_ADD_MODULE(RlScript RUBY
+swig/RlExports.i
+src/AbstractMapNodeProcessor.cpp
+src/EntityNodeProcessor.cpp
+src/EnvironmentProcessor.cpp
+src/GameObjectNodeProcessor.cpp
+src/LightNodeProcessor.cpp
+src/MapLoader.cpp
+src/ParticleSystemNodeProcessor.cpp
+src/PlaneNodeProcessor.cpp
+src/Scene.cpp
+src/SceneLoader.cpp
+src/SceneManager.cpp
+src/ScriptSubsystem.cpp
+src/ScriptObjectMarker.cpp
+src/SoundNodeProcessor.cpp
+src/TriggerFactory.cpp
+src/WaypointProcessor.cpp
+src/ZoneProcessor.cpp)
+
+SWIG_LINK_LIBRARIES(RlScript ${OGRE_LIBRARIES} ${CEGUI_LIBRARIES} ${OGRENEWT_LIBRARY} ${OIS_LIBRARIES} ${RUBY_LIBRARY})
+
+SET_TARGET_PROPERTIES(RlScript PROPERTIES
+	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
+	SOVERSION ${RL_MAJOR_VERSION}
+	DEFINE_SYMBOL RLSCRIPT_EXPORTS)
+
+IF(NOT WIN32)
+	SET_TARGET_PROPERTIES(RlScript PROPERTIES
+		LINK_FLAGS &quot;-Wl,--defsym -Wl,Init_libRlScript=Init_RlScript&quot;)
+ENDIF(NOT WIN32)
+
+INSTALL(TARGETS RlScript LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file

Modified: rl/branches/newton20/engine/script/src/Scene.cpp
===================================================================
--- rl/branches/newton20/engine/script/src/Scene.cpp	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/script/src/Scene.cpp	2009-01-03 21:22:24 UTC (rev 4669)
@@ -125,4 +125,5 @@
     return keys;
 }
 
-}
\ No newline at end of file
+}
+

Added: rl/branches/newton20/engine/startup/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/startup/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/startup/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,20 @@
+INCLUDE_DIRECTORIES(
+${RL_COMMON_INCLUDE_DIR}
+${RL_CORE_INCLUDE_DIR}
+${RL_RULES_INCLUDE_DIR}
+${RL_AI_INCLUDE_DIR}
+${RL_UI_INCLUDE_DIR}
+${RL_SCRIPT_INCLUDE_DIR}
+${OGRE_INCLUDE_DIRS}
+${CEGUI_INCLUDE_DIRS}
+${OGRENEWT_INCLUDE_DIR}
+${OIS_INCLUDE_DIRS})
+
+SET(Rastullah_APP_SRCS
+src/RastullahMain.cpp)
+
+ADD_EXECUTABLE(rastullah ${Rastullah_APP_SRCS})
+
+TARGET_LINK_LIBRARIES(rastullah RlCommon RlCore RlRules RlAi RlUi RlScript)
+
+INSTALL(TARGETS rastullah RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX}/${BINDIR})
\ No newline at end of file

Added: rl/branches/newton20/engine/ui/CMakeLists.txt
===================================================================
--- rl/branches/newton20/engine/ui/CMakeLists.txt	2009-01-03 21:08:37 UTC (rev 4668)
+++ rl/branches/newton20/engine/ui/CMakeLists.txt	2009-01-03 21:22:24 UTC (rev 4669)
@@ -0,0 +1,77 @@
+INCLUDE_DIRECTORIES(
+${CMAKE_CURRENT_SOURCE_DIR}/include
+${RL_COMMON_INCLUDE_DIR}
+${RL_CORE_INCLUDE_DIR}
+${RL_RULES_INCLUDE_DIR}
+${RL_AI_INCLUDE_DIR}
+${OGRE_INCLUDE_DIRS}
+${OIS_INCLUDE_DIRS}
+${CEGUI_INCLUDE_DIRS}
+${CEGUIOGRE_INCLUDE_DIR}
+${OGRENEWT_INCLUDE_DIR}
+${RUBY_INCLUDE_PATH})
+
+SET(RlUi_LIB_SRCS
+src/AboutWindow.cpp
+src/ActionChoiceWindow.cpp
+src/AbstractWindow.cpp
+src/CharacterSelectionWindow.cpp
+src/CharacterSheetWindow.cpp
+src/CharacterStateWindow.cpp
+src/CloseConfirmationWindow.cpp
+src/CombatControlState.cpp
+src/CombatGui.cpp
+src/CombatWindow.cpp
+src/CommandMapper.cpp
+src/ConfigComponent.cpp
+src/ContainerContentWindow.cpp
+src/ControlState.cpp
+src/Console.cpp
+src/CutsceneControlState.cpp
+src/DebugWindow.cpp
+src/DialogControlState.cpp
+src/DialogWindow.cpp
+src/FreeflightControlState.cpp
+src/GameLoggerWindow.cpp
+src/GameObjectInfoWindow.cpp
+src/GameOverWindow.cpp
+src/GameSaveLoadWindow.cpp
+src/GameSettings.cpp
+src/InfoPopup.cpp
+src/InGameMenuWindow.cpp
+src/InputManager.cpp
+src/InventoryWindow.cpp
+src/ItemDragContainer.cpp
+src/ItemDescriptionDragContainer.cpp
+src/ItemIconDragContainer.cpp
+src/JournalWindow.cpp
+src/ListboxWrappedTextItem.cpp
+src/LogWindow.cpp
+src/MainMenuWindow.cpp
+src/MainMenuEngineWindow.cpp
+src/MainMenuLoadWindow.cpp
+src/MessageWindow.cpp
+src/MovementControlState.cpp
+src/ObjectDescriptionWindow.cpp
+src/PlaylistWindow.cpp
+src/ProgressWindow.cpp
+src/PropertiesWindow.cpp
+src/RenderSystemConfigComponent.cpp
+src/SoundConfig.cpp
+src/SoundDriverConfigComponent.cpp
+src/SubtitleWindow.cpp
+src/UiSubsystem.cpp
+src/WindowFactory.cpp
+src/WindowFadeJob.cpp
+src/WindowManager.cpp)
+
+ADD_LIBRARY(RlUi SHARED ${RlUi_LIB_SRCS})
+
+TARGET_LINK_LIBRARIES(RlUi ${OGRE_LIBRARIES} ${OIS_LIBRARIES} ${CEGUI_LIBRARIES} ${CEGUIOGRE_LIBRARY} ${OGRENEWT_LIBRARY} ${RUBY_LIBRARY})
+
+SET_TARGET_PROPERTIES(RlUi PROPERTIES
+	VERSION ${RL_MAJOR_VERSION}.${RL_MINOR_VERSION}.${RL_PATCH_VERSION}
+	SOVERSION ${RL_MAJOR_VERSION}
+	DEFINE_SYMBOL RLRULES_EXPORTS)
+
+INSTALL(TARGETS RlUi LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001725.html">[Dsa-hl-svn] r4668 - in rl/trunk: . cmake
</A></li>
	<LI>Next message: <A HREF="001727.html">[Dsa-hl-svn] r4670 - in rl/branches/newton20: cmake engine/ui	plugins plugins/fmod4driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1726">[ date ]</a>
              <a href="thread.html#1726">[ thread ]</a>
              <a href="subject.html#1726">[ subject ]</a>
              <a href="author.html#1726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
