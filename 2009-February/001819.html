<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4762 - in rl/trunk/editors/Lockenwickler: .	_eric4project src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4762%20-%20in%20rl/trunk/editors/Lockenwickler%3A%20.%0A%09_eric4project%20src&In-Reply-To=%3C200902102045.n1AKjrkb005246%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001818.html">
   <LINK REL="Next"  HREF="001820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4762 - in rl/trunk/editors/Lockenwickler: .	_eric4project src</H1>
    <B>fusion2 at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4762%20-%20in%20rl/trunk/editors/Lockenwickler%3A%20.%0A%09_eric4project%20src&In-Reply-To=%3C200902102045.n1AKjrkb005246%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4762 - in rl/trunk/editors/Lockenwickler: .	_eric4project src">fusion2 at mail.berlios.de
       </A><BR>
    <I>Tue Feb 10 21:45:53 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001818.html">[Dsa-hl-svn] r4761 - rl/trunk
</A></li>
        <LI>Next message: <A HREF="001820.html">[Dsa-hl-svn] r4763 - in rl/branches/persistence2:	Mac/Rastullah.xcodeproj Mac/tools engine/common/include	engine/common/src engine/core/src engine/script/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1819">[ date ]</a>
              <a href="thread.html#1819">[ thread ]</a>
              <a href="subject.html#1819">[ subject ]</a>
              <a href="author.html#1819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fusion2
Date: 2009-02-10 21:45:46 +0100 (Tue, 10 Feb 2009)
New Revision: 4762

Modified:
   rl/trunk/editors/Lockenwickler/Lockenwickler.e4p
   rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4q
   rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4t
   rl/trunk/editors/Lockenwickler/src/Lockenwickler.py
   rl/trunk/editors/Lockenwickler/src/ModuleExplorer.py
   rl/trunk/editors/Lockenwickler/src/ModuleManager.py
   rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py
Log:
- Property Window now shows properties
- Changed how objects are created

Modified: rl/trunk/editors/Lockenwickler/Lockenwickler.e4p
===================================================================
--- rl/trunk/editors/Lockenwickler/Lockenwickler.e4p	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/Lockenwickler.e4p	2009-02-10 20:45:46 UTC (rev 4762)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;!DOCTYPE Project SYSTEM &quot;Project-4.6.dtd&quot;&gt;
 &lt;!-- eric4 project file for project Lockenwickler --&gt;
-&lt;!-- Saved: 2009-02-09, 18:57:06 --&gt;
+&lt;!-- Saved: 2009-02-10, 21:36:41 --&gt;
 &lt;!-- Copyright (C) 2009 Stefan Stammberger, <A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A> --&gt;
 &lt;Project version=&quot;4.6&quot;&gt;
   &lt;Language&gt;en&lt;/Language&gt;

Modified: rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4q
===================================================================
--- rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4q	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4q	2009-02-10 20:45:46 UTC (rev 4762)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;!DOCTYPE UserProject SYSTEM &quot;UserProject-4.0.dtd&quot;&gt;
 &lt;!-- eric4 user project file for project Lockenwickler --&gt;
-&lt;!-- Saved: 2009-02-09, 18:57:06 --&gt;
+&lt;!-- Saved: 2009-02-10, 21:36:41 --&gt;
 &lt;!-- Copyright (C) 2009 Stefan Stammberger, <A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A> --&gt;
 &lt;UserProject version=&quot;4.0&quot;&gt;
 &lt;/UserProject&gt;
\ No newline at end of file

Modified: rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4t
===================================================================
--- rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4t	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/_eric4project/Lockenwickler.e4t	2009-02-10 20:45:46 UTC (rev 4762)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;!DOCTYPE Tasks SYSTEM &quot;Tasks-4.2.dtd&quot;&gt;
 &lt;!-- eric4 tasks file for project Lockenwickler --&gt;
-&lt;!-- Saved: 2009-02-09, 18:57:06 --&gt;
+&lt;!-- Saved: 2009-02-10, 21:36:41 --&gt;
 &lt;Tasks version=&quot;4.2&quot;&gt;
   &lt;Task priority=&quot;1&quot; completed=&quot;False&quot; bugfix=&quot;False&quot;&gt;
     &lt;Summary&gt;TODO: not implemented yet&lt;/Summary&gt;
@@ -24,10 +24,10 @@
   &lt;Task priority=&quot;1&quot; completed=&quot;False&quot; bugfix=&quot;False&quot;&gt;
     &lt;Summary&gt;TODO: implement save here&lt;/Summary&gt;
     &lt;Description&gt;&lt;/Description&gt;
-    &lt;Created&gt;2009-02-09, 16:16:17&lt;/Created&gt;
+    &lt;Created&gt;2009-02-10, 12:40:21&lt;/Created&gt;
     &lt;Resource&gt;
       &lt;Filename&gt;src/Lockenwickler.py&lt;/Filename&gt;
-      &lt;Linenumber&gt;424&lt;/Linenumber&gt;
+      &lt;Linenumber&gt;426&lt;/Linenumber&gt;
     &lt;/Resource&gt;
   &lt;/Task&gt;
 &lt;/Tasks&gt;
\ No newline at end of file

Modified: rl/trunk/editors/Lockenwickler/src/Lockenwickler.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/Lockenwickler.py	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/src/Lockenwickler.py	2009-02-10 20:45:46 UTC (rev 4762)
@@ -1,4 +1,5 @@
  #################################################
+ #################################################
  # Copyright (C) 2008  Stefan Stammberger
  #
  # This library is free software; you can redistribute it and/or
@@ -77,6 +78,7 @@
 
         self.moduleManager.moduleCfgPath = self.prefDialog.moduleCfgPath
         self.moduleManager.setModuleExplorer(self.moduleExplorerWin)
+        self.moduleManager.setPropertyWindow(self.objectPropertyWin)
         
         self.setWindowIcon(QIcon(&quot;media/icons/lockenwickler_provisorium_small.png&quot;))
         self.setWindowTitle(&quot;Rastullahs Lockenwickler&quot;)

Modified: rl/trunk/editors/Lockenwickler/src/ModuleExplorer.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ModuleExplorer.py	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/src/ModuleExplorer.py	2009-02-10 20:45:46 UTC (rev 4762)
@@ -41,7 +41,6 @@
     def __init__(self, parent = None):
         super(ModuleTreeWidget, self).__init__(parent)
         
-        self.connect(self, SIGNAL(&quot;itemClicked (QTreeWidgetItem *,int)&quot;), self.onClick)
         self.setContextMenuPolicy(Qt.CustomContextMenu)        
         self.connect(self, SIGNAL(&quot;customContextMenuRequested(const QPoint &amp;)&quot;), self.doMenu)
 
@@ -60,15 +59,13 @@
     def doMenu(self, point):
         self.onMenuCallback(self.mapToGlobal(point))
 
-    def onClick(self, item, column):
-        pass
-
 class ModuleExplorer(QWidget):
     def __init__(self, parent=None):
         QWidget.__init__(self, parent)
         self.sceneTreeView = ModuleTreeWidget()
         
         self.sceneTreeView.setMenuCallback(self.onMenu)
+        self.connect(self.sceneTreeView, SIGNAL(&quot;itemClicked (QTreeWidgetItem *,int)&quot;), self.onClick)
         
         vBoxLayout = QVBoxLayout()
         vBoxLayout.addWidget(self.sceneTreeView)
@@ -78,7 +75,22 @@
         self.nodeDict = {}
         
         self.moduleManager = None
-      
+        self.mapSelectedCallback = None
+        
+    def onClick(self, item, column):
+        if self.mapSelectedCallback is None:
+            return
+        
+        name = str(item.text(0))
+        if name.startswith(&quot;Map: &quot;):
+            self.mapSelectedCallback(str(item.parent().text(0)).replace(&quot;Scene: &quot;, &quot;&quot;), name.replace(&quot;Map: &quot;, &quot;&quot;))
+        elif name.startswith(&quot;Scene: &quot;):
+            if item.childCount &gt; 0:
+                self.mapSelectedCallback(name.replace(&quot;Scene: &quot;, &quot;&quot;), None)
+                return
+                
+            self.mapSelectedCallback(name.replace(&quot;Scene: &quot;, &quot;&quot;), str(item.child(0).text(0)).replace(&quot;Map: &quot;, &quot;&quot;))
+        
     def onMenu(self, point):
         if self.moduleManager is not None:
             menu = QMenu(self)
@@ -103,6 +115,7 @@
         if dlg.exec_():
             self.moduleManager.addSceneToModule(str(dlg.nameInput.text()))
             self.updateView()
+            self.onNewMap()
             
     def onNewMap(self):
         dlg = NameInputDlg(self)
@@ -134,10 +147,12 @@
             childItem2 = QTreeWidgetItem(childItem) 
             childItem2.setText(0, iter.getNext().getName())
         
-        
     def setCurrentModule(self, module):
         self.module = module
         self.updateView()
 
     def setModuleManager(self, moduleManager):
         self.moduleManager = moduleManager
+        
+    def setMapSelectedCallback(self, callback):
+        self.mapSelectedCallback = callback

Modified: rl/trunk/editors/Lockenwickler/src/ModuleManager.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ModuleManager.py	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/src/ModuleManager.py	2009-02-10 20:45:46 UTC (rev 4762)
@@ -57,22 +57,25 @@
 #                        &lt;/trigger&gt;
 #                &lt;/zone&gt;
 
-def indent(elem, level=0):
+
+# make the xml file more pretty
+def indent(elem, level=0):
     i = &quot;\n&quot; + level*&quot;  &quot;
-    
-    if len(elem):
-        if not elem.text or not elem.text.strip():
-            elem.text = i + &quot;  &quot;
-        if not elem.tail or not elem.tail.strip():
-            elem.tail = i
-        for elem in elem:
-            indent(elem, level+1)
-        if not elem.tail or not elem.tail.strip():
-            elem.tail = i
-    else:
-        if level and (not elem.tail or not elem.tail.strip()):
+    
+    if len(elem):
+        if not elem.text or not elem.text.strip():
+            elem.text = i + &quot;  &quot;
+        if not elem.tail or not elem.tail.strip():
             elem.tail = i
+        for elem in elem:
+            indent(elem, level+1)
+        if not elem.tail or not elem.tail.strip():
+            elem.tail = i
+    else:
+        if level and (not elem.tail or not elem.tail.strip()):
+            elem.tail = i
 
+
 class Map():
     def __init__(self, pathToFile, sceneManager, ogreRoot, gocManager, emptyMap = False):
         self.pathToMapFile = pathToFile
@@ -149,7 +152,7 @@
                 print &quot;Warning: Meshfile &quot; + meshFile + &quot; could not be found.&quot;
                 continue
 
-            n = self.mapNode.createChild(entityName + &quot;_node&quot;)
+            n = self.mapNode.createChild(&quot;entity_&quot; + entityName + &quot;_node&quot;)
             n.attachObject(e)
             n.setPosition(nodePosition)
             n.setOrientation(qw, qx, qy, qz)
@@ -204,7 +207,7 @@
                 light.setType(og.Light.LT_POINT)
             
             e = self.sceneManager.createEntity(lightName + &quot;_ent&quot;, &quot;lightbulp.mesh&quot;)
-            n = self.mapNode.createChild(lightName + &quot;_node&quot;)
+            n = self.mapNode.createChild(&quot;light_&quot; + lightName + &quot;_node&quot;)
             n.attachObject(e)
             n.attachObject(light)
             n.setPosition(lightPosition)
@@ -246,7 +249,7 @@
             if go is not None:
                 meshFile = go.getMeshFileName()
                 ent = self.sceneManager.createEntity(&quot;dropMesh&quot; + str(id), str(meshFile))
-                dropNode = self.sceneManager.getRootSceneNode().createChild(&quot;dropNode&quot; + str(id))
+                dropNode = self.mapNode.createChild(&quot;gameobject_&quot; + &quot;dropNode&quot; + str(id))
                 dropNode.attachObject(ent)
 
                 if nodePosition:
@@ -273,7 +276,8 @@
         
         iter = self.mapNode.getChildIterator()
         while iter.hasMoreElements():
-            iter.getNext().getName()
+            name = iter.getNext().getName()
+            print name
 
 class Scene():
     def __init__(self, moduleroot, pathToFile, sceneManager, ogreRoot, gocManager, emptyScene = False, sceneName = &quot;NewScene&quot;):
@@ -435,7 +439,20 @@
                 self.setResourcePaths(curFile)
             if os.path.isfile(curFile):
                 pass
-
+                
+    def getMap(self, mapName, sceneName = None):
+        if sceneName is not None:
+            for s in self.scenes:
+                if s.name == sceneName:
+                    for m in s.mapFiles:
+                        if m.mapName == mapName:
+                            return m
+        else:
+            for s in self.scenes:
+                for m in s.mapFiles:
+                        if m.mapName == mapName:
+                            return m
+                            
 class ModuleManager():
     def __init__(self,  ogreRoot,  sceneManager):
         self.sceneManager = sceneManager
@@ -456,7 +473,7 @@
         self.userSelectionList = []
         self.cutList = [] # selection objects that has been cut out and wait to be pasted again
         self.cutListPreviousNodes = [] # contains the nodes they where copnnected to before the cut
-
+        self.currentMap = None
         self.moduleExplorer = None
 
         self.lastRay = None
@@ -479,6 +496,7 @@
         self.moduleConfigIsParsed = False
 
         self.selectionBuffer = None
+        self.propertyWindow = None
     
     def resetParsedModuleConfig(self):
         self.moduleConfigIsParsed = False
@@ -578,8 +596,18 @@
 
     def setModuleExplorer(self, moduleExplorer):
         self.moduleExplorer = moduleExplorer
+        self.moduleExplorer.setMapSelectedCallback(self.selectMapCallback)
         self.moduleExplorer.setModuleManager(self)
+    
+    def setPropertyWindow(self, propertyWin):
+        self.propertyWindow = propertyWin
         
+    def selectMapCallback(self, sceneName, mapName):
+        self.currentMap = self.mainModule.getMap(mapName, sceneName)
+        if self.currentMap is None:
+            QMessageBox.warning(None, &quot;Don't forget to select a map&quot;, &quot;You won't be happy without a map!&quot;)
+
+        
     # called when a click into Main Ogre Window occurs
     def selectionClick(self, screenX, screenY, ray,  controlDown=False,  shiftDown=False):
         so = None
@@ -588,6 +616,8 @@
         
         if so is not None:
             if not so.isPivot:
+                self.propertyWindow.showProperties(so)
+                
                 if not controlDown and not shiftDown:
                     self.resetSelection()
                     so.setSelected(True)
@@ -750,6 +780,8 @@
 
     def leftMouseUp(self):
         if self.pivot is not None and self.pivot.isTransforming:
+            self.propertyWindow.updateProperties()
+            self.moduleExplorer.updateView()
             self.pivot.stopTransforming()
 
     def resetSelection(self):
@@ -780,7 +812,7 @@
         if go is not None:
             meshFile = go.getMeshFileName()
             dropEntity = self.sceneManager.createEntity(&quot;dropMesh&quot; + str(self.dropCount), str(meshFile))
-            dropNode = self.sceneManager.getRootSceneNode().createChild(&quot;dropNode&quot; + str(self.dropCount))
+            dropNode = self.currentMap.mapNode.createChild(&quot;gameobject_dropNode&quot; + str(self.dropCount))
             dropNode.attachObject(dropEntity)
 
             result = og.Math.intersects(ray, self.dropCollisionPlane)
@@ -806,7 +838,7 @@
 
     def startDropModelAction(self, meshFile, ray):
         self.dropEntity = self.sceneManager.createEntity(&quot;dropMesh&quot; + str(self.dropCount), str(meshFile))
-        self.dropNode = self.sceneManager.getRootSceneNode().createChild(&quot;dropNode&quot; + str(self.dropCount))
+        self.dropNode = self.currentMap.mapNode.createChild(&quot;entity_dropNode&quot; + str(self.dropCount))
         self.dropNode.attachObject(self.dropEntity)
 
         result = og.Math.intersects(ray, self.dropCollisionPlane)

Modified: rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py	2009-02-09 23:51:18 UTC (rev 4761)
+++ rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py	2009-02-10 20:45:46 UTC (rev 4762)
@@ -1,54 +1,129 @@
-#################################################
- # Copyright (C) 2008  Stefan Stammberger
- #
- # This library is free software; you can redistribute it and/or
- # modify it under the terms of the GNU Lesser General Public
- # License as published by the Free Software Foundation; either
- # version 2.1 of the License, or (at your option) any later version.
- #
- # This library is distributed in the hope that it will be useful,
- # but WITHOUT ANY WARRANTY; without even the implied warranty of
- # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- # Lesser General Public License for more details.
- #
- # You should have received a copy of the GNU Lesser General Public
- # License along with this library; if not, write to the Free Software
- # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- #################################################
-
-
-import sys
-
-from PyQt4.QtCore import *
-from PyQt4.QtGui import *
-
-from Property import *
-
-class ObjectPropertyWin(QDialog):
-    def __init__(self, parent=None):
-        super(QDialog, self).__init__(parent)
-        self.setupUi()
-
-        self.connect(self.treeWidget, SIGNAL(&quot;itemDoubleClicked (QTreeWidgetItem *,int)&quot;),
-                               self.onItemClicked)
-
-    def setupUi(self):
-        self.setObjectName(&quot;ObjectPropertys&quot;)
-        self.resize(QSize(QRect(0,0,761,724).size()).expandedTo(self.minimumSizeHint()))
-
-        self.treeWidget = QTreeWidget(self)
-        self.treeWidget.setGeometry(QRect(0,0,901,721))
-        self.treeWidget.setMinimumSize(QSize(400,400))
-        self.treeWidget.setObjectName(&quot;treeWidget&quot;)
-
-        self.retranslateUi()
-        QMetaObject.connectSlotsByName(self)
-
-    def retranslateUi(self):
-        self.treeWidget.headerItem().setText(0,QApplication.translate(&quot;ObjectPropertys&quot;, &quot;Property&quot;, None, QApplication.UnicodeUTF8))
-        self.treeWidget.headerItem().setText(1,QApplication.translate(&quot;ObjectPropertys&quot;, &quot;Value&quot;, None, QApplication.UnicodeUTF8))
-        self.treeWidget.clear()
-
-
-    def onItemClicked(self, item, column):
-        pass
+#################################################
+ # Copyright (C) 2008  Stefan Stammberger
+ #
+ # This library is free software; you can redistribute it and/or
+ # modify it under the terms of the GNU Lesser General Public
+ # License as published by the Free Software Foundation; either
+ # version 2.1 of the License, or (at your option) any later version.
+ #
+ # This library is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY; without even the implied warranty of
+ # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ # Lesser General Public License for more details.
+ #
+ # You should have received a copy of the GNU Lesser General Public
+ # License along with this library; if not, write to the Free Software
+ # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ #################################################
+
+
+import sys
+
+from PyQt4.QtCore import *
+from PyQt4.QtGui import *
+
+from Property import *
+
+class ObjectPropertyWin(QDialog):
+    def __init__(self, parent=None):
+        super(QDialog, self).__init__(parent)
+        self.setupUi()
+
+        self.so = None
+
+        self.connect(self.treeWidget, SIGNAL(&quot;itemDoubleClicked (QTreeWidgetItem *,int)&quot;),
+                               self.onItemClicked)
+
+    def setupUi(self):
+        self.setObjectName(&quot;ObjectPropertys&quot;)
+        self.resize(QSize(QRect(0,0,761,724).size()).expandedTo(self.minimumSizeHint()))
+
+        self.treeWidget = QTreeWidget(self)
+        self.treeWidget.setGeometry(QRect(0,0,901,721))
+        self.treeWidget.setMinimumSize(QSize(400,400))
+        self.treeWidget.setObjectName(&quot;treeWidget&quot;)
+        self.treeWidget.setAlternatingRowColors(True)
+        
+        self.retranslateUi()
+        QMetaObject.connectSlotsByName(self)
+
+    def retranslateUi(self):
+        self.treeWidget.headerItem().setText(0,QApplication.translate(&quot;ObjectPropertys&quot;, &quot;Property&quot;, None, QApplication.UnicodeUTF8))
+        self.treeWidget.headerItem().setText(1,QApplication.translate(&quot;ObjectPropertys&quot;, &quot;Value&quot;, None, QApplication.UnicodeUTF8))
+        self.treeWidget.clear()
+
+
+    def onItemClicked(self, item, column):
+        pass
+        
+    def showProperties(self, so):
+        self.so=so
+        self.treeWidget.clear()
+        
+        name = so.entity.getParentNode().getName()
+        node = so.entity.getParentNode()
+        
+        if name.startswith(&quot;entity_&quot;):
+            item = QTreeWidgetItem(self.treeWidget)
+            item.setText(0, &quot;Name&quot;)
+            item.setText(1, name.replace(&quot;entity_&quot;, &quot;&quot;))
+            
+            self.parsePosition(node)
+            self.parseOrientation(node)
+            self.parseScale(node)
+            
+    def parsePosition(self, node):
+        item = QTreeWidgetItem(self.treeWidget)
+        item.setText(0, &quot;Position&quot;)
+        item.setText(1, str(node.getPosition().x) + &quot; &quot; + str(node.getPosition().y) + &quot; &quot; + str(node.getPosition().z))
+        
+        itemX = QTreeWidgetItem(item)
+        itemX.setText(0, &quot;X&quot;)
+        itemX.setText(1, str(node.getPosition().x))
+        
+        itemY = QTreeWidgetItem(item)
+        itemY.setText(0, &quot;Y&quot;)
+        itemY.setText(1, str(node.getPosition().y))
+        
+        itemZ = QTreeWidgetItem(item)
+        itemZ.setText(0, &quot;Z&quot;)
+        itemZ.setText(1, str(node.getPosition().z))
+        
+    def parseOrientation(self, node):
+        item = QTreeWidgetItem(self.treeWidget)
+        item.setText(0, &quot;Orientation&quot;)
+        item.setText(1, str(node.getOrientation().x) + &quot; &quot; + str(node.getOrientation().y) + &quot; &quot; + str(node.getOrientation().z))
+        
+        itemX = QTreeWidgetItem(item)
+        itemX.setText(0, &quot;X&quot;)
+        itemX.setText(1, str(node.getOrientation().x))
+        
+        itemY = QTreeWidgetItem(item)
+        itemY.setText(0, &quot;Y&quot;)
+        itemY.setText(1, str(node.getOrientation().y))
+        
+        itemZ = QTreeWidgetItem(item)
+        itemZ.setText(0, &quot;Z&quot;)
+        itemZ.setText(1, str(node.getOrientation().z))
+    
+    def parseScale(self, node):
+        item = QTreeWidgetItem(self.treeWidget)
+        item.setText(0, &quot;Scale&quot;)
+        item.setText(1, str(node.getScale().x) + &quot; &quot; + str(node.getScale().y) + &quot; &quot; + str(node.getScale().z))
+        
+        itemX = QTreeWidgetItem(item)
+        itemX.setText(0, &quot;X&quot;)
+        itemX.setText(1, str(node.getScale().x))
+        
+        itemY = QTreeWidgetItem(item)
+        itemY.setText(0, &quot;Y&quot;)
+        itemY.setText(1, str(node.getScale().y))
+        
+        itemZ = QTreeWidgetItem(item)
+        itemZ.setText(0, &quot;Z&quot;)
+        itemZ.setText(1, str(node.getScale().z))
+            
+    def updateProperties(self):
+        if self.so is not None:
+            self.showProperties(self.so)
+            


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001818.html">[Dsa-hl-svn] r4761 - rl/trunk
</A></li>
	<LI>Next message: <A HREF="001820.html">[Dsa-hl-svn] r4763 - in rl/branches/persistence2:	Mac/Rastullah.xcodeproj Mac/tools engine/common/include	engine/common/src engine/core/src engine/script/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1819">[ date ]</a>
              <a href="thread.html#1819">[ thread ]</a>
              <a href="subject.html#1819">[ subject ]</a>
              <a href="author.html#1819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
