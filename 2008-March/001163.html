<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4092 - in rl/trunk/engine/common: include src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4092%20-%20in%20rl/trunk/engine/common%3A%20include%20src&In-Reply-To=%3C200803031024.m23AOkcs013539%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001162.html">
   <LINK REL="Next"  HREF="001164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4092 - in rl/trunk/engine/common: include src</H1>
    <B>blakharaz at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4092%20-%20in%20rl/trunk/engine/common%3A%20include%20src&In-Reply-To=%3C200803031024.m23AOkcs013539%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4092 - in rl/trunk/engine/common: include src">blakharaz at mail.berlios.de
       </A><BR>
    <I>Mon Mar  3 11:24:46 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001162.html">[Dsa-hl-svn] r4091 - in rl/trunk/engine/common: include src
</A></li>
        <LI>Next message: <A HREF="001164.html">[Dsa-hl-svn] r4093 - rl/trunk/engine/common/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: blakharaz
Date: 2008-03-03 11:24:45 +0100 (Mon, 03 Mar 2008)
New Revision: 4092

Modified:
   rl/trunk/engine/common/include/XmlProcessor.h
   rl/trunk/engine/common/src/XmlProcessor.cpp
Log:
removed unused return values

Modified: rl/trunk/engine/common/include/XmlProcessor.h
===================================================================
--- rl/trunk/engine/common/include/XmlProcessor.h	2008-03-03 10:21:32 UTC (rev 4091)
+++ rl/trunk/engine/common/include/XmlProcessor.h	2008-03-03 10:24:45 UTC (rev 4092)
@@ -51,7 +51,7 @@
 
 /**
  * This class offers helper methods for XML processing
- * To use this method, just privately inherit this class 
+ * To use this methods, just inherit this class privately 
  */
 class _RlCommonExport XmlProcessor
     : public XERCES_CPP_NAMESPACE::ErrorHandler
@@ -85,16 +85,16 @@
     /**
 	 * Setzt den Text eines Elementknotens
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
      * @param string Der zu setzende String
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setValueAsString(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, const CeGuiString &amp;value) const;
+    void setValueAsString(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, const CeGuiString &amp;value) const;
     
     /**
 	 * Ermittelt den Text eines Elementknotens
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @return Text innerhalb der Element-Tags, als CeGuiString
 	 */
 	CeGuiString getValueAsString(XERCES_CPP_NAMESPACE::DOMElement* element) const;
@@ -102,7 +102,7 @@
     /**
 	 * Ermittelt den Text eines Elementknotens
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @return Text innerhalb der Element-Tags, als CeGuiString
 	 */
     std::string getValueAsStdString(XERCES_CPP_NAMESPACE::DOMElement* element) const;
@@ -111,17 +111,17 @@
 	 * Setzt den Text eines Elementknotens, als UTF-8
 	 * vor Benutzung muss initializeTranscoder() aufgerufen werden
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
      * @param utf Der zu setzende UTF String
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-	XERCES_CPP_NAMESPACE::DOMElement* setValueAsUtf8(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, utf8* value) const;
+	void setValueAsUtf8(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, utf8* value) const;
     
     /**
 	 * Ermittelt den Text eines Elementknotens, als UTF-8
 	 * vor Benutzung muss initializeTranscoder() aufgerufen werden
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @return Text innerhalb der Element-Tags, als utf8* (muss selbst gel&#246;scht werden)
 	 * @see initializeTranscoder()
 	 */
@@ -130,64 +130,60 @@
 	/**
 	 * Formt eine Ganzzahl in einen String um und setzt diesen als Wert
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
      * @param value Der zu setzende Integer
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-	XERCES_CPP_NAMESPACE::DOMElement* setValueAsInteger(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, int value) const;
+	void setValueAsInteger(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, int value) const;
 
     
     /**
-	 * Ermittelt den Text eines Elementknotens und parst ihn, 
-	 * um eine Ganzzahl daraus zu machen
+	 * Get the text value of an element node and parse it into an integer
 	 *
-	 * @param element Das DOM-Element
-	 * @return Zahl, die innerhalb der Element-Tags steht
+	 * @param element the DOM element node
+	 * @return number within the element tags
 	 */
 	int getValueAsInteger(XERCES_CPP_NAMESPACE::DOMElement* element) const;
 
     /**
-	 * Ermittelt den Text eines Elementknotens und parst ihn, 
-	 * um eine Ganzzahl daraus zu machen
+	 * Get the text value of an element node and parse it into a real number
 	 *
-	 * @param element Das DOM-Element
-	 * @return Zahl, die innerhalb der Element-Tags steht
+	 * @param element the DOM element node
+	 * @return number within the element tags
 	 */
     Ogre::Real getValueAsReal(XERCES_CPP_NAMESPACE::DOMElement* element) const;
 
     /**
-	 * Formt einen Ganzzahldubel in einen String um und setzt diesen als Wert
+	 * Convert an integer pair into a string and sets it as the text of a DOM element
 	 *
-	 * @param element Das DOM-Element
-     * @param value Das zu setzende IntegerPair
-	 * @return Das DOM-Element
+	 * @param element the DOM element node
+     * @param value the integer pair
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setValueAsIntegerPair(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, IntPair value) const;
+    void setValueAsIntegerPair(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, IntPair value) const;
 
     /**
-	 * Ermittelt den Text eines Elementknotens und parst ihn, 
-	 * um einen Ganzzahldubel daraus zu machen
+	 * Get the text value of an element node and parse it into an integer pair
 	 *
-	 * @param element Das DOM-Element
-	 * @return Zahl, die innerhalb der Element-Tags steht
+	 * @param element the DOM element node
+	 * @return pair within the element tags
 	 */
     IntPair getValueAsIntegerPair(XERCES_CPP_NAMESPACE::DOMElement* element) const;
 
     /**
-	 * Formt einen Ganzzahltripel in einen String um und setzt diesen als Wert
+	 * Convert an integer triple into a string and set is as the text of a DOM element
 	 *
-	 * @param element Das DOM-Element
-     * @param value Der zu setzende Tripel&lt;int&gt;
-	 * @return Das DOM-Element
+	 * @param element the DOM element node
+     * @param value the integer triple
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setValueAsIntegerTriple(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, Tripel&lt;int&gt; value) const;
+    void setValueAsIntegerTriple(XERCES_CPP_NAMESPACE::DOMDocument* doc, XERCES_CPP_NAMESPACE::DOMElement* element, Tripel&lt;int&gt; value) const;
 
     /**
-	 * Ermittelt den Text eines Elementknotens und parst ihn, 
-	 * um einen Ganzzahltripel daraus zu machen
+	 * Get the text value of an element node and parse it into an integer triple
 	 *
-	 * @param element Das DOM-Element
-	 * @return Zahl, die innerhalb der Element-Tags steht
+	 * @param element the DOM element node
+	 * @return triple within the element tags
 	 */
     Tripel&lt;int&gt; getValueAsIntegerTriple(XERCES_CPP_NAMESPACE::DOMElement* element) const;
 	
@@ -198,7 +194,7 @@
      * @param value The vector input
 	 * @return The DOM element
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setValueAsVector3(XERCES_CPP_NAMESPACE::DOMElement* element, Ogre::Vector3 value) const;
+    void setValueAsVector3(XERCES_CPP_NAMESPACE::DOMElement* element, Ogre::Vector3 value) const;
 
     /**
 	 * Processes an element node of shape &lt;any_node_name x=&quot;0&quot; y=&quot;0&quot; z=&quot;0&quot;/&gt;
@@ -216,7 +212,7 @@
      * @param value The quaternion input
 	 * @return The DOM element
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setValueAsQuaternion(XERCES_CPP_NAMESPACE::DOMElement* element, Ogre::Quaternion value) const;
+    void setValueAsQuaternion(XERCES_CPP_NAMESPACE::DOMElement* element, Ogre::Quaternion value) const;
 
     /**
 	 * Processes an element node of shape &lt;any_node_name x=&quot;0&quot; y=&quot;0&quot; z=&quot;0&quot; w=&quot;1&quot;/&gt;
@@ -231,7 +227,7 @@
     /**
 	 * Ermittelt, ob ein DOMElement ein bestimmtes Attribut bestitzt
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @return &lt;code&gt;true&lt;/code&gt;, wenn das Attribut an diesem Element existiert, sonst &lt;code&gt;false&lt;/code&gt;
 	 */
@@ -240,7 +236,7 @@
     /**
 	 * Setzt den Wert von einem Attribut eines Elementes
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value Wert der gesetzt werden muss
 	 * @return &lt;code&gt;true&lt;/code&gt;, wenn das Attribut an diesem Element existiert, sonst &lt;code&gt;false&lt;/code&gt;
@@ -260,38 +256,54 @@
     /**
 	 * Wandelt eine Ganzzahl in einen Text um und setzt diesen als Attribut 
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value das zu setzende Integer
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-	XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsInteger(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, int value) const;
+	void setAttributeValueAsInteger(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, int value) const;
 
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und parst ihn, 
 	 * um eine Ganzzahl daraus zu machen
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @return Zahlenwert des Attributes
 	 */
 	int getAttributeValueAsInteger(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name) const;
 
     /**
+	 * Converts a 64 bit integer (long long) into a string and sets it as the text of a DOM element attribute
+	 *
+	 * @param element the DOM element node
+	 * @return number within the element tags
+	 */
+	void setAttributeValueAsInt64(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, RL_LONGLONG value) const;
+
+    /**
+	 * Gets the text value of an element attribute and parse it into a 64 bit integer (long long) 
+	 *
+	 * @param element the DOM element node
+	 * @return number within the element tags
+	 */
+	RL_LONGLONG getAttributeValueAsInt64(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name) const;
+
+    /**
 	 * Wandelt eine Ganzzahldubel in einen Text um und setzt diesen als Attribut 
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value das zu setzende IntegerPair
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsIntegerPair(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, IntPair value) const;
+    void setAttributeValueAsIntegerPair(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, IntPair value) const;
 
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und parst ihn, 
 	 * um eine Ganzzahldubel daraus zu machen
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @return Zahlendubel des Attributes
 	 */
@@ -300,18 +312,18 @@
     /**
 	 * Wandelt eine Ganzzahltripel in einen Text um und setzt diesen als Attribut 
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value das zu setzende Tripel&lt;int&gt;
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsIntegerTriple(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Tripel&lt;int&gt; value) const;
+    void setAttributeValueAsIntegerTriple(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Tripel&lt;int&gt; value) const;
 
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und parst ihn, 
 	 * um eine Ganzzahltripel daraus zu machen
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @return Zahlentripel des Attributes
 	 */
@@ -321,18 +333,18 @@
     /**
 	 * Wandelt einen Vektor in einen Text um und setzt diesen als Attribut 
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value das zu setzende Vector3
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsVector3(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Vector3 value) const;
+    void setAttributeValueAsVector3(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Vector3 value) const;
 
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und parst ihn, 
 	 * um ein Vector3 daraus zu machen
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @return Vector3 des Attributes
 	 */
@@ -341,18 +353,18 @@
     /**
 	 * Wandelt eine Quaternion in einen Text um und setzt diesen als Attribut 
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @param value das zu setzende Quaternion
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsQuaternion(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Quaternion value) const;
+    void setAttributeValueAsQuaternion(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Quaternion value) const;
 
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und parst ihn, 
 	 * um eine Quaternion daraus zu machen
 	 *
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
      * @return Quaternion des Attributes
 	 */
@@ -362,17 +374,17 @@
     /**
 	 * Setzt den Text eines DOMElement-Attributes
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @param value das zu setzende CeGuiString
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */	
-	XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsString(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, const CeGuiString &amp;value) const;
+	void setAttributeValueAsString(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, const CeGuiString &amp;value) const;
     
     /**
 	 * Ermittelt den Text eines DOMElement-Attributes und konvertiert ihn zu einem CeGuiString
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @return Konvertierter Text als CeGuiString
 	 */	
@@ -381,17 +393,17 @@
     /**
 	 * Setzt den Text eines DOMElement-Attributes
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @param value der zu setzende std::string
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */	
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsStdString(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, const std::string &amp;value) const;
+    void setAttributeValueAsStdString(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, const std::string &amp;value) const;
 
 	/**
 	 * Ermittelt den Text eines DOMElement-Attributes und konvertiert ihn zu einem std::string
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @return Konvertierter Text als std::string
 	 */	
@@ -409,17 +421,17 @@
     /**
 	 * Setzt den Text eines DOMElement-Attributes
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @param value der zu setzende boolean
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */	
-	XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsBool(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, bool value) const;
+	void setAttributeValueAsBool(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, bool value) const;
 
 	/**
 	 * Ermittelt den Text eines DOMElement-Attributes und interpretier ihn als bool
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @return Konvertierter Text als bool
 	 */	
@@ -428,17 +440,17 @@
     /**
 	 * Setzt den Text eines DOMElement-Attributes
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @param value der zu setzende Real Wert
-	 * @return Das DOM-Element
+	 * @return the DOM element node
 	 */	
-    XERCES_CPP_NAMESPACE::DOMElement* setAttributeValueAsReal(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Real value) const;
+    void setAttributeValueAsReal(XERCES_CPP_NAMESPACE::DOMElement* element, const char* const name, Ogre::Real value) const;
 
 	/**
 	 * Ermittelt den Text eines DOMElement-Attributes und konvertiert ihn zu Ogre::Real
 	 * 
-	 * @param element Das DOM-Element
+	 * @param element the DOM element node
 	 * @param name Name des Attributes
 	 * @return Konvertierter Text als Ogre::Real
 	 */	

Modified: rl/trunk/engine/common/src/XmlProcessor.cpp
===================================================================
--- rl/trunk/engine/common/src/XmlProcessor.cpp	2008-03-03 10:21:32 UTC (rev 4091)
+++ rl/trunk/engine/common/src/XmlProcessor.cpp	2008-03-03 10:24:45 UTC (rev 4092)
@@ -69,12 +69,11 @@
 	return rval;
 }
 
-DOMElement* XmlProcessor::setValueAsString(DOMDocument* doc, DOMElement *element, const CeGuiString &amp;value) const
+void XmlProcessor::setValueAsString(DOMDocument* doc, DOMElement *element, const CeGuiString &amp;value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsString: Element must not be NULL&quot;);
     DOMText* text = doc-&gt;createTextNode(XMLString::transcode(value.c_str()));
     element-&gt;appendChild(text);
-    return element;
 }
 
 CeGuiString XmlProcessor::getValueAsString(DOMElement* element) const
@@ -89,13 +88,12 @@
 	return transcodeToStdString( element-&gt;getFirstChild()-&gt;getNodeValue() );
 }
 
-DOMElement* XmlProcessor::setValueAsUtf8(DOMDocument* doc, DOMElement* element, utf8* value) const
+void XmlProcessor::setValueAsUtf8(DOMDocument* doc, DOMElement* element, utf8* value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsUtf8: Element must not be NULL&quot;);
     CeGuiString temp(value);
     DOMText* text = doc-&gt;createTextNode(XMLString::transcode(temp.c_str()));
     element-&gt;appendChild(text);
-    return element;
 }
 
 utf8* XmlProcessor::getValueAsUtf8(DOMElement* element) const
@@ -129,31 +127,86 @@
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(value));
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsInteger(DOMElement *element, const char *const name, int value) const
+void XmlProcessor::setAttributeValueAsInteger(DOMElement *element, const char *const name, int value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsInteger: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    return element;
 }
 
 int XmlProcessor::getAttributeValueAsInteger(DOMElement* element,const char* const name) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::getAttributeValueAsInteger: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
+    return XMLString::parseInt(element-&gt;getAttribute(attrName.data()));
+}
+
+void XmlProcessor::setAttributeValueAsInt64(DOMElement *element, const char *const name, RL_LONGLONG value) const
+{
+    RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsInt64: Element must not be NULL&quot;);
+	AutoXMLCh attrName(name);
+    
+    bool negative = false;
+    if (value &lt; 0)
+    {
+        value *= -1;
+        negative = true;
+    }
+
+    CeGuiString temp(&quot;&quot;);
+    RL_LONGLONG divider = 1000000000;
+    while (value &gt; divider)
+    {
+        RL_LONGLONG remainder = value % divider;
+        temp = Ogre::StringConverter::toString(static_cast&lt;int&gt;(remainder), 8, '0') + temp;
+        value /= divider;
+    }
+
+    if (negative)
+    {
+        temp = &quot;-&quot; + temp;
+    }
+    
+    element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
+}
+
+RL_LONGLONG XmlProcessor::getAttributeValueAsInt64(DOMElement* element,const char* const name) const
+{
+    RlAssert(element != NULL, &quot;XmlProcessor::getAttributeValueAsInteger: Element must not be NULL&quot;);
+	AutoXMLCh attrName(name);    
 	const XMLCh* attribute = element-&gt;getAttribute(attrName.data());
-	int rVal = XMLString::parseInt(attribute);
+    Ogre::String value = transcodeToStdString(attribute);
+
+    RL_LONGLONG sign = 1;
+    if (value[0] == '-')
+    {
+        sign = -1;
+        value = value.substr(1);
+    }
+
+    RL_LONGLONG rVal = 0;
+    while (value.length() &gt; 8)
+    {
+        RL_LONGLONG curPart = Ogre::StringConverter::parseInt(value.substr(0, 8));
+        for (size_t i = 0; i &lt; value.length() - 8; ++i)
+        {
+            curPart *= 10;
+        }
+        rVal += curPart;
+        value = value.substr(8);
+    }
+
+    rVal += CEGUI::PropertyHelper::stringToInt(value);
 	return rVal;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsIntegerPair(DOMElement* element, const char* const name, IntPair value) const
+void XmlProcessor::setAttributeValueAsIntegerPair(DOMElement* element, const char* const name, IntPair value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsIntegerPair: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value.first) + &quot;,&quot; + Ogre::StringConverter::toString(value.second);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    return element;
 }
 
 IntPair XmlProcessor::getAttributeValueAsIntegerPair(DOMElement* element, const char* const name) const
@@ -176,13 +229,12 @@
     return intPairVal;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsIntegerTriple(DOMElement *element, const char *const name, Tripel&lt;int&gt; value) const
+void XmlProcessor::setAttributeValueAsIntegerTriple(DOMElement *element, const char *const name, Tripel&lt;int&gt; value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsIntegerTriple: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value.first) + &quot;,&quot; + Ogre::StringConverter::toString(value.second) + &quot;,&quot; + Ogre::StringConverter::toString(value.third);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    return element;
 }
 
 Tripel&lt;int&gt; XmlProcessor::getAttributeValueAsIntegerTriple(DOMElement* element, const char* const name) const
@@ -207,13 +259,12 @@
     return intTripel;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsReal(DOMElement *element, const char *const name, Ogre::Real value) const
+void XmlProcessor::setAttributeValueAsReal(DOMElement *element, const char *const name, Ogre::Real value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsReal: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    return element;
 }
 
 Ogre::Real XmlProcessor::getAttributeValueAsReal(DOMElement* element,const char* const name) const
@@ -225,12 +276,11 @@
 	return rVal;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsString(DOMElement *element, const char *const name, const CeGuiString &amp;value) const
+void XmlProcessor::setAttributeValueAsString(DOMElement *element, const char *const name, const CeGuiString &amp;value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsString: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(value.c_str()));
-    return element;
 }
 
 CeGuiString XmlProcessor::getAttributeValueAsString(DOMElement* element, const char* const name) const
@@ -252,12 +302,11 @@
 	return CeGuiString();
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsStdString(DOMElement *element, const char *const name, const std::string &amp;value) const
+void XmlProcessor::setAttributeValueAsStdString(DOMElement *element, const char *const name, const std::string &amp;value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsStdString: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(value.c_str()));
-    return element;
 }
 
 std::string XmlProcessor::getAttributeValueAsStdString(DOMElement* element, const char* const name) const
@@ -268,13 +317,12 @@
 	return rVal;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsBool(DOMElement *element, const char *const name, bool value) const
+void XmlProcessor::setAttributeValueAsBool(DOMElement *element, const char *const name, bool value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsBool: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    return element;
 }
 
 bool XmlProcessor::getAttributeValueAsBool(DOMElement* element,const char* const name) const
@@ -286,13 +334,12 @@
 		return false;
 }
 
-DOMElement* XmlProcessor::setValueAsInteger(DOMDocument* doc, DOMElement *element, int value) const
+void XmlProcessor::setValueAsInteger(DOMDocument* doc, DOMElement *element, int value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsInteger: Element must not be NULL&quot;);
     CeGuiString temp = Ogre::StringConverter::toString(value);
     DOMText* text = doc-&gt;createTextNode(XMLString::transcode(temp.c_str()));
     element-&gt;appendChild(text);
-    return element;
 }
 
 int XmlProcessor::getValueAsInteger(DOMElement* element) const
@@ -308,13 +355,12 @@
         transcodeToString(element-&gt;getFirstChild()-&gt;getNodeValue()).c_str());
 }
 
-DOMElement* XmlProcessor::setValueAsIntegerPair(DOMDocument *doc, DOMElement *element, IntPair value) const
+void XmlProcessor::setValueAsIntegerPair(DOMDocument *doc, DOMElement *element, IntPair value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsIntegerPair: Element must not be NULL&quot;);
     CeGuiString temp = CEGUI::PropertyHelper::intToString(value.first) + ',' + CEGUI::PropertyHelper::intToString(value.second);
     DOMText* text = doc-&gt;createTextNode(XMLString::transcode(temp.c_str()));
     element-&gt;appendChild(text);
-    return element;
 }
 
 IntPair XmlProcessor::getValueAsIntegerPair(DOMElement* element) const
@@ -333,14 +379,13 @@
     return intPairVal;
 }
 
-DOMElement* XmlProcessor::setValueAsIntegerTriple(DOMDocument *doc, DOMElement *element, Tripel&lt;int&gt; value) const
+void XmlProcessor::setValueAsIntegerTriple(DOMDocument *doc, DOMElement *element, Tripel&lt;int&gt; value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsIntegerTriple: Element must not be NULL&quot;);
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsIntegerPair: Element must not be NULL&quot;);
     CeGuiString temp = CEGUI::PropertyHelper::intToString(value.first) + ',' + CEGUI::PropertyHelper::intToString(value.second) + ',' + CEGUI::PropertyHelper::intToString(value.third);
     DOMText* text = doc-&gt;createTextNode(XMLString::transcode(temp.c_str()));
     element-&gt;appendChild(text);
-    return element;
 }
 
 Tripel&lt;int&gt; XmlProcessor::getValueAsIntegerTriple(DOMElement *element) const
@@ -361,14 +406,12 @@
     return intTripel;
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsVector3( DOMElement *element, const char* const name, Ogre::Vector3 value) const
+void XmlProcessor::setAttributeValueAsVector3( DOMElement *element, const char* const name, Ogre::Vector3 value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsVector3: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value.x) + &quot;,&quot; + Ogre::StringConverter::toString(value.y) + &quot;,&quot; + Ogre::StringConverter::toString(value.z);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-    
-    return element;
 }
 
 Ogre::Vector3 XmlProcessor::getAttributeValueAsVector3(DOMElement* element, const char* const name) const
@@ -393,13 +436,12 @@
     return vec;
 }
 
-DOMElement* XmlProcessor::setValueAsVector3( DOMElement *element, Ogre::Vector3 value) const
+void XmlProcessor::setValueAsVector3( DOMElement *element, Ogre::Vector3 value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsVector3: Element must not be NULL&quot;);
     setAttribute(element, &quot;x&quot;, Ogre::StringConverter::toString(value.x).c_str());
     setAttribute(element, &quot;y&quot;, Ogre::StringConverter::toString(value.y).c_str());
     setAttribute(element, &quot;z&quot;, Ogre::StringConverter::toString(value.z).c_str());
-    return element;
 }
 
 Ogre::Vector3 XmlProcessor::getValueAsVector3(DOMElement* element) const
@@ -416,14 +458,13 @@
 		getAttributeValueAsReal(element, &quot;z&quot;));
 }
 
-DOMElement* XmlProcessor::setValueAsQuaternion(DOMElement *element, Ogre::Quaternion value) const
+void XmlProcessor::setValueAsQuaternion(DOMElement *element, Ogre::Quaternion value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setValueAsQuaternion: Element must not be NULL&quot;);
     setAttribute(element, &quot;x&quot;, Ogre::StringConverter::toString(value.x).c_str());
     setAttribute(element, &quot;y&quot;, Ogre::StringConverter::toString(value.y).c_str());
     setAttribute(element, &quot;z&quot;, Ogre::StringConverter::toString(value.z).c_str());
     setAttribute(element, &quot;w&quot;, Ogre::StringConverter::toString(value.w).c_str());
-    return element;
 }
 
 Ogre::Quaternion XmlProcessor::getValueAsQuaternion(DOMElement* element) const
@@ -442,14 +483,12 @@
         getAttributeValueAsReal(element, &quot;w&quot;));
 }
 
-DOMElement* XmlProcessor::setAttributeValueAsQuaternion(DOMElement *element, const char* const name, Ogre::Quaternion value) const
+void XmlProcessor::setAttributeValueAsQuaternion(DOMElement *element, const char* const name, Ogre::Quaternion value) const
 {
     RlAssert(element != NULL, &quot;XmlProcessor::setAttributeValueAsQuaternion: Element must not be NULL&quot;);
 	AutoXMLCh attrName(name);
     CeGuiString temp = Ogre::StringConverter::toString(value.w) + &quot;,&quot; + Ogre::StringConverter::toString(value.x) + &quot;,&quot; + Ogre::StringConverter::toString(value.y) + &quot;,&quot; + Ogre::StringConverter::toString(value.z);
     element-&gt;setAttribute(attrName.data(), XMLString::transcode(temp.c_str()));
-
-    return element;
 }
 
 Ogre::Quaternion XmlProcessor::getAttributeValueAsQuaternion(DOMElement* element, const char* const name) const
@@ -492,6 +531,11 @@
 
         quat = rotX * rotY * rotZ;
     }
+    else 
+    {
+        LOG_ERROR(Logger::COMMON, &quot;'&quot; + value + &quot;' is no valid quaternion. Format is 'w, x, y, z' or 'rotX, rotY, rotZ'.&quot;);
+    }
+
     return quat;
 }
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001162.html">[Dsa-hl-svn] r4091 - in rl/trunk/engine/common: include src
</A></li>
	<LI>Next message: <A HREF="001164.html">[Dsa-hl-svn] r4093 - rl/trunk/engine/common/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
