<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r3157 - in rl/trunk: engine/core/include	engine/core/src engine/ui/include engine/ui/src	plugins/fmod4driver/include plugins/fmod4driver/src	plugins/openaldriver/include plugins/openaldriver/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3157%20-%20in%20rl/trunk%3A%20engine/core/include%0A%09engine/core/src%20engine/ui/include%20engine/ui/src%0A%09plugins/fmod4driver/include%20plugins/fmod4driver/src%0A%09plugins/openaldriver/include%20plugins/openaldriver/src&In-Reply-To=%3C200703081554.l28FsSZ5006672%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000227.html">
   <LINK REL="Next"  HREF="000229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r3157 - in rl/trunk: engine/core/include	engine/core/src engine/ui/include engine/ui/src	plugins/fmod4driver/include plugins/fmod4driver/src	plugins/openaldriver/include plugins/openaldriver/src</H1>
    <B>chrber at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3157%20-%20in%20rl/trunk%3A%20engine/core/include%0A%09engine/core/src%20engine/ui/include%20engine/ui/src%0A%09plugins/fmod4driver/include%20plugins/fmod4driver/src%0A%09plugins/openaldriver/include%20plugins/openaldriver/src&In-Reply-To=%3C200703081554.l28FsSZ5006672%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r3157 - in rl/trunk: engine/core/include	engine/core/src engine/ui/include engine/ui/src	plugins/fmod4driver/include plugins/fmod4driver/src	plugins/openaldriver/include plugins/openaldriver/src">chrber at mail.berlios.de
       </A><BR>
    <I>Thu Mar  8 16:54:28 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000227.html">[Dsa-hl-svn] r3156 - in rl/trunk/engine: ai/src rules/include	rules/src script/swig
</A></li>
        <LI>Next message: <A HREF="000229.html">[Dsa-hl-svn] r3158 - in rl/trunk/plugins: fmod4driver	fmod4driver/src openaldriver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#228">[ date ]</a>
              <a href="thread.html#228">[ thread ]</a>
              <a href="subject.html#228">[ subject ]</a>
              <a href="author.html#228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: chrber
Date: 2007-03-08 16:54:08 +0100 (Thu, 08 Mar 2007)
New Revision: 3157

Added:
   rl/trunk/plugins/fmod4driver/include/Fmod4ConfigComponent.h
   rl/trunk/plugins/fmod4driver/src/Fmod4ConfigComponent.cpp
   rl/trunk/plugins/openaldriver/include/OpenALConfigComponent.h
   rl/trunk/plugins/openaldriver/src/OpenALConfigComponent.cpp
Removed:
   rl/trunk/plugins/fmod4driver/include/Fmod4Config.h
   rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp
   rl/trunk/plugins/openaldriver/include/OpenALConfig.h
   rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp
Modified:
   rl/trunk/engine/core/include/SoundDriver.h
   rl/trunk/engine/core/include/SoundManager.h
   rl/trunk/engine/core/src/SoundDriver.cpp
   rl/trunk/engine/core/src/SoundManager.cpp
   rl/trunk/engine/ui/include/ConfigComponent.h
   rl/trunk/engine/ui/include/RenderSystemConfigComponent.h
   rl/trunk/engine/ui/include/SoundDriverConfigComponent.h
   rl/trunk/engine/ui/src/ConfigComponent.cpp
   rl/trunk/engine/ui/src/GameSettings.cpp
   rl/trunk/engine/ui/src/RenderSystemConfigComponent.cpp
   rl/trunk/engine/ui/src/SoundDriverConfigComponent.cpp
   rl/trunk/plugins/fmod4driver/include/Makefile.am
   rl/trunk/plugins/fmod4driver/src/Fmod4Driver.cpp
   rl/trunk/plugins/fmod4driver/src/Fmod4DriverDllMain.cpp
   rl/trunk/plugins/fmod4driver/src/Makefile.am
   rl/trunk/plugins/openaldriver/include/Makefile.am
   rl/trunk/plugins/openaldriver/include/OpenALDriver.h
   rl/trunk/plugins/openaldriver/src/Makefile.am
   rl/trunk/plugins/openaldriver/src/OpenALDriverDllMain.cpp
Log:
Adding sounddriver configuration components to the list works
Renamed the specific configuration classes accoding to the new base class names


Modified: rl/trunk/engine/core/include/SoundDriver.h
===================================================================
--- rl/trunk/engine/core/include/SoundDriver.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/core/include/SoundDriver.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -23,6 +23,7 @@
 namespace rl
 {
     class ListenerMovable;
+    class SoundDriverConfigComponent;
 
     typedef enum {ST_SAMPLE, ST_STREAM} SoundType;
 
@@ -96,6 +97,13 @@
         virtual Ogre::NameValuePairList getSettings() const;
 
         /**
+         * Retrieves a pointer to the ConfigComponent of this driver
+         *
+         * @return pointer to ConfigComponent
+         */
+        virtual SoundDriverConfigComponent* getConfigComponent();
+
+        /**
          * Sets certain options for the sound driver, like volume settings for
          * sound effects and music.
          *
@@ -104,16 +112,17 @@
         virtual void applySettings(const Ogre::NameValuePairList&amp; settings);
 
     protected:
+        virtual Sound* createSoundImpl(SoundResourcePtr res, SoundType type) = 0;
+
         Ogre::ResourceManager* mSoundResourceManager;
 
         SoundSet mStreamSet;
         SoundSet mSampleSet;
 
-        Ogre::Real mDefaultMusicVolume;  ///!&lt; Music volume
-        Ogre::Real mDefaultSoundVolume;  ///!&lt; Sound effect volume
-        Ogre::Real mMasterVolume;        ///!&lt; Master volume
-
-        virtual Sound* createSoundImpl(SoundResourcePtr res, SoundType type) = 0;
+        Ogre::Real mDefaultMusicVolume;               ///!&lt; Music volume
+        Ogre::Real mDefaultSoundVolume;               ///!&lt; Sound effect volume
+        Ogre::Real mMasterVolume;                     ///!&lt; Master volume
+        SoundDriverConfigComponent* mConfigComponent; ///!&lt; Configuration dialog for driver specific settings
     };
 }
 

Modified: rl/trunk/engine/core/include/SoundManager.h
===================================================================
--- rl/trunk/engine/core/include/SoundManager.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/core/include/SoundManager.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -72,6 +72,13 @@
         SoundDriver* getDriverByName(const Ogre::String &amp;name);
 
         /**
+         * Retrieves the curren list of sound drivers
+         *
+         * @return list of sound drivers
+         */
+        const std::list&lt;SoundDriver*&gt;&amp; getDriverList();
+
+        /**
          * Sets the active sound driver and forwards all other settings
          * to the driver's setSettings function.
          *

Modified: rl/trunk/engine/core/src/SoundDriver.cpp
===================================================================
--- rl/trunk/engine/core/src/SoundDriver.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/core/src/SoundDriver.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -107,6 +107,11 @@
         return SoundSettings;
     }
 
+    SoundDriverConfigComponent* SoundDriver::getConfigComponent()
+    {
+        return mConfigComponent;
+    }
+
     void SoundDriver::applySettings(const Ogre::NameValuePairList&amp; settings)
     {
         Ogre::NameValuePairList::const_iterator it;

Modified: rl/trunk/engine/core/src/SoundManager.cpp
===================================================================
--- rl/trunk/engine/core/src/SoundManager.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/core/src/SoundManager.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -38,8 +38,8 @@
  */
 template&lt;&gt; rl::SoundManager* Singleton&lt;rl::SoundManager&gt;::ms_Singleton = 0;
 
-namespace rl {
-
+namespace rl
+{
     /**
      * @return Eine Referenz auf das Singleton-Objekt.
      * @author JoSch
@@ -238,6 +238,11 @@
     return 0;
 }
 
+    const std::list&lt;SoundDriver*&gt;&amp; SoundManager::getDriverList()
+    {
+        return mDriverList;
+    }
+
     void SoundManager::registerDriver(rl::SoundDriver *driver)
     {
         mDriverList.push_back(driver);

Modified: rl/trunk/engine/ui/include/ConfigComponent.h
===================================================================
--- rl/trunk/engine/ui/include/ConfigComponent.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/include/ConfigComponent.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -23,45 +23,40 @@
 
 namespace rl
 {
-	/**
-	 * Abstract class defining the shared functionality between all
-	 * concrete ConfigComponent implementation classes.
-	 */
-	class _RlUiExport ConfigComponent
-	{
-	public:
-		ConfigComponent(const CEGUI::String&amp; xmlfile);
-		virtual ~ConfigComponent();
+    /**
+     * Abstract class defining the shared functionality between all
+     * concrete ConfigComponent implementation classes.
+     */
+    class _RlUiExport ConfigComponent
+    {
+    public:
+        ConfigComponent(const CEGUI::String&amp; xmlfile, const CEGUI::String&amp; drivername);
+        virtual ~ConfigComponent();
 
-		/**
-		 * Adds this component's root window to a given parent window
-		 *
-		 * @param parent Pointer to parent CEGUI::Window
-		 */
-		void addTo(CEGUI::Window* parent);
+        /**
+         * Adds this component's root window to a given parent window
+         *
+         * @param parent Pointer to parent CEGUI::Window
+         */
+        void addTo(CEGUI::Window* parent);
 
-		/**
-		 * Sets the visibilty state of the window
-		 *
-		 * @param visible true sets window to visible, false the other way
-		 */
-		void setVisible(bool visible);
+        /**
+         * Sets the visibilty state of the window
+         *
+         * @param visible true sets window to visible, false the other way
+         */
+        void setVisible(bool visible);
 
-	protected:
-		/**
-		 * Returns the name for the given driver
-		 */
-		virtual const CEGUI::String getDriverName() const = 0;
+        /**
+         * Returns the name for the given driver
+         */
+        const CEGUI::String getDriverName() const;
 
-		/**
-		 * Initialises the driver of the concrete ConfigComponent
-		 */
-		virtual void initialize() = 0;
-
-	private:
-		CEGUI::Window* mWindow;   //!&lt; CEGUI root window for this component
-		CEGUI::String mXmlFile;   //!&lt; CEGUI layout file
-	};
+    private:
+        CEGUI::Window* mWindow; //!&lt; CEGUI root window for this component
+        CEGUI::String mXmlFile; //!&lt; CEGUI layout file
+        CEGUI::String mName;    //!&lt; User readable name, which is displayed in the driver selection box
+    };
 }
 
 #endif // CONFIGCOMPONENT_H

Modified: rl/trunk/engine/ui/include/RenderSystemConfigComponent.h
===================================================================
--- rl/trunk/engine/ui/include/RenderSystemConfigComponent.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/include/RenderSystemConfigComponent.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -22,23 +22,22 @@
 
 namespace rl
 {
-	class Ogre::RenderSystem;
+    class Ogre::RenderSystem;
 
-	class _RlUiExport RenderSystemConfigComponent : public ConfigComponent
-	{
-	public:
-		RenderSystemConfigComponent(const CEGUI::String&amp; xmlfile);
-		virtual ~RenderSystemConfigComponent();
+    class _RlUiExport RenderSystemConfigComponent : public ConfigComponent
+    {
+    public:
+        RenderSystemConfigComponent(const CEGUI::String&amp; xmlfile, const CEGUI::String&amp; drivername);
+        virtual ~RenderSystemConfigComponent();
 
         virtual void apply() = 0;
         virtual void resetToDefaults() = 0;
         virtual void readDriverData() = 0;
-		const CEGUI::String getDriverName() const;
 
-	protected:
-		virtual Ogre::RenderSystem* getDriver() const = 0;
+    protected:
+        virtual Ogre::RenderSystem* getDriver() const = 0;
         virtual void initialize() = 0;
-	};
+    };
 }
 
 #endif // _RenderSystemConfigComponent_H_

Modified: rl/trunk/engine/ui/include/SoundDriverConfigComponent.h
===================================================================
--- rl/trunk/engine/ui/include/SoundDriverConfigComponent.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/include/SoundDriverConfigComponent.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -22,23 +22,18 @@
 
 namespace rl {
 
-	class SoundDriver;
+    class SoundDriver;
 
-	class _RlUiExport SoundDriverConfigComponent : public ConfigComponent
-	{
-	public:
-		SoundDriverConfigComponent(const CEGUI::String&amp; xmlfile);
-		virtual ~SoundDriverConfigComponent();
+    class _RlUiExport SoundDriverConfigComponent : public ConfigComponent
+    {
+    public:
+        SoundDriverConfigComponent(const CEGUI::String&amp; xmlfile, const CEGUI::String&amp; drivername);
+        virtual ~SoundDriverConfigComponent();
 
         virtual void apply() = 0;
         virtual void resetToDefaults() = 0;
         virtual void readDriverData() = 0;
-		const CEGUI::String getDriverName() const;
-
-	protected:
-		virtual SoundDriver* getDriver() const = 0;
-        virtual void initialize() = 0;
-	};
+    };
 }
 
 #endif // _SoundDriverConfigWindow_H_

Modified: rl/trunk/engine/ui/src/ConfigComponent.cpp
===================================================================
--- rl/trunk/engine/ui/src/ConfigComponent.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/src/ConfigComponent.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -15,37 +15,45 @@
  */
 
 #include &lt;CEGUIWindowManager.h&gt;
+#include &lt;iostream&gt;
 
 #include &quot;ConfigComponent.h&quot;
 
 namespace rl
 {
-	ConfigComponent::ConfigComponent(const CEGUI::String&amp; xmlfile)
-	{
-		// Set layout file for component
-		mXmlFile = xmlfile;
-	}
+    ConfigComponent::ConfigComponent(const CEGUI::String&amp; xmlfile, const CEGUI::String&amp; drivername)
+    {
+        // Set layout file for component
+        mXmlFile = xmlfile;
 
-	ConfigComponent::~ConfigComponent()
-	{
-		// Free components root window and its child windows
+        // Set user readable name for driver
+        mName = drivername;
+    }
+
+    ConfigComponent::~ConfigComponent()
+    {
+        // Free components root window and its child windows
         if (mWindow != NULL)
         {
             mWindow-&gt;getParent()-&gt;removeChildWindow(mWindow);
             CEGUI::WindowManager::getSingleton().destroyWindow(mWindow);
             CEGUI::WindowManager::getSingleton().cleanDeadPool();
         }
-	}
+    }
 
-	void ConfigComponent::addTo(CEGUI::Window* parent)
-	{
+    void ConfigComponent::addTo(CEGUI::Window* parent)
+    {
         mWindow = CEGUI::WindowManager::getSingleton().loadWindowLayout(mXmlFile);
         parent-&gt;addChildWindow(mWindow);
-        initialize();
-	}
+    }
 
-	void ConfigComponent::setVisible(bool visible)
-	{
-		mWindow-&gt;setVisible(visible);
-	}
+    void ConfigComponent::setVisible(bool visible)
+    {
+        mWindow-&gt;setVisible(visible);
+    }
+
+    const CEGUI::String ConfigComponent::getDriverName() const
+    {
+        return mName;
+    }
 }

Modified: rl/trunk/engine/ui/src/GameSettings.cpp
===================================================================
--- rl/trunk/engine/ui/src/GameSettings.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/src/GameSettings.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -15,87 +15,109 @@
  */
 
 #include &lt;boost/bind.hpp&gt;
+#include &lt;iostream&gt;
 
 #include &quot;GameSettings.h&quot;
+#include &quot;SoundManager.h&quot;
+#include &quot;SoundDriver.h&quot;
 
 namespace rl
 {
-	GameSettings::GameSettings()
-	    : CeGuiWindow(&quot;gamesettings.xml&quot;, WND_MOUSE_INPUT)
-	{
-		// Connect actions to callbacks
-		getWindow()-&gt;subscribeEvent(CEGUI::FrameWindow::EventCloseClicked,
-		                            boost::bind(&amp;GameSettings::onCancel, this));
+    GameSettings::GameSettings()
+        : CeGuiWindow(&quot;gamesettings.xml&quot;, WND_MOUSE_INPUT)
+    {
+        // Register sound driver components
+        std::list&lt;SoundDriver*&gt; soundDriverList = SoundManager::getSingleton().getDriverList();
 
-		centerWindow();
-	}
+        for (std::list&lt;SoundDriver*&gt;::iterator it = soundDriverList.begin();
+             it != soundDriverList.end(); it++)
+        {
+            if ((*it)-&gt;isDriverPlugin())
+            {
+                registerSoundDriverConfig((*it)-&gt;getConfigComponent());
+            }
+        }
 
-	GameSettings::~GameSettings()
-	{
-	}
+        // Connect actions to callbacks
+        getWindow()-&gt;subscribeEvent(CEGUI::FrameWindow::EventCloseClicked,
+                                    boost::bind(&amp;GameSettings::onCancel, this));
 
-	void GameSettings::registerSoundDriverConfig(SoundDriverConfigComponent* scc)
-	{
-	}
+        centerWindow();
+    }
 
-	void GameSettings::registerRenderSystemConfig(RenderSystemConfigComponent* rcc)
-	{
-	}
+    GameSettings::~GameSettings()
+    {
+    }
 
-	void GameSettings::setVisible(bool visible, bool destroyAfterHide)
-	{
-		CeGuiWindow::setVisible(visible, destroyAfterHide);
-	}
+    void GameSettings::registerSoundDriverConfig(SoundDriverConfigComponent* scc)
+    {
+        // Add component to list
+        mSoundDriverConfigs.push_back(scc);
 
-	void GameSettings::setConfigComponent(const CEGUI::String&amp; drivername)
-	{
-		// Search the sound configuration component list
-		for (std::list&lt;SoundDriverConfigComponent*&gt;::iterator it = mSoundDriverConfigs.begin();
-		     it != mSoundDriverConfigs.end(); it++)
-		{
-			SoundDriverConfigComponent* cmp = *it;
-			if (drivername == cmp-&gt;getDriverName() &amp;&amp; mCurrentSoundDriverConfig != cmp)
-			{
-				if (mCurrentSoundDriverConfig != NULL)
-				{
-					mCurrentSoundDriverConfig-&gt;setVisible(false);
-				}
-				cmp-&gt;setVisible(true);
-				mCurrentSoundDriverConfig = cmp;
-				return;
-			}
-		}
+        getCombobox(&quot;GameOptionsWindow/Sound/TableSoundDriver&quot;)-&gt;addItem(
+            new CEGUI::ListboxTextItem(scc-&gt;getDriverName(),
+            getCombobox(&quot;GameOptionsWindow/Sound/TableSoundDriver&quot;)-&gt;getItemCount(),
+            scc));
+    }
 
-		// Search the graphic configuration component list
-		for (std::list&lt;RenderSystemConfigComponent*&gt;::iterator it = mRenderSystemConfigs.begin();
-		     it != mRenderSystemConfigs.end(); it++)
-		{
-			RenderSystemConfigComponent* cmp = *it;
-			if (drivername == cmp-&gt;getDriverName() &amp;&amp; mCurrentRenderSystemConfig != cmp)
-			{
-				if (mCurrentRenderSystemConfig != NULL)
-				{
-					mCurrentRenderSystemConfig-&gt;setVisible(false);
-				}
-				cmp-&gt;setVisible(true);
-				mCurrentRenderSystemConfig = cmp;
-				return;
-			}
-		}
-	}
+    void GameSettings::registerRenderSystemConfig(RenderSystemConfigComponent* rcc)
+    {
+    }
 
-	bool GameSettings::onApply()
-	{
+    void GameSettings::setVisible(bool visible, bool destroyAfterHide)
+    {
+        CeGuiWindow::setVisible(visible, destroyAfterHide);
+    }
+
+    void GameSettings::setConfigComponent(const CEGUI::String&amp; drivername)
+    {
+        // Search the sound configuration component list
+        for (std::list&lt;SoundDriverConfigComponent*&gt;::iterator it = mSoundDriverConfigs.begin();
+             it != mSoundDriverConfigs.end(); it++)
+        {
+            SoundDriverConfigComponent* cmp = *it;
+            if (drivername == cmp-&gt;getDriverName() &amp;&amp; mCurrentSoundDriverConfig != cmp)
+            {
+                if (mCurrentSoundDriverConfig != NULL)
+                {
+                    mCurrentSoundDriverConfig-&gt;setVisible(false);
+                }
+                cmp-&gt;setVisible(true);
+                mCurrentSoundDriverConfig = cmp;
+                return;
+            }
+        }
+
+        // Search the graphic configuration component list
+        for (std::list&lt;RenderSystemConfigComponent*&gt;::iterator it = mRenderSystemConfigs.begin();
+             it != mRenderSystemConfigs.end(); it++)
+        {
+            RenderSystemConfigComponent* cmp = *it;
+            if (drivername == cmp-&gt;getDriverName() &amp;&amp; mCurrentRenderSystemConfig != cmp)
+            {
+                if (mCurrentRenderSystemConfig != NULL)
+                {
+                    mCurrentRenderSystemConfig-&gt;setVisible(false);
+                }
+                cmp-&gt;setVisible(true);
+                mCurrentRenderSystemConfig = cmp;
+                return;
+            }
+        }
+    }
+
+    bool GameSettings::onApply()
+    {
         return true;
-	}
+    }
 
-	bool GameSettings::onCancel()
-	{
+    bool GameSettings::onCancel()
+    {
         return true;
-	}
+    }
 
-	bool GameSettings::onSoundDriverChanged()
-	{
+    bool GameSettings::onSoundDriverChanged()
+    {
         return true;
-	}
+    }
 }

Modified: rl/trunk/engine/ui/src/RenderSystemConfigComponent.cpp
===================================================================
--- rl/trunk/engine/ui/src/RenderSystemConfigComponent.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/src/RenderSystemConfigComponent.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -20,17 +20,12 @@
 #include &lt;CEGUIWindowManager.h&gt;
 
 namespace rl {
-	RenderSystemConfigComponent::RenderSystemConfigComponent(const CeGuiString&amp; xmlfile)
-        : ConfigComponent(xmlfile)
-	{
-	}
+    RenderSystemConfigComponent::RenderSystemConfigComponent(const CeGuiString&amp; xmlfile, const CEGUI::String&amp; drivername)
+        : ConfigComponent(xmlfile, drivername)
+    {
+    }
 
     RenderSystemConfigComponent::~RenderSystemConfigComponent()
     {
     }
-
-	const CEGUI::String RenderSystemConfigComponent::getDriverName() const
-	{
-		return getDriver()-&gt;getName();
-	}
 }

Modified: rl/trunk/engine/ui/src/SoundDriverConfigComponent.cpp
===================================================================
--- rl/trunk/engine/ui/src/SoundDriverConfigComponent.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/engine/ui/src/SoundDriverConfigComponent.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -20,17 +20,12 @@
 #include &lt;CEGUIWindowManager.h&gt;
 
 namespace rl {
-	SoundDriverConfigComponent::SoundDriverConfigComponent(const CeGuiString&amp; xmlfile)
-        : ConfigComponent(xmlfile)
-	{
-	}
+    SoundDriverConfigComponent::SoundDriverConfigComponent(const CeGuiString&amp; xmlfile, const CEGUI::String&amp; drivername)
+        : ConfigComponent(xmlfile, drivername)
+    {
+    }
 
     SoundDriverConfigComponent::~SoundDriverConfigComponent()
     {
     }
-
-	const CeGuiString SoundDriverConfigComponent::getDriverName() const
-	{
-		return getDriver()-&gt;getName();
-	}
 }

Deleted: rl/trunk/plugins/fmod4driver/include/Fmod4Config.h
===================================================================
--- rl/trunk/plugins/fmod4driver/include/Fmod4Config.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/include/Fmod4Config.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,55 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
- * Copyright (C) 2003-2006 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
- * 
- *  This program is free software; you can redistribute it and/or modify
- *  it under the terms of the Clarified Artistic License.
- *
- *  This program is distributed in the hope that it will be useful,
- *  but WITHOUT ANY WARRANTY; without even the implied warranty of
- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- *  Clarified Artistic License for more details.
- *
- *  You should have received a copy of the Clarified Artistic License
- *  along with this program; if not you can get it here
- *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
- */
-#ifndef _FMOD4CONFIG_H_
-#define _FMOD4CONFIG_H_
-
-#include &quot;SoundDriverConfigComponent.h&quot;
-#include &quot;Fmod4Driver.h&quot;
-
-namespace rl
-{
-	class Fmod4Config : public SoundDriverConfigComponent
-	{
-	public:
-		Fmod4Config(Fmod4Driver* driver);
-		virtual ~Fmod4Config();
-        virtual void apply();
-        virtual void resetToDefaults();
-        virtual void readDriverData();
-
-	protected:
-		Fmod4Driver* getDriver() const;
-        virtual void initialize();
-
-	private:
-		bool handleDriverChanged();
-		bool handleOutputChanged();
-		bool handleSpeakerChanged();
-		
-		// Die Combobox, aus der gew&#228;hlt wird.
-		CEGUI::Combobox* mOutput;
-		CEGUI::Combobox* mDriver;
-		CEGUI::Combobox* mSpeaker;
-
-		// War der Treiber vorher aktiv.
-		bool mWasActive;
-
-		Fmod4Driver* mFmod4Driver;
-	};
-
-}
-
-#endif /* FMOD4CONFIG_H_*/

Copied: rl/trunk/plugins/fmod4driver/include/Fmod4ConfigComponent.h (from rev 3134, rl/trunk/plugins/fmod4driver/include/Fmod4Config.h)
===================================================================
--- rl/trunk/plugins/fmod4driver/include/Fmod4Config.h	2007-03-06 21:57:31 UTC (rev 3134)
+++ rl/trunk/plugins/fmod4driver/include/Fmod4ConfigComponent.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -0,0 +1,51 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2006 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+#ifndef _FMOD4CONFIG_H_
+#define _FMOD4CONFIG_H_
+
+#include &quot;SoundDriverConfigComponent.h&quot;
+#include &quot;Fmod4Driver.h&quot;
+
+namespace rl
+{
+    class Fmod4ConfigComponent : public SoundDriverConfigComponent
+    {
+    public:
+        Fmod4ConfigComponent();
+        virtual ~Fmod4ConfigComponent();
+        virtual void apply();
+        virtual void resetToDefaults();
+        virtual void readDriverData();
+
+    private:
+        bool handleDriverChanged();
+        bool handleOutputChanged();
+        bool handleSpeakerChanged();
+
+        // Die Combobox, aus der gew&#228;hlt wird.
+        CEGUI::Combobox* mOutput;
+        CEGUI::Combobox* mDriver;
+        CEGUI::Combobox* mSpeaker;
+
+        // War der Treiber vorher aktiv.
+        bool mWasActive;
+
+        Fmod4Driver* mFmod4Driver;
+    };
+
+}
+
+#endif /* FMOD4CONFIG_H_*/

Modified: rl/trunk/plugins/fmod4driver/include/Makefile.am
===================================================================
--- rl/trunk/plugins/fmod4driver/include/Makefile.am	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/include/Makefile.am	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,5 +1,5 @@
 noinst_HEADERS = \
-	Fmod4Config.h \
+	Fmod4ConfigComponent.h \
 	Fmod4Driver.h \
 	Fmod4DriverPrerequisites.h \
 	Fmod4Listener.h \

Deleted: rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp
===================================================================
--- rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,67 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2006 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-#include &quot;Fmod4Config.h&quot;
-
-#include &lt;boost/bind.hpp&gt;
-#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
-    #include &lt;fmod.h&gt;
-#else
-    #include &lt;fmodex/fmod.h&gt;
-#endif
-
-
-#include &quot;Exception.h&quot;
-#include &quot;Fmod4Driver.h&quot;
-#include &quot;SoundDriver.h&quot;
-#include &quot;SoundManager.h&quot;
-
-using namespace CEGUI;
-using namespace Ogre;
-
-namespace rl
-{
-    Fmod4Config::Fmod4Config(Fmod4Driver *driver)
-      : SoundDriverConfigComponent(&quot;fmod4.xml&quot;),
-        mFmod4Driver(driver)
-    {
-    }
-
-    Fmod4Config::~Fmod4Config()
-    {
-    }
-
-    Fmod4Driver* Fmod4Config::getDriver() const
-    {
-        return mFmod4Driver;
-    }
-
-    void Fmod4Config::apply()
-    {
-    }
-
-    void Fmod4Config::resetToDefaults()
-    {
-    }
-
-    void Fmod4Config::readDriverData()
-    {
-    }
-
-    void Fmod4Config::initialize()
-    {
-    }
-
-}

Copied: rl/trunk/plugins/fmod4driver/src/Fmod4ConfigComponent.cpp (from rev 3134, rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp)
===================================================================
--- rl/trunk/plugins/fmod4driver/src/Fmod4Config.cpp	2007-03-06 21:57:31 UTC (rev 3134)
+++ rl/trunk/plugins/fmod4driver/src/Fmod4ConfigComponent.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -0,0 +1,56 @@
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2006 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+*
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+#include &quot;Fmod4ConfigComponent.h&quot;
+
+#include &lt;boost/bind.hpp&gt;
+#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
+    #include &lt;fmod.h&gt;
+#else
+    #include &lt;fmodex/fmod.h&gt;
+#endif
+
+
+#include &quot;Exception.h&quot;
+#include &quot;Fmod4Driver.h&quot;
+#include &quot;SoundDriver.h&quot;
+#include &quot;SoundManager.h&quot;
+
+using namespace CEGUI;
+using namespace Ogre;
+
+namespace rl
+{
+    Fmod4ConfigComponent::Fmod4ConfigComponent()
+      : SoundDriverConfigComponent(&quot;fmod4.xml&quot;, &quot;FMOD Ex&quot;)
+    {
+    }
+
+    Fmod4ConfigComponent::~Fmod4ConfigComponent()
+    {
+    }
+
+    void Fmod4ConfigComponent::apply()
+    {
+    }
+
+    void Fmod4ConfigComponent::resetToDefaults()
+    {
+    }
+
+    void Fmod4ConfigComponent::readDriverData()
+    {
+    }
+}

Modified: rl/trunk/plugins/fmod4driver/src/Fmod4Driver.cpp
===================================================================
--- rl/trunk/plugins/fmod4driver/src/Fmod4Driver.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/src/Fmod4Driver.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -13,8 +13,9 @@
  *  along with this program; if not you can get it here
  *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
  */
+
 #include &quot;Fmod4Driver.h&quot;
-
+#include &quot;Fmod4ConfigComponent.h&quot;
 #include &quot;Fmod4Sound.h&quot;
 #include &quot;Fmod4Listener.h&quot;
 #include &quot;Logger.h&quot;
@@ -34,6 +35,7 @@
         : SoundDriver(soundResourceManager),
         mMasterChannelGroup(NULL)
     {
+        mConfigComponent = new Fmod4ConfigComponent();
         gSoundResourceManager = soundResourceManager;
         gDriver = this;
     }

Modified: rl/trunk/plugins/fmod4driver/src/Fmod4DriverDllMain.cpp
===================================================================
--- rl/trunk/plugins/fmod4driver/src/Fmod4DriverDllMain.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/src/Fmod4DriverDllMain.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,6 +1,6 @@
 /* This source file is part of Rastullahs Lockenpracht.
  * Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
- * 
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the Clarified Artistic License.
  *
@@ -13,37 +13,27 @@
  *  along with this program; if not you can get it here
  *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
  */
-#include &quot;WindowFactory.h&quot;
 
-#include &quot;Fmod4Config.h&quot;
 #include &quot;Fmod4Driver.h&quot;
 #include &quot;SoundManager.h&quot;
+#include &quot;WindowFactory.h&quot;
 
-
 namespace Ogre
 {
-	using namespace rl;
+    using namespace rl;
 
-	Fmod4Driver* fmod4driver = NULL;
-    Fmod4Config* fmod4config = NULL;
+    Fmod4Driver* fmod4driver = NULL;
 
-	//Called from Ogre's dynload when loading plugins
-	extern &quot;C&quot; void dllStartPlugin( void )
-	{
-		fmod4driver = new Fmod4Driver(SoundManager::getSingletonPtr());
-		SoundManager::getSingleton().registerDriver(fmod4driver);
+    //Called from Ogre's dynload when loading plugins
+    extern &quot;C&quot; void dllStartPlugin( void )
+    {
+        fmod4driver = new Fmod4Driver(SoundManager::getSingletonPtr());
+        SoundManager::getSingleton().registerDriver(fmod4driver);
+    }
 
-		// Register config window
-		///\todo This ain't working. Dunno why, don't care right now.
-        //fmod4config = new Fmod4Config(fmod4driver);
-		//WindowFactory::getSingleton().registerSoundConfigComponent(fmod4config);
-	}
-
-	//Called when unloading plugins
-	extern &quot;C&quot; void dllStopPlugin( void )
-	{
-        delete fmod4config;
-
+    //Called when unloading plugins
+    extern &quot;C&quot; void dllStopPlugin( void )
+    {
         delete fmod4driver;
-	}
+    }
 }

Modified: rl/trunk/plugins/fmod4driver/src/Makefile.am
===================================================================
--- rl/trunk/plugins/fmod4driver/src/Makefile.am	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/fmod4driver/src/Makefile.am	2007-03-08 15:54:08 UTC (rev 3157)
@@ -10,7 +10,7 @@
      -lfmodex $(OGRE_LIBS) $(CEGUIOGRE_LIBS) $(LIBS)
 
 libRlFmod4Driver_la_SOURCES = \
-	Fmod4Config.cpp \
+	Fmod4ConfigComponent.cpp \
 	Fmod4Driver.cpp \
 	Fmod4DriverDllMain.cpp \
 	Fmod4Listener.cpp \

Modified: rl/trunk/plugins/openaldriver/include/Makefile.am
===================================================================
--- rl/trunk/plugins/openaldriver/include/Makefile.am	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/include/Makefile.am	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,5 +1,5 @@
 noinst_HEADERS = \
-	OpenALConfig.h \
+	OpenALConfigComponent.h \
 	OpenALDriver.h \
 	OpenALDriverPrerequisites.h \
 	OpenALListener.h \

Deleted: rl/trunk/plugins/openaldriver/include/OpenALConfig.h
===================================================================
--- rl/trunk/plugins/openaldriver/include/OpenALConfig.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/include/OpenALConfig.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,43 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-#ifndef _OpenALConfig_H_
-#define _OpenALConfig_H
-
-#include &quot;SoundDriverConfigComponent.h&quot;
-#include &quot;OpenALDriver.h&quot;
-
-namespace rl {
-
-	class OpenALConfig : public SoundDriverConfigComponent
-	{
-	public:
-		OpenALConfig(OpenALDriver* driver);
-		~OpenALConfig();
-
-        virtual void apply();
-        virtual void resetToDefaults();
-        virtual void readDriverData();
-
-    protected:
-		virtual OpenALDriver* getDriver() const;
-        virtual void initialize();
-
-	private:
-		OpenALDriver* mDriver;
-	};
-}
-
-#endif //_OpenALConfig_H_

Copied: rl/trunk/plugins/openaldriver/include/OpenALConfigComponent.h (from rev 3134, rl/trunk/plugins/openaldriver/include/OpenALConfig.h)
===================================================================
--- rl/trunk/plugins/openaldriver/include/OpenALConfig.h	2007-03-06 21:57:31 UTC (rev 3134)
+++ rl/trunk/plugins/openaldriver/include/OpenALConfigComponent.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -0,0 +1,36 @@
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+*
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+#ifndef _OpenALConfig_H_
+#define _OpenALConfig_H
+
+#include &quot;SoundDriverConfigComponent.h&quot;
+#include &quot;OpenALDriver.h&quot;
+
+namespace rl {
+
+    class OpenALConfigComponent : public SoundDriverConfigComponent
+    {
+    public:
+        OpenALConfigComponent();
+        ~OpenALConfigComponent();
+
+        virtual void apply();
+        virtual void resetToDefaults();
+        virtual void readDriverData();
+    };
+}
+
+#endif //_OpenALConfig_H_

Modified: rl/trunk/plugins/openaldriver/include/OpenALDriver.h
===================================================================
--- rl/trunk/plugins/openaldriver/include/OpenALDriver.h	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/include/OpenALDriver.h	2007-03-08 15:54:08 UTC (rev 3157)
@@ -51,10 +51,10 @@
         virtual void setRolloffFactor(const Ogre::Real&amp; f);
         virtual const Ogre::Real getRolloffFactor();
 
-        /**
-         * If this driver is a Ogre plugin, it returns TRUE.
-         * @return bool TRUE if Ogre plugin, FALSE otherwise.
-         */
+        /**
+         * If this driver is a Ogre plugin, it returns TRUE.
+         * @return bool TRUE if Ogre plugin, FALSE otherwise.
+         */
         virtual bool isDriverPlugin();
 
     protected:

Modified: rl/trunk/plugins/openaldriver/src/Makefile.am
===================================================================
--- rl/trunk/plugins/openaldriver/src/Makefile.am	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/src/Makefile.am	2007-03-08 15:54:08 UTC (rev 3157)
@@ -10,8 +10,8 @@
     -lopenal $(RUBY_LIBS) $(OGRE_LIBS) $(CEGUI_LIBS) $(LIBS)
 
 libRlOpenALDriver_la_SOURCES = \
+	OpenALConfigComponent.cpp \
 	OpenALDriver.cpp \
-	OpenALConfig.cpp \
 	OpenALDriverDllMain.cpp \
 	OpenALListener.cpp \
 	OpenALSound.cpp \

Deleted: rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp
===================================================================
--- rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -1,50 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-#include &quot;OpenALConfig.h&quot;
-
-namespace rl {
-
-	OpenALConfig::OpenALConfig(OpenALDriver* driver)
-		:   SoundDriverConfigComponent(&quot;openal.xml&quot;),
-			mDriver(driver)
-	{
-	}
-
-	OpenALConfig::~OpenALConfig()
-	{
-	}
-
-	OpenALDriver* OpenALConfig::getDriver() const
-	{
-		return mDriver;
-	}
-
-    void OpenALConfig::apply()
-    {
-    }
-
-    void OpenALConfig::resetToDefaults()
-    {
-    }
-
-    void OpenALConfig::readDriverData()
-    {
-    }
-
-    void OpenALConfig::initialize()
-    {
-    }
-}

Copied: rl/trunk/plugins/openaldriver/src/OpenALConfigComponent.cpp (from rev 3134, rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp)
===================================================================
--- rl/trunk/plugins/openaldriver/src/OpenALConfig.cpp	2007-03-06 21:57:31 UTC (rev 3134)
+++ rl/trunk/plugins/openaldriver/src/OpenALConfigComponent.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -0,0 +1,40 @@
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+*
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+#include &quot;OpenALConfigComponent.h&quot;
+
+namespace rl {
+
+    OpenALConfigComponent::OpenALConfigComponent()
+        :   SoundDriverConfigComponent(&quot;openal.xml&quot;, &quot;OpenAL&quot;)
+    {
+    }
+
+    OpenALConfigComponent::~OpenALConfigComponent()
+    {
+    }
+
+    void OpenALConfigComponent::apply()
+    {
+    }
+
+    void OpenALConfigComponent::resetToDefaults()
+    {
+    }
+
+    void OpenALConfigComponent::readDriverData()
+    {
+    }
+}

Modified: rl/trunk/plugins/openaldriver/src/OpenALDriverDllMain.cpp
===================================================================
--- rl/trunk/plugins/openaldriver/src/OpenALDriverDllMain.cpp	2007-03-08 10:19:28 UTC (rev 3156)
+++ rl/trunk/plugins/openaldriver/src/OpenALDriverDllMain.cpp	2007-03-08 15:54:08 UTC (rev 3157)
@@ -16,32 +16,28 @@
 #include &quot;WindowFactory.h&quot;
 
 #include &quot;OpenALDriver.h&quot;
-#include &quot;OpenALConfig.h&quot;
 #include &quot;SoundManager.h&quot;
 
 namespace Ogre
 {
-	using namespace rl;
+    using namespace rl;
 
-	OpenALDriver* openaldriver;
+    OpenALDriver* openaldriver;
 
-	//Called from Ogre's dynload when loading plugins
-	extern &quot;C&quot; void dllStartPlugin( void )
-	{
-		// Create the driver
-		openaldriver = new OpenALDriver(SoundManager::getSingletonPtr());
+    //Called from Ogre's dynload when loading plugins
+    extern &quot;C&quot; void dllStartPlugin( void )
+    {
+        // Create the driver
+        openaldriver = new OpenALDriver(SoundManager::getSingletonPtr());
 
-		// Register driver
-		SoundManager::getSingleton().registerDriver(openaldriver);
+        // Register driver
+        SoundManager::getSingleton().registerDriver(openaldriver);
+    }
 
-		// Register config window
-		// WindowFactory::getSingleton().registerSoundConfigComponent(new OpenALConfig(openaldriver));
-	}
-
-	//Called when unloading plugins
-	extern &quot;C&quot; void dllStopPlugin( void )
-	{
-		//Just delete the driver :P
-		delete openaldriver;
-	}
+    //Called when unloading plugins
+    extern &quot;C&quot; void dllStopPlugin( void )
+    {
+        //Just delete the driver :P
+        delete openaldriver;
+    }
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000227.html">[Dsa-hl-svn] r3156 - in rl/trunk/engine: ai/src rules/include	rules/src script/swig
</A></li>
	<LI>Next message: <A HREF="000229.html">[Dsa-hl-svn] r3158 - in rl/trunk/plugins: fmod4driver	fmod4driver/src openaldriver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#228">[ date ]</a>
              <a href="thread.html#228">[ thread ]</a>
              <a href="subject.html#228">[ subject ]</a>
              <a href="author.html#228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
