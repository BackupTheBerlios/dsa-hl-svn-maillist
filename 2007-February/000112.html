<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r3041 - in rl/trunk: engine/ai engine/common	engine/core engine/core/include engine/core/src engine/dialog	engine/rules engine/script engine/startup engine/ui	engine/uicomponents plugins/fmod4driver plugins/openaldriver tools
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3041%20-%20in%20rl/trunk%3A%20engine/ai%20engine/common%0A%09engine/core%20engine/core/include%20engine/core/src%20engine/dialog%0A%09engine/rules%20engine/script%20engine/startup%20engine/ui%0A%09engine/uicomponents%20plugins/fmod4driver%20plugins/openaldriver%20tools&In-Reply-To=%3C200702122326.l1CNQeBQ000389%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000111.html">
   <LINK REL="Next"  HREF="000113.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r3041 - in rl/trunk: engine/ai engine/common	engine/core engine/core/include engine/core/src engine/dialog	engine/rules engine/script engine/startup engine/ui	engine/uicomponents plugins/fmod4driver plugins/openaldriver tools</H1>
    <B>tanis at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3041%20-%20in%20rl/trunk%3A%20engine/ai%20engine/common%0A%09engine/core%20engine/core/include%20engine/core/src%20engine/dialog%0A%09engine/rules%20engine/script%20engine/startup%20engine/ui%0A%09engine/uicomponents%20plugins/fmod4driver%20plugins/openaldriver%20tools&In-Reply-To=%3C200702122326.l1CNQeBQ000389%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r3041 - in rl/trunk: engine/ai engine/common	engine/core engine/core/include engine/core/src engine/dialog	engine/rules engine/script engine/startup engine/ui	engine/uicomponents plugins/fmod4driver plugins/openaldriver tools">tanis at mail.berlios.de
       </A><BR>
    <I>Tue Feb 13 00:26:40 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000111.html">[Dsa-hl-svn] r3040 - dependencies/OgreNewt
</A></li>
        <LI>Next message: <A HREF="000113.html">[Dsa-hl-svn] r3042 - in rl/trunk: . engine/script/src plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112">[ date ]</a>
              <a href="thread.html#112">[ thread ]</a>
              <a href="subject.html#112">[ subject ]</a>
              <a href="author.html#112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tanis
Date: 2007-02-13 00:26:20 +0100 (Tue, 13 Feb 2007)
New Revision: 3041

Added:
   rl/trunk/engine/core/include/PlaySoundJob.h
   rl/trunk/engine/core/src/PlaySoundJob.cpp
Modified:
   rl/trunk/engine/ai/RlAI2005.vcproj
   rl/trunk/engine/common/RlCommon2005.vcproj
   rl/trunk/engine/core/RlCore2005.vcproj
   rl/trunk/engine/core/src/CoreSubsystem.cpp
   rl/trunk/engine/dialog/RlDialog2005.vcproj
   rl/trunk/engine/rules/RlRules2005.vcproj
   rl/trunk/engine/script/RlScript2005.vcproj
   rl/trunk/engine/startup/RlStartup2005.vcproj
   rl/trunk/engine/ui/RlUI2005.vcproj
   rl/trunk/engine/uicomponents/RlUIComponents2005.vcproj
   rl/trunk/plugins/fmod4driver/RlFmod4Driver.vcproj
   rl/trunk/plugins/openaldriver/RlOpenALDriver.vcproj
   rl/trunk/tools/copy_dependencies.bat
Log:
Changes to make RL work with Ogre 1.4.0RC1. You have to update to Ogre 1.4.0RC1 on Windows too now!

Also prematurely commit sound job, this doesn't work yet, but doesn't hurt either. Only committed it, in order to not have two different RlCore project files locally.

Modified: rl/trunk/engine/ai/RlAI2005.vcproj
===================================================================
--- rl/trunk/engine/ai/RlAI2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/ai/RlAI2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -74,7 +74,7 @@
 				AdditionalDependencies=&quot;OgreMain_d.lib OgreNewt_d.lib CEGUIBase_d.lib opensteerd.lib RlCommon.lib RlCore.lib RlRules.lib RlDialog.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlAI.dll&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib\;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/RlAI.pdb&quot;
@@ -160,7 +160,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib OgreNewt.lib CEGUIBase.lib opensteer.lib RlCommon.lib RlCore.lib RlRules.lib RlDialog.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlAI.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -244,7 +244,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib OgreNewt.lib CEGUIBase.lib opensteer.lib RlCommon.lib RlCore.lib RlRules.lib RlDialog.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlAI.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\core\lib\Release;..\rules\lib\Release;..\dialog\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\ogrenewt\lib\Release;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\core\lib\Release;..\rules\lib\Release;..\dialog\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\ogrenewt\lib\Release;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\opensteer\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;

Modified: rl/trunk/engine/common/RlCommon2005.vcproj
===================================================================
--- rl/trunk/engine/common/RlCommon2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/common/RlCommon2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -70,7 +70,7 @@
 				AdditionalDependencies=&quot;OgreMain_d.lib xerces-c_2D.lib CEGUIBase_d.lib boost_thread-vc80-mt-gd-1_33_1.lib&quot;
 				OutputFile=&quot;./lib/$(ConfigurationName)/RlCommon.dll&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/RlCommon.pdb&quot;
@@ -156,7 +156,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib xerces-c_2.lib CEGUIBase.lib boost_thread-vc80-mt-1_33_1.lib&quot;
 				OutputFile=&quot;./lib/$(ConfigurationName)/RlCommon.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -240,7 +240,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib xerces-c_2.lib CEGUIBase.lib boost_thread-vc80-mt-1_33_1.lib&quot;
 				OutputFile=&quot;./lib/$(ConfigurationName)/RlCommon.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\Release&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\cegui_mk2\lib\$(PlatformName)\Release&quot;;..\..\dependencies\cegui_mk2\lib\;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -317,10 +317,6 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;.\src\PauseObject.cpp&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
 				RelativePath=&quot;.\src\Playlist.cpp&quot;
 				&gt;
 			&lt;/File&gt;
@@ -433,10 +429,6 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;.\include\PauseObject.h&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
 				RelativePath=&quot;.\include\Playlist.h&quot;
 				&gt;
 			&lt;/File&gt;

Modified: rl/trunk/engine/core/RlCore2005.vcproj
===================================================================
--- rl/trunk/engine/core/RlCore2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/core/RlCore2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -87,7 +87,7 @@
 				OutputFile=&quot;./lib/$(ConfigurationName)/RlCore.dll&quot;
 				LinkIncremental=&quot;2&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				IgnoreDefaultLibraryNames=&quot;&quot;
 				TypeLibraryFile=&quot;$(OutDir)\RlCore.lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
@@ -197,7 +197,7 @@
 				OutputFile=&quot;./lib/$(ConfigurationName)/RlCore.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				TypeLibraryFile=&quot;$(OutDir)\RlCore.lib&quot;
 				ProgramDatabaseFile=&quot;&quot;
 				SubSystem=&quot;2&quot;
@@ -302,7 +302,7 @@
 				OutputFile=&quot;$(OutDir)/RlCore.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				TypeLibraryFile=&quot;$(OutDir)\RlCore.lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				ProgramDatabaseFile=&quot;$(TargetDir)$(TargetName).pdb&quot;
@@ -513,6 +513,10 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
+				RelativePath=&quot;.\include\PlaySoundJob.h&quot;
+				&gt;
+			&lt;/File&gt;
+			&lt;File
 				RelativePath=&quot;.\include\PrimitiveObject.h&quot;
 				&gt;
 			&lt;/File&gt;
@@ -730,6 +734,10 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
+				RelativePath=&quot;.\src\PlaySoundJob.cpp&quot;
+				&gt;
+			&lt;/File&gt;
+			&lt;File
 				RelativePath=&quot;.\src\PrimitiveObject.cpp&quot;
 				&gt;
 			&lt;/File&gt;

Added: rl/trunk/engine/core/include/PlaySoundJob.h
===================================================================
--- rl/trunk/engine/core/include/PlaySoundJob.h	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/core/include/PlaySoundJob.h	2007-02-12 23:26:20 UTC (rev 3041)
@@ -0,0 +1,50 @@
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+* 
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+
+#ifndef __RL_PLAY_SOUND_JOB_H__
+#define __RL_PLAY_SOUND_JOB_H__
+
+#include &quot;CorePrerequisites.h&quot;
+#include &quot;Job.h&quot;
+
+namespace rl
+{
+    class Sound;
+
+    class _RlCoreExport PlaySound2dJob : public Job
+    {
+    public:
+
+        PlaySound2dJob(const Ogre::String&amp; sound, Ogre::Real volume=1.0f,
+            bool looping=false, bool isDiscardable=false);
+        virtual ~PlaySound2dJob();
+
+        /// Play the sound.
+        /// @return true, when the sound is done playing, false else.
+        /// @todo this return-behaviour is actually a hack to prevent a memory leak.
+        ///       We have to find a way to get rid of the sound automatically, when it is done
+        ///       playing.
+        virtual bool execute(Ogre::Real time);
+
+        /// Do nothing, since the sound can be either played or not.
+        /// Once started, it is not aborted.
+        virtual void discard();
+    private:
+        Sound* mSound;
+    };
+}
+
+#endif

Modified: rl/trunk/engine/core/src/CoreSubsystem.cpp
===================================================================
--- rl/trunk/engine/core/src/CoreSubsystem.cpp	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/core/src/CoreSubsystem.cpp	2007-02-12 23:26:20 UTC (rev 3041)
@@ -158,9 +158,19 @@
         // Load Ogre plugins
         Ogre::StringVector pluginList = ConfigurationManager::getSingleton().getPluginList();
 
+        ///\todo In Windows Ogre now uses a _d suffix for debug plugins. But client application is
+        /// responsible for loading the proper vesion. This way to do it is kinda ugly.
+        /// We should somehow handle this in the ConfigurationManager.
+        Ogre::String pluginSuffix = &quot;&quot;;
+#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
+#ifdef _DEBUG
+        pluginSuffix = &quot;_d&quot;;
+#endif
+#endif
+
         for (Ogre::StringVector::const_iterator it = pluginList.begin(); it &lt; pluginList.end(); it++)
         {
-            mOgreRoot-&gt;loadPlugin(*it);
+            mOgreRoot-&gt;loadPlugin(*it + pluginSuffix);
         }
 
         // Find out, what Renderer plugins are available

Added: rl/trunk/engine/core/src/PlaySoundJob.cpp
===================================================================
--- rl/trunk/engine/core/src/PlaySoundJob.cpp	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/core/src/PlaySoundJob.cpp	2007-02-12 23:26:20 UTC (rev 3041)
@@ -0,0 +1,51 @@
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+* 
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+
+#include &quot;PlaySoundJob.h&quot;
+#include &quot;Sound.h&quot;
+#include &quot;SoundManager.h&quot;
+#include &quot;SoundDriver.h&quot;
+
+using namespace Ogre;
+
+namespace rl
+{
+
+    PlaySound2dJob::PlaySound2dJob(const String&amp; sound, Real volume,
+        bool looping, bool isDiscardable) : Job(isDiscardable, true), mSound()
+    {
+        mSound = SoundManager::getSingleton().getActiveDriver()-&gt;
+            createStream(SoundManager::getSingleton().getByName(sound));
+        mSound-&gt;set3d(false);
+        mSound-&gt;setVolume(volume);
+        mSound-&gt;setLooping(looping);
+    }
+
+    PlaySound2dJob::~PlaySound2dJob()
+    {
+        delete mSound;
+    }
+
+    bool PlaySound2dJob::execute(Ogre::Real time)
+    {
+        if (mSound) mSound-&gt;play();
+        return true;
+    }
+
+    void PlaySound2dJob::discard()
+    {
+    }
+}

Modified: rl/trunk/engine/dialog/RlDialog2005.vcproj
===================================================================
--- rl/trunk/engine/dialog/RlDialog2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/dialog/RlDialog2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -73,7 +73,7 @@
 				AdditionalDependencies=&quot;OgreMain_d.lib xerces-c_2D.lib RlCommon.lib RlCore.lib RlRules.lib CEGUIBase_d.lib MadaBot.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlDialog.dll&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\aiml\MadaBot\lib\$(ConfigurationName)&quot;&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\aiml\MadaBot\lib\$(ConfigurationName)&quot;&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/RlDialog.pdb&quot;
@@ -159,7 +159,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib xerces-c_2.lib RlCommon.lib RlCore.lib RlRules.lib CEGUIBase.lib MadaBot.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlDialog.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\aiml\MadaBot\lib\$(ConfigurationName)&quot;&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\aiml\MadaBot\lib\$(ConfigurationName)&quot;&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -243,7 +243,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib xerces-c_2.lib RlCommon.lib RlCore.lib RlRules.lib CEGUIBase.lib MadaBot.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlDialog.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\core\lib\Release;..\rules\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\aiml\MadaBot\lib\Release&quot;
+				AdditionalLibraryDirectories=&quot;..\common\lib\Release;..\core\lib\Release;..\rules\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\aiml\MadaBot\lib\Release&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;

Modified: rl/trunk/engine/rules/RlRules2005.vcproj
===================================================================
--- rl/trunk/engine/rules/RlRules2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/rules/RlRules2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -70,7 +70,7 @@
 				AdditionalDependencies=&quot;msvcrt-ruby18.lib xerces-c_2D.lib OgreMain_d.lib CEGUIBase_d.lib RlCore.lib OgreNewt_d.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlRules.dll&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\NewtonSDK\sdk\dll;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/RlRules.pdb&quot;
@@ -156,7 +156,7 @@
 				AdditionalDependencies=&quot;msvcrt-ruby18.lib OgreMain.lib xerces-c_2.lib CEGUIBase.lib RlCore.lib OgreNewt.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlRules.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -240,7 +240,7 @@
 				AdditionalDependencies=&quot;msvcrt-ruby18.lib OgreMain.lib xerces-c_2.lib CEGUIBase.lib RlCore.lib OgreNewt.lib Newton.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlRules.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\core\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\OgreNewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll&quot;
+				AdditionalLibraryDirectories=&quot;..\core\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\xerces\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\OgreNewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;

Modified: rl/trunk/engine/script/RlScript2005.vcproj
===================================================================
--- rl/trunk/engine/script/RlScript2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/script/RlScript2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -67,7 +67,7 @@
 				AdditionalDependencies=&quot;RlCore.lib RlAi.lib RlUi.lib RlRules.lib RlDialog.lib OgreMain_d.lib msvcrt-ruby18.lib CEGUIBase_d.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlScript.dll&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/RlScript.pdb&quot;
@@ -151,7 +151,7 @@
 				AdditionalDependencies=&quot;RlCore.lib RlAi.lib RlUi.lib RlRules.lib RlDialog.lib OgreMain.lib msvcrt-ruby18.lib CEGUIBase.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlScript.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\dialog\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -233,7 +233,7 @@
 				AdditionalDependencies=&quot;RlCore.lib RlAi.lib RlUi.lib RlRules.lib RlDialog.lib OgreMain.lib msvcrt-ruby18.lib CEGUIBase.lib&quot;
 				OutputFile=&quot;$(OutDir)/RlScript.dll&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\rules\lib\Release;..\core\lib\Release;..\dialog\lib\Release;..\ui\lib\Release;..\ai\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\rules\lib\Release;..\core\lib\Release;..\dialog\lib\Release;..\ui\lib\Release;..\ai\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;

Modified: rl/trunk/engine/startup/RlStartup2005.vcproj
===================================================================
--- rl/trunk/engine/startup/RlStartup2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/startup/RlStartup2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -68,7 +68,7 @@
 				AdditionalDependencies=&quot;OgreMain_d.lib RlCommon.lib RlCore.lib RlAi.lib RlUi.lib RlScript.lib CEGUIBase_d.lib Shell32.lib&quot;
 				OutputFile=&quot;$(OutDir)/Rastullah.exe&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\script\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\script\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
 				ProgramDatabaseFile=&quot;$(OutDir)/Rastullah.pdb&quot;
@@ -156,7 +156,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib RlCommon.lib RlCore.lib RlAi.lib RlUi.lib RlScript.lib CEGUIBase.lib Shell32.lib user32.lib&quot;
 				OutputFile=&quot;$(OutDir)/Rastullah.exe&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\script\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\common\lib\$(ConfigurationName)&quot;;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\script\lib\$(ConfigurationName)&quot;;&quot;..\ai\lib\$(ConfigurationName)&quot;;&quot;..\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;false&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;
@@ -242,7 +242,7 @@
 				AdditionalDependencies=&quot;OgreMain.lib RlCommon.lib RlCore.lib RlAi.lib RlUi.lib RlScript.lib CEGUIBase.lib Shell32.lib user32.lib&quot;
 				OutputFile=&quot;$(OutDir)/Rastullah.exe&quot;
 				LinkIncremental=&quot;1&quot;
-				AdditionalLibraryDirectories=&quot;..\rules\lib\Release;..\common\lib\Release;..\core\lib\Release;..\script\lib\Release;..\ai\lib\Release;..\ui\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\rules\lib\Release;..\common\lib\Release;..\core\lib\Release;..\script\lib\Release;..\ai\lib\Release;..\ui\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\xerces\lib;..\..\dependencies\boost\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				SubSystem=&quot;2&quot;
 				OptimizeReferences=&quot;2&quot;

Modified: rl/trunk/engine/ui/RlUI2005.vcproj
===================================================================
--- rl/trunk/engine/ui/RlUI2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/ui/RlUI2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -87,7 +87,7 @@
 				OutputFile=&quot;$(OutDir)/RlUI.dll&quot;
 				LinkIncremental=&quot;2&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\uicomponents\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\Samples\Common\CEGUIRenderer\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\uicomponents\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
 				IgnoreDefaultLibraryNames=&quot;&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
@@ -194,7 +194,7 @@
 				OutputFile=&quot;$(OutDir)/RlUI.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\uicomponents\lib\$(ConfigurationName)&quot;;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\Samples\Common\CEGUIRenderer\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\core\lib\$(ConfigurationName)&quot;;&quot;..\rules\lib\$(ConfigurationName)&quot;;&quot;..\uicomponents\lib\$(ConfigurationName)&quot;;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;&quot;..\..\dependencies\OgreNewt\lib\$(ConfigurationName)&quot;;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
 				ProgramDatabaseFile=&quot;&quot;
 				SubSystem=&quot;2&quot;
 			/&gt;
@@ -296,7 +296,7 @@
 				OutputFile=&quot;$(OutDir)/RlUI.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;..\core\lib\Release;..\rules\lib\Release;..\uicomponents\lib\Release;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\ogrenew\Samples\Common\CEGUIRenderer\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\OgreNewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
+				AdditionalLibraryDirectories=&quot;..\core\lib\Release;..\rules\lib\Release;..\uicomponents\lib\Release;..\..\dependencies\ogrenew\lib;..\..\dependencies\ruby\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\boost\lib;..\..\dependencies\xerces\lib;..\..\dependencies\OgreNewt\lib\Release;..\..\dependencies\NewtonSDK\sdk\dll;..\..\dependencies\ois\dll&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				ProgramDatabaseFile=&quot;$(TargetDir)$(TargetName).pdb&quot;
 				SubSystem=&quot;2&quot;

Modified: rl/trunk/engine/uicomponents/RlUIComponents2005.vcproj
===================================================================
--- rl/trunk/engine/uicomponents/RlUIComponents2005.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/engine/uicomponents/RlUIComponents2005.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -86,7 +86,7 @@
 				OutputFile=&quot;./lib/debug/RlUiComponents.dll&quot;
 				LinkIncremental=&quot;2&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenew\lib&quot;
 				IgnoreDefaultLibraryNames=&quot;&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
@@ -193,7 +193,7 @@
 				OutputFile=&quot;./lib/release/RlUiComponents.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenew\lib&quot;
 				ProgramDatabaseFile=&quot;&quot;
 				SubSystem=&quot;2&quot;
 			/&gt;
@@ -295,7 +295,7 @@
 				OutputFile=&quot;$(OutDir)/RlUiComponents.dll&quot;
 				LinkIncremental=&quot;1&quot;
 				SuppressStartupBanner=&quot;true&quot;
-				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenew\OgreMain\lib\Release&quot;
+				AdditionalLibraryDirectories=&quot;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\ogrenew\lib&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				ProgramDatabaseFile=&quot;$(TargetDir)$(TargetName).pdb&quot;
 				SubSystem=&quot;2&quot;

Modified: rl/trunk/plugins/fmod4driver/RlFmod4Driver.vcproj
===================================================================
--- rl/trunk/plugins/fmod4driver/RlFmod4Driver.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/plugins/fmod4driver/RlFmod4Driver.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -65,7 +65,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain_d.lib ceguibase_d.lib fmodex_vc.lib&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
 				ModuleDefinitionFile=&quot;Fmod4DriverDllExports.def&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
@@ -143,7 +143,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain.lib ceguibase.lib fmodex_vc.lib&quot;
 				OutputFile=&quot;$(OutDir)\$(ProjectName).dll&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
 				ModuleDefinitionFile=&quot;Fmod4DriverDllExports.def&quot;
 			/&gt;
 			&lt;Tool
@@ -214,7 +214,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain.lib ceguibase.lib fmodex_vc.lib&quot;
 				OutputFile=&quot;$(OutDir)\$(ProjectName).dll&quot;
-				AdditionalLibraryDirectories=&quot;..\..\engine\common\lib\Release;..\..\engine\core\lib\Release;..\..\engine\multimedia\lib\Release;..\..\engine\ui\lib\Release;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
+				AdditionalLibraryDirectories=&quot;..\..\engine\common\lib\Release;..\..\engine\core\lib\Release;..\..\engine\multimedia\lib\Release;..\..\engine\ui\lib\Release;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\fmod4\api\lib&quot;
 				ModuleDefinitionFile=&quot;Fmod4DriverDllExports.def&quot;
 				GenerateDebugInformation=&quot;true&quot;
 			/&gt;

Modified: rl/trunk/plugins/openaldriver/RlOpenALDriver.vcproj
===================================================================
--- rl/trunk/plugins/openaldriver/RlOpenALDriver.vcproj	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/plugins/openaldriver/RlOpenALDriver.vcproj	2007-02-12 23:26:20 UTC (rev 3041)
@@ -59,7 +59,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain_d.lib ceguibase_d.lib&quot;
 				LinkIncremental=&quot;2&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
 				ModuleDefinitionFile=&quot;OpenALDriverDllExports.def&quot;
 				GenerateDebugInformation=&quot;true&quot;
 				AssemblyDebug=&quot;1&quot;
@@ -132,7 +132,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain.lib ceguibase.lib&quot;
 				OutputFile=&quot;$(OutDir)\$(ProjectName).dll&quot;
-				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;&quot;..\..\dependencies\ogrenew\OgreMain\lib\$(ConfigurationName)&quot;;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
+				AdditionalLibraryDirectories=&quot;&quot;..\..\engine\common\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\core\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\multimedia\lib\$(ConfigurationName)&quot;;&quot;..\..\engine\ui\lib\$(ConfigurationName)&quot;;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
 				ModuleDefinitionFile=&quot;OpenALDriverDllExports.def&quot;
 			/&gt;
 			&lt;Tool
@@ -201,7 +201,7 @@
 				Name=&quot;VCLinkerTool&quot;
 				AdditionalDependencies=&quot;RlCommon.lib RlCore.lib RlUi.lib OgreMain.lib ceguibase.lib&quot;
 				OutputFile=&quot;$(OutDir)\$(ProjectName).dll&quot;
-				AdditionalLibraryDirectories=&quot;..\..\engine\common\lib\Release;..\..\engine\core\lib\Release;..\..\engine\multimedia\lib\Release;..\..\engine\ui\lib\Release;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\OgreMain\lib\Release;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
+				AdditionalLibraryDirectories=&quot;..\..\engine\common\lib\Release;..\..\engine\core\lib\Release;..\..\engine\multimedia\lib\Release;..\..\engine\ui\lib\Release;..\..\dependencies\boost\lib;..\..\dependencies\ogrenew\lib;..\..\dependencies\cegui_mk2\lib;..\..\dependencies\OpenAL\libs\Win32&quot;
 				ModuleDefinitionFile=&quot;OpenALDriverDllExports.def&quot;
 				GenerateDebugInformation=&quot;true&quot;
 			/&gt;

Modified: rl/trunk/tools/copy_dependencies.bat
===================================================================
--- rl/trunk/tools/copy_dependencies.bat	2007-02-12 21:35:08 UTC (rev 3040)
+++ rl/trunk/tools/copy_dependencies.bat	2007-02-12 23:26:20 UTC (rev 3041)
@@ -4,9 +4,6 @@
 
 @SET OGREHOME=&quot;%1\Dependencies\ogrenew&quot;
 @SET OGREDEPS=&quot;%1\Dependencies\ogrenew\Dependencies&quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">- at SET</A> OGREPLUGINS=&quot;%1\Dependencies\ogrenew\PlugIns&quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">- at SET</A> OGRERENDERERS=&quot;%1\Dependencies\ogrenew\RenderSystems&quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">- at SET</A> OGREPLATFORMS=&quot;%1\Dependencies\ogrenew\PlatformManagers&quot;
 
 REM Verzeichnisse erzeugen
 REM ----------------------
@@ -19,26 +16,25 @@
 
 REM Ogre Dateien kopieren
 REM ---------------------
-copy &quot;%OGREHOME%\OgreMain\lib\%BUILD%\OgreMain.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREHOME%\OgreMain\lib\%BUILD%\OgreMain_d.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\OgreMain.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\OgreMain_d.dll&quot; &quot;%RL_DIST%&quot;
 
-copy &quot;%OGREPLUGINS%\CgProgramManager\bin\%BUILD%\Plugin_CgProgramManager.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREPLUGINS%\OctreeSceneManager\bin\%BUILD%\Plugin_OctreeSceneManager.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREPLUGINS%\ParticleFx\bin\%BUILD%\Plugin_ParticleFx.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_CgProgramManager.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_OctreeSceneManager.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_ParticleFx.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_CgProgramManager_d.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_OctreeSceneManager_d.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\Plugin_ParticleFx_d.dll&quot; &quot;%RL_DIST%&quot;
 
-copy &quot;%OGRERENDERERS%\Direct3D9\bin\%BUILD%\RenderSystem_Direct3D9.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGRERENDERERS%\GL\bin\%BUILD%\RenderSystem_GL.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\RenderSystem_Direct3D9.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\RenderSystem_GL.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\RenderSystem_Direct3D9_d.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\RenderSystem_GL_d.dll&quot; &quot;%RL_DIST%&quot;
 
-copy &quot;%OGREPLATFORMS%\Win32\bin\%BUILD%\PlatFormManager_Win32.dll&quot; &quot;%RL_DIST%\OgrePlatform.dll&quot;
-copy &quot;%OGREPLATFORMS%\Win32\bin\%BUILD%\PlatFormManager_Win32.dll&quot; &quot;%RL_DIST%\OgrePlatform_d.dll&quot;
+copy &quot;%OGREHOME%\lib\OgreGUIRenderer_d.dll&quot; &quot;%RL_DIST%&quot;
+copy &quot;%OGREHOME%\lib\OgreGUIRenderer.dll&quot; &quot;%RL_DIST%&quot;
 
-copy &quot;%OGREHOME%\Samples\Common\CEGUIRenderer\bin\Debug\OgreGUIRenderer_d.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREHOME%\Samples\Common\CEGUIRenderer\bin\Release\OgreGUIRenderer.dll&quot; &quot;%RL_DIST%&quot;
-
 copy &quot;%OGREHOME%\Samples\Common\Bin\%BUILD%\cg.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREHOME%\Samples\Common\Bin\%BUILD%\freeimage.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREHOME%\Samples\Common\Bin\%BUILD%\freeimaged.dll&quot; &quot;%RL_DIST%&quot;
-copy &quot;%OGREHOME%\Samples\Common\Bin\%BUILD%\zlib1.dll&quot; &quot;%RL_DIST%&quot;
 
 REM Boost Dateien kopieren
 REM ---------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000111.html">[Dsa-hl-svn] r3040 - dependencies/OgreNewt
</A></li>
	<LI>Next message: <A HREF="000113.html">[Dsa-hl-svn] r3042 - in rl/trunk: . engine/script/src plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112">[ date ]</a>
              <a href="thread.html#112">[ thread ]</a>
              <a href="subject.html#112">[ subject ]</a>
              <a href="author.html#112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
