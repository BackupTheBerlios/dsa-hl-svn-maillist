<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4431 - in modules/kanalisation: maps materials scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4431%20-%20in%20modules/kanalisation%3A%20maps%20materials%20scripts&In-Reply-To=%3C200807041122.m64BMtKG000419%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001501.html">
   <LINK REL="Next"  HREF="001503.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4431 - in modules/kanalisation: maps materials scripts</H1>
    <B>alassion at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4431%20-%20in%20modules/kanalisation%3A%20maps%20materials%20scripts&In-Reply-To=%3C200807041122.m64BMtKG000419%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4431 - in modules/kanalisation: maps materials scripts">alassion at mail.berlios.de
       </A><BR>
    <I>Fri Jul  4 13:22:55 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001501.html">[Dsa-hl-svn] r4430 - in rl/trunk/engine: core/src rules/src	script/src
</A></li>
        <LI>Next message: <A HREF="001503.html">[Dsa-hl-svn] r4432 - modules/kanalisation/scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1502">[ date ]</a>
              <a href="thread.html#1502">[ thread ]</a>
              <a href="subject.html#1502">[ subject ]</a>
              <a href="author.html#1502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: alassion
Date: 2008-07-04 13:22:11 +0200 (Fri, 04 Jul 2008)
New Revision: 4431

Added:
   modules/kanalisation/materials/Wassershader_Kanalisation.program
Modified:
   modules/kanalisation/maps/kana_lights.rlmap.xml
   modules/kanalisation/maps/kanalisation.material
   modules/kanalisation/maps/kanalisation_scene.xml
   modules/kanalisation/scripts/equip.rb
   modules/kanalisation/scripts/particle.rb
Log:
- added watershader, fixed a few errors -

Modified: modules/kanalisation/maps/kana_lights.rlmap.xml
===================================================================
--- modules/kanalisation/maps/kana_lights.rlmap.xml	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/maps/kana_lights.rlmap.xml	2008-07-04 11:22:11 UTC (rev 4431)
@@ -3,25 +3,19 @@
 	&lt;nodes&gt;
 		&lt;light name=&quot;fackkellicht&quot; type=&quot;point&quot; visible=&quot;true&quot;
 			castShadows=&quot;false&quot;&gt;
-			&lt;position x=&quot;-1.39&quot; y=&quot;6.06&quot; z=&quot;12.84&quot; /&gt;
+			&lt;position x=&quot;-1.39&quot; y=&quot;5.54&quot; z=&quot;12.84&quot; /&gt;
 			&lt;colourDiffuse r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
 			&lt;colourSpecular r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
 			&lt;lightAttenuation range=&quot;8&quot; constant=&quot;1&quot; linear=&quot;0&quot; quadratic=&quot;.034&quot; /&gt;
 		&lt;/light&gt;
 		&lt;light name=&quot;fackkellicht2&quot; type=&quot;point&quot; visible=&quot;true&quot;
 			castShadows=&quot;false&quot;&gt;
-			&lt;position x=&quot;11.39&quot; y=&quot;6.06&quot; z=&quot;9.75&quot; /&gt;
+			&lt;position x=&quot;11.39&quot; y=&quot;5.54&quot; z=&quot;9.75&quot; /&gt;
 			&lt;colourDiffuse r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
 			&lt;colourSpecular r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
 			&lt;lightAttenuation range=&quot;8&quot; constant=&quot;1&quot; linear=&quot;0&quot; quadratic=&quot;.034&quot; /&gt;
 		&lt;/light&gt;
-		&lt;light name=&quot;fackkellicht3&quot; type=&quot;point&quot; visible=&quot;true&quot;
-			castShadows=&quot;false&quot;&gt;
-			&lt;position x=&quot;-22.48&quot; y=&quot;4.60&quot; z=&quot;23.10&quot; /&gt;
-			&lt;colourDiffuse r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
-			&lt;colourSpecular r=&quot;0.8&quot; g=&quot;0.7&quot; b=&quot;0.5&quot; /&gt;
-			&lt;lightAttenuation range=&quot;8&quot; constant=&quot;1&quot; linear=&quot;0&quot; quadratic=&quot;.034&quot; /&gt;
-		&lt;/light&gt;
+
 		&lt;light name=&quot;fackkellicht4&quot; type=&quot;point&quot; visible=&quot;true&quot;
 			castShadows=&quot;false&quot;&gt;
 			&lt;position x=&quot;36.49&quot; y=&quot;7.37&quot; z=&quot;30.27&quot; /&gt;

Modified: modules/kanalisation/maps/kanalisation.material
===================================================================
--- modules/kanalisation/maps/kanalisation.material	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/maps/kanalisation.material	2008-07-04 11:22:11 UTC (rev 4431)
@@ -234,7 +234,7 @@
 set_texture_alias DiffuseMap boden_kana.png
 set_texture_alias NormalMap boden_kana_normal.png
 }
-material wasser/SOLID/TEX/Untitled : Wassershader
+material wasser/SOLID/TEX/Untitled : Wassershader_Kanalisation
 {
 set_texture_alias Cubemap desert07.dds
 }
@@ -252,4 +252,4 @@
 {
 set_texture_alias DiffuseMap wand_kana.png
 set_texture_alias NormalMap wand_kana_normal.png
-}
+}
\ No newline at end of file

Modified: modules/kanalisation/maps/kanalisation_scene.xml
===================================================================
--- modules/kanalisation/maps/kanalisation_scene.xml	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/maps/kanalisation_scene.xml	2008-07-04 11:22:11 UTC (rev 4431)
@@ -100,6 +100,7 @@
 &lt;position x=&quot;17.838156&quot; y=&quot;1.844218&quot; z=&quot;15.676789&quot;/&gt;&lt;rotation qw=&quot;1.0&quot; qx=&quot;-3.98E-4&quot; qy=&quot;0.0&quot; qz=&quot;0.0&quot;/&gt;&lt;scale x=&quot;1.0&quot; y=&quot;1.0&quot; z=&quot;1.0&quot;/&gt;
 &lt;/entity&gt;
 &lt;entity name=&quot;schmutzwasser&quot; meshfile=&quot;wasser.mesh&quot;&gt;
+&lt;physicsproxy type=&quot;none&quot; /&gt;
 &lt;position x=&quot;-17.99887&quot; y=&quot;2.354909&quot; z=&quot;26.217978&quot;/&gt;&lt;rotation qw=&quot;1.0&quot; qx=&quot;-3.98E-4&quot; qy=&quot;0.0&quot; qz=&quot;0.0&quot;/&gt;&lt;scale x=&quot;1.0&quot; y=&quot;1.0&quot; z=&quot;1.0&quot;/&gt;
 &lt;/entity&gt;
 &lt;entity name=&quot;raum_01.007&quot; meshfile=&quot;raum_01.005.mesh&quot;&gt;
@@ -235,6 +236,7 @@
 &lt;position x=&quot;0.144417&quot; y=&quot;0.0&quot; z=&quot;55.632095&quot;/&gt;&lt;rotation qw=&quot;1.0&quot; qx=&quot;-3.98E-4&quot; qy=&quot;0.0&quot; qz=&quot;0.0&quot;/&gt;&lt;scale x=&quot;1.0&quot; y=&quot;1.0&quot; z=&quot;1.0&quot;/&gt;
 &lt;/entity&gt;
 &lt;entity name=&quot;farn&quot; meshfile=&quot;farn.mesh&quot;&gt;
+&lt;physicsproxy type=&quot;none&quot; /&gt;
 &lt;position x=&quot;-2.364898&quot; y=&quot;-1.932347&quot; z=&quot;2.648438&quot;/&gt;&lt;rotation qw=&quot;1.0&quot; qx=&quot;-3.98E-4&quot; qy=&quot;0.0&quot; qz=&quot;0.0&quot;/&gt;&lt;scale x=&quot;1.0&quot; y=&quot;1.0&quot; z=&quot;1.0&quot;/&gt;
 &lt;/entity&gt;
 &lt;entity name=&quot;raum_01&quot; meshfile=&quot;raum_01.mesh&quot;&gt;

Added: modules/kanalisation/materials/Wassershader_Kanalisation.program
===================================================================
--- modules/kanalisation/materials/Wassershader_Kanalisation.program	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/materials/Wassershader_Kanalisation.program	2008-07-04 11:22:11 UTC (rev 4431)
@@ -0,0 +1,22 @@
+material Wassershader_Kanalisation : Wassershader
+{	
+    technique hlsl
+    {
+        pass
+        {
+            fragment_program_ref Wassershader_Kanalisation_PS_HLSL
+            {
+                param_named reflectionexp float 3.0
+                param_named waterreflectcolor float4 0.45 0.42 0.42 0.6
+            }
+ 
+        }
+    }
+ 
+    technique fixed_function
+    {
+        pass
+        {
+            specular 0.15 0.15 0.15 1.0 12.0
+        } 
+    }
\ No newline at end of file

Modified: modules/kanalisation/scripts/equip.rb
===================================================================
--- modules/kanalisation/scripts/equip.rb	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/scripts/equip.rb	2008-07-04 11:22:11 UTC (rev 4431)
@@ -13,5 +13,5 @@
 itemToAdd = $GOM.createGameObject(&quot;men_human_female_cloth_short&quot;);
 hero.getInventory().hold(itemToAdd, &quot;Clothes&quot;);
 
-#itemToAdd = $GOM.createGameObject(&quot;torch&quot;);
-#hero.getInventory().hold(itemToAdd, &quot;Right Hand&quot;);
+itemToAdd = $GOM.createGameObject(&quot;torch&quot;);
+hero.getInventory().hold(itemToAdd, &quot;Right Hand&quot;);

Modified: modules/kanalisation/scripts/particle.rb
===================================================================
--- modules/kanalisation/scripts/particle.rb	2008-07-03 07:16:51 UTC (rev 4430)
+++ modules/kanalisation/scripts/particle.rb	2008-07-04 11:22:11 UTC (rev 4431)
@@ -1,15 +1,14 @@
 tavernfire1 = $AM.createParticleSystemActor(&quot;tavernfire1&quot;, &quot;feuertest&quot; );
-tavernfire1.placeIntoScene( -1.39,6.06,12.84, 0.5, 0.0, 0.0, 0.0 );
+tavernfire1.placeIntoScene( -1.39,5.54,12.84, 0.5, 0.0, 0.0, 0.0 );
 
 tavernfire2 = $AM.createParticleSystemActor(&quot;tavernfire1&quot;, &quot;feuertest&quot; );
-tavernfire2.placeIntoScene( 11.39,6.06,9.75, 1.0, 0.0, 0.0, 0.0 );
+tavernfire2.placeIntoScene( 11.44,5.54,9.76, 1.0, 0.0, 0.0, 0.0 );
 
 tavernfire3 = $AM.createParticleSystemActor(&quot;tavernfire1&quot;, &quot;feuertest&quot; );
 tavernfire3.placeIntoScene( -22.48,4.60,23.10, 1.0, 0.0, 0.0, 0.0 );
 
-tavernfire4 = $AM.createParticleSystemActor(&quot;tavernfire1&quot;, &quot;vlight&quot; );
-tavernfire4.placeIntoScene( -21.85,7.10,25.13, 1.0, 0.0, 0.0, 0.0 );
 
+
 tavernfire5 = $AM.createParticleSystemActor(&quot;tavernfire1&quot;, &quot;feuertest&quot; );
 tavernfire5.placeIntoScene( 36.49,7.37,30.27, 1.0, 0.0, 0.0, 0.0 );
 
@@ -22,9 +21,6 @@
 #waber01 = $AM.createParticleSystemActor(&quot;waber01&quot;, &quot;waber&quot; );
 #waber01.placeIntoScene( 8.73,3.73,10.36, 1.0, 0.0, 0.0, 0.0 );
 
-#glow1 = $AM.createParticleSystemActor(&quot;glow1&quot;, &quot;glow01&quot; );
-#glow1.placeIntoScene( 8.49,2.83,10.39, 1.0, 0.0, 0.0, 0.0 );
-
 #firelight = $AM.createLightActor(&quot;firelight&quot;, LightObject::LT_POINT);
 #firelight.placeIntoScene( 94.28, 5.65, -30.88, 1.0, 0.0, 0.0, 0.0 );
 #firelight.getControlledObject().setCastShadows(true);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001501.html">[Dsa-hl-svn] r4430 - in rl/trunk/engine: core/src rules/src	script/src
</A></li>
	<LI>Next message: <A HREF="001503.html">[Dsa-hl-svn] r4432 - modules/kanalisation/scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1502">[ date ]</a>
              <a href="thread.html#1502">[ thread ]</a>
              <a href="subject.html#1502">[ subject ]</a>
              <a href="author.html#1502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
