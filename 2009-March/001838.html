<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4781 - in rl/trunk/editors/Lockenwickler/src: . media	media/icons
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4781%20-%20in%20rl/trunk/editors/Lockenwickler/src%3A%20.%20media%0A%09media/icons&In-Reply-To=%3C200903011552.n21FqFSl004850%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4781 - in rl/trunk/editors/Lockenwickler/src: . media	media/icons</H1>
    <B>fusion2 at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4781%20-%20in%20rl/trunk/editors/Lockenwickler/src%3A%20.%20media%0A%09media/icons&In-Reply-To=%3C200903011552.n21FqFSl004850%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4781 - in rl/trunk/editors/Lockenwickler/src: . media	media/icons">fusion2 at mail.berlios.de
       </A><BR>
    <I>Sun Mar  1 16:52:15 CET 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001839.html">[Dsa-hl-svn] r4782 - modules/common/materials/programs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1838">[ date ]</a>
              <a href="thread.html#1838">[ thread ]</a>
              <a href="subject.html#1838">[ subject ]</a>
              <a href="author.html#1838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fusion2
Date: 2009-03-01 16:52:06 +0100 (Sun, 01 Mar 2009)
New Revision: 4781

Added:
   rl/trunk/editors/Lockenwickler/src/MaterialSelectionDialog.py
   rl/trunk/editors/Lockenwickler/src/media/icons/colors.png
Modified:
   rl/trunk/editors/Lockenwickler/src/Lockenwickler.py
   rl/trunk/editors/Lockenwickler/src/ModelSelectionDialog.py
   rl/trunk/editors/Lockenwickler/src/ModuleManager.py
   rl/trunk/editors/Lockenwickler/src/MovePivot.py
   rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py
   rl/trunk/editors/Lockenwickler/src/OgreMainWindow.py
   rl/trunk/editors/Lockenwickler/src/SelectionBuffer.py
   rl/trunk/editors/Lockenwickler/src/media/Pivot_Point.material
   rl/trunk/editors/Lockenwickler/src/media/UniCube.mesh
Log:
- replace materials by drag and drop from the new material browser

Modified: rl/trunk/editors/Lockenwickler/src/Lockenwickler.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/Lockenwickler.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/Lockenwickler.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -31,6 +31,7 @@
 from PreferencesDialog import *
 from ObjectPropertyWin import *
 from ModelSelectionDialog import *
+from MaterialSelectionDialog import *
 from GameObjectClassView import *
 from ConsoleWindow import *
 from ModuleManager import *
@@ -60,7 +61,9 @@
         self.objectPropertyWin = ObjectPropertyWin(self.OgreMainWinSceneMgr, self)
         self.moduleExplorerWin = ModuleExplorer(self)
         self.modelSelectionDialog = ModelSelectionDialog(self.ogreRoot, self)
+        self.materialSelectionDialog = MaterialSelectionDialog(self.ogreRoot, self)
         self.moduleManager.modelSelectionDialog = self.modelSelectionDialog
+        self.moduleManager.materialSelectionDialog = self.materialSelectionDialog
 
         self.gameObjectClassView = GameObjectClassView(self.moduleManager.gocManager)
 
@@ -196,6 +199,9 @@
 
         self.actionObject_Selection = self.createAction(&quot;&amp;Model Preview Window&quot;,  self.toggleModelPreviewWindow,  &quot;Alt + O&quot;,  &quot;tux.png&quot;,  &quot;Model Preview&quot;)
         self.actionObject_Selection.setObjectName(&quot;actionObject_Selection&quot;)
+        
+        self.actionMaterial_Selection = self.createAction(&quot;Material &amp;Preview Window&quot;,  self.toggleMaterialPreviewWindow,  &quot;Alt + M&quot;,  &quot;colors.png&quot;,  &quot;Material Preview&quot;)
+        self.actionMaterial_Selection.setObjectName(&quot;actionMaterial_Selection&quot;)
 
         self.actionGameObjectClass_Selection = self.createAction(&quot;&amp;Game Object Class Preview Window&quot;,  self.toggleGameObjectViewWindow,  &quot;Alt + G&quot;,  &quot;multirow.png&quot;,  &quot;GameObjectClass Preview&quot;)
         self.actionGameObjectClass_Selection.setObjectName(&quot;actionObject_Selection&quot;)
@@ -226,6 +232,7 @@
         self.menuView.addAction(self.actionPreferences)
         self.menuView.addAction(self.actionProperty_Window)
         self.menuView.addAction(self.actionObject_Selection)
+        self.menuView.addAction(self.actionMaterial_Selection)
         self.menuView.addAction(self.actionGameObjectClass_Selection)
         self.menuView.addAction(self.actionConsole_Window)
         self.menubar.addAction(self.menuFile.menuAction())
@@ -292,6 +299,7 @@
         if platform.system() == &quot;Linux&quot;:
             self.ogreMainWindow.updateRenderWindow()
             self.modelSelectionDialog.updateRenderWindow()
+            self.materialSelectionDialog.updateRenderWindow()
 
     def actionOpenSlot(self):
         self.finishEditorSetup()
@@ -343,6 +351,12 @@
             self.modelSelectionDock.show()
         else:
             self.modelSelectionDock.hide()
+    
+    def toggleMaterialPreviewWindow(self):
+        if self.materialSelectionDock.isHidden():
+            self.materialSelectionDock.show()
+        else:
+            self.materialSelectionDock.hide()
 
     def toggleGameObjectViewWindow(self):
         if self.gameObjectClassViewDock.isHidden():
@@ -380,6 +394,12 @@
         self.modelSelectionDock.setAllowedAreas(QtCore.Qt.LeftDockWidgetArea | QtCore.Qt.RightDockWidgetArea)
         self.modelSelectionDock.setWidget(self.modelSelectionDialog)
         self.addDockWidget(QtCore.Qt.RightDockWidgetArea, self.modelSelectionDock)
+        
+        self.materialSelectionDock = QtGui.QDockWidget(self.tr(&quot;Materials&quot;), self)
+        self.materialSelectionDock.setObjectName(&quot;MaterialSelectionDockWindow&quot;)
+        self.materialSelectionDock.setAllowedAreas(QtCore.Qt.LeftDockWidgetArea | QtCore.Qt.RightDockWidgetArea)
+        self.materialSelectionDock.setWidget(self.materialSelectionDialog)
+        self.addDockWidget(QtCore.Qt.RightDockWidgetArea, self.materialSelectionDock)
 
         self.gameObjectClassViewDock = QtGui.QDockWidget(self.tr(&quot;GameObjectClasses&quot;), self)
         self.gameObjectClassViewDock.setObjectName(&quot;GameObjectClassView&quot;)

Added: rl/trunk/editors/Lockenwickler/src/MaterialSelectionDialog.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/MaterialSelectionDialog.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/MaterialSelectionDialog.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -0,0 +1,184 @@
+#################################################
+ # Copyright (C) 2008  Stefan Stammberger
+ #
+ # This library is free software; you can redistribute it and/or
+ # modify it under the terms of the GNU Lesser General Public
+ # License as published by the Free Software Foundation; either
+ # version 2.1 of the License, or (at your option) any later version.
+ #
+ # This library is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY; without even the implied warranty of
+ # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ # Lesser General Public License for more details.
+ #
+ # You should have received a copy of the GNU Lesser General Public
+ # License along with this library; if not, write to the Free Software
+ # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ #################################################
+
+
+import sys
+import os
+from os.path import isdir
+from os.path import isfile
+
+from PyQt4.QtGui import *
+from PyQt4.QtCore import *
+
+import OgreWidget
+import ogre.renderer.OGRE as og
+
+# The drag events are processed in ObgreMainWindow.py
+
+class MaterialListWidget(QListWidget):
+    def __init__(self,  parent):
+        super(MaterialListWidget, self).__init__(parent)
+        self.setDragEnabled(True)
+
+    def startDrag(self,  dropActions):
+        data = QByteArray()
+        stream = QDataStream(data,  QIODevice.WriteOnly)
+        stream &lt;&lt; self.currentItem().text()
+        mimeData = QMimeData()
+        mimeData.setData(&quot;application/x-material&quot;, data)
+        drag = QDrag(self)
+        drag.setMimeData(mimeData)
+        drag.start(Qt.CopyAction)
+
+class MaterialSelectionDialog(QDialog):
+    def __init__(self, ogreRoot, parent=None):
+        QDialog.__init__(self, parent)
+        self.ogreRoot = ogreRoot
+
+        self.setupUi()
+
+        self.connect(self.materialSearchBox, SIGNAL(&quot;textChanged(QString)&quot;),
+                               self.updateMaterialList)
+
+        self.connect(self.listWidget, SIGNAL(&quot;itemSelectionChanged ()&quot;),
+                               self.setPreviewedMaterial)
+
+        self.materialList = []
+
+        self.ogreMaterialPrevWindow.setBackgroundColor(og.ColourValue(0,1,0))
+
+        self.node = self.ogreMaterialPrevWindowSceneMgr.getRootSceneNode().createChildSceneNode()
+        self.ent = None
+        self.nodeScale = og.Vector3(1,1,1)
+
+        self.lastMousePosX = 0
+        self.lastMousePosY = 0
+
+
+
+    def setupUi(self):
+        self.setObjectName(&quot;materialPreviewDialog&quot;)
+        self.resize(QSize(QRect(0,0,272,744).size()).expandedTo(self.minimumSizeHint()))
+
+        self.gridlayout = QGridLayout(self)
+        self.gridlayout.setObjectName(&quot;gridlayout&quot;)
+
+        self.materialSearchBox = QLineEdit(self)
+        self.materialSearchBox.setObjectName(&quot;materialSearchBox&quot;)
+        self.gridlayout.addWidget(self.materialSearchBox,0,0,1,1)
+
+        self.splitter = QSplitter(self)
+        self.splitter.setOrientation(Qt.Vertical)
+        self.splitter.setObjectName(&quot;splitter&quot;)
+
+        self.listWidget = MaterialListWidget(self.splitter)
+        self.listWidget.setObjectName(&quot;listWidget&quot;)
+
+        self.ogreMaterialPrevWindowSceneMgr = self.ogreRoot.createSceneManager(og.ST_GENERIC,&quot;ogreMaterialPrevWindowSceneMgr&quot;)
+        self.ogreMaterialPrevWindow = OgreWidget.OgreWidget(&quot;MaterialPrevWin&quot;, self.ogreRoot, self.ogreMaterialPrevWindowSceneMgr, &quot;MaterialPrevCam&quot;,
+                                                         self.splitter)
+        self.ogreMaterialPrevWindow.setBackgroundColor(og.ColourValue(1.0, 1.0, 1.0, 1.0))
+        self.ogreMaterialPrevWindow.setOgreViewportCreatedCallback(self.ogreViewportCreatedCallback)                                                 
+        
+        
+        self.ogreMaterialPrevWindow.setMinimumSize(QSize(200,200))
+        self.ogreMaterialPrevWindow.setObjectName(&quot;materialPreviewWindow&quot;)
+        self.gridlayout.addWidget(self.splitter,1,0,1,1)
+
+        self.retranslateUi()
+
+    def ogreViewportCreatedCallback(self):
+        self.ogreMaterialPrevWindow.renderWindow.getViewport(0).setOverlaysEnabled(False)
+        
+    def retranslateUi(self):
+        self.setWindowTitle(QApplication.translate(&quot;materialPreviewDialog&quot;, &quot;Dialog&quot;, None, QApplication.UnicodeUTF8))
+
+    def setPreviewedMaterial(self):
+        if self.ent == None:
+            self.ent = self.ogreMaterialPrevWindowSceneMgr.createEntity(&quot;MaterialPrevEntity9993944&quot;, &quot;UniCube.mesh&quot;)
+            self.nodeScale = og.Vector3(1,1,1)
+
+            self.node.attachObject(self.ent)
+            self.node.setScale(og.Vector3(6,6,6))
+        self.ent.setMaterialName(str(self.listWidget.currentItem().text()))
+
+    def scanDirForMaterials(self, dir):
+        for file in os.listdir(dir):
+            curFile = dir + &quot;/&quot; + file
+
+            if file.startswith('.'): #ignore dot files (hidden)
+                continue
+            if isdir(curFile):
+                self.scanDirForMaterials(curFile)
+                continue
+            if isfile(curFile):
+                if file.endswith(&quot;.material&quot;):
+                    f = open(curFile, &quot;r&quot;)
+                    for line in f:
+                        if line.startswith(&quot;material &quot;):
+                            l = line.replace(&quot;material &quot;, &quot;&quot;).lstrip().rstrip()
+                            self.materialList.append(l)
+                            self.listWidget.addItem(l)
+                        
+                    f.close()
+        self.listWidget.sortItems()
+
+    def updateMaterialList(self, text):
+        self.listWidget.clear()
+        for material in self.materialList:
+            if material.find(text) != -1:
+               self.listWidget.addItem(material)
+
+        self.listWidget.sortItems()
+
+    def eventFilter(self, obj, event):
+        if event.type() == 5:
+            self.startDrag()
+            event.accept()
+            return True
+
+        return False
+
+    def event(self, event):
+        if event.type() == 31: # scroll wheel turned
+            if event.delta() &lt; 0:
+                self.ogreMaterialPrevWindow.zoomCamera(-5)
+            else:
+                self.ogreMaterialPrevWindow.zoomCamera( 5)
+            return True
+
+        if event.type() == 5: #mouse moved while button down
+            rotX = (event.globalX() - self.lastMousePosX) * 0.01
+            rotY = (event.globalY() - self.lastMousePosY) * 0.01
+
+            if rotX &lt; 0.1 and rotY &lt; 0.1: # first click, don't do anything at all here
+                self.ogreMaterialPrevWindow.orbitCamera(-rotX,  rotY)
+
+            self.lastMousePosX = event.globalX()
+            self.lastMousePosY = event.globalY()
+            return True
+
+        if event.type() == 3: # mouse released
+            self.lastMousePosX = 0
+            self.lastMousePosY = 0
+            return True
+
+        return False
+
+    def updateRenderWindow(self):
+        self.ogreMaterialPrevWindow.update()

Modified: rl/trunk/editors/Lockenwickler/src/ModelSelectionDialog.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ModelSelectionDialog.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/ModelSelectionDialog.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -30,9 +30,9 @@
 
 # The drag events are processed in ObgreMainWindow.py
 
-class MyListWidget(QListWidget):
+class ModelListWidget(QListWidget):
     def __init__(self,  parent):
-        super(MyListWidget, self).__init__(parent)
+        super(ModelListWidget, self).__init__(parent)
         self.setDragEnabled(True)
 
     def startDrag(self,  dropActions):
@@ -86,7 +86,7 @@
         self.splitter.setOrientation(Qt.Vertical)
         self.splitter.setObjectName(&quot;splitter&quot;)
 
-        self.listWidget = MyListWidget(self.splitter)
+        self.listWidget = ModelListWidget(self.splitter)
         self.listWidget.setObjectName(&quot;listWidget&quot;)
 
         self.ogreModelPrevWindowSceneMgr = self.ogreRoot.createSceneManager(og.ST_GENERIC,&quot;ogreModelPrevWindowSceneMgr&quot;)

Modified: rl/trunk/editors/Lockenwickler/src/ModuleManager.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ModuleManager.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/ModuleManager.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -494,6 +494,7 @@
         self.sceneManager = sceneManager
         self.ogreRoot = ogreRoot
         self.modelSelectionDialog = None
+        self.materialSelectionDialog = None
 
         self.moduleCfgPath = &quot;&quot;
 
@@ -528,7 +529,8 @@
         self.dropNode = None
         self.dropEntity = None
         self.dropCollisionPlane = og.Plane(og.Vector3().UNIT_Y, og.Vector3().ZERO)
-
+        self.dropMat = None
+        
         self.numerOfCopys = 0 #everytime a copy is made this numer is increased to generate unique node and mesh names
         self.moduleConfigIsParsed = False
 
@@ -599,10 +601,12 @@
                             if m2.name == moduleDependencie:
                                 m2.load()
                                 self.modelSelectionDialog.scanDirForModels(m2.moduleRoot)
+                                self.materialSelectionDialog.scanDirForMaterials(m2.moduleRoot)
                                 self.mainModuledependencieList.append(m2)
 
                 m.load()
                 self.modelSelectionDialog.scanDirForModels(m.moduleRoot)
+                self.materialSelectionDialog.scanDirForMaterials(m.moduleRoot)
                 self.mainModule = m
                 self.moduleExplorer.setCurrentModule(m)
                 
@@ -868,14 +872,14 @@
         else:
             self.dropGO.setPosition(ray.getPoint(50))
 
-    def stopDropGameObjectAction(self, ray):
-        print &quot;sd&quot;
+    def finishDropGameObjectAction(self, ray):
+        return
 
     def startDropModelAction(self, meshFile, ray):
         if self.currentMap is None:
             return
             
-        self.dropEntity = self.sceneManager.createEntity(&quot;dropMesh&quot; + str(ModuleManager.dropCount), str(meshFile))
+        self.dropEntity = self.sceneManager.createEntity(&quot;dropMesh&quot; + str(ModuleManager.dropCount), meshFile)
 
         self.dropNode = self.currentMap.mapNode.createChild(&quot;entity_dropNode&quot; + str(ModuleManager.dropCount))
         self.dropNode.attachObject(self.dropEntity)
@@ -897,7 +901,33 @@
             self.dropNode.setPosition(ray.getPoint(result.second))
         else:
             self.dropNode.setPosition(ray.getPoint(50))
+    
+    def finishDropModelAction(self, ray):
+        return
 
-    def stopDropModelAction(self, ray):
-        pass
+    def startDropMaterialAction(self, text):
+        self.dropMat = text
+        
+    def moveDropMaterialAction(self, event):
+        return
 
+    def finishDropMaterialAction(self, screenX, screenY):
+        so = self.selectionBuffer.onSelectionClick(screenX, screenY)
+        if so is not None:
+            if not so.entity.getNumSubEntities() &gt; 1:
+                so.entity.setMaterialName(self.dropMat)
+            else:
+                i = 0
+                text = &quot;Warning this Entity has more than one SubEntities with the folloing materials: \n\n&quot;
+                while i &lt; so.entity.getNumSubEntities():
+                    text += &quot;SubMesh&quot; + str(i) + &quot;:  &quot; + so.entity.getSubEntity(i).getMaterialName() + &quot;\n&quot;
+                    i += 1
+                
+                text += &quot;\n Replace the materials?&quot;
+                reply = QMessageBox.question(None, &quot;Warning: multiple materials&quot;,  text,  QMessageBox.Yes|QMessageBox.No)
+                if reply == QMessageBox.Cancel:
+                    return
+                if reply == QMessageBox.Yes:
+                    so.entity.setMaterialName(self.dropMat)
+        
+        

Modified: rl/trunk/editors/Lockenwickler/src/MovePivot.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/MovePivot.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/MovePivot.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -1,226 +1,205 @@
-#################################################
- # Copyright (C) 2008  Stefan Stammberger
- #
- # This library is free software; you can redistribute it and/or
- # modify it under the terms of the GNU Lesser General Public
- # License as published by the Free Software Foundation; either
- # version 2.1 of the License, or (at your option) any later version.
- #
- # This library is distributed in the hope that it will be useful,
- # but WITHOUT ANY WARRANTY; without even the implied warranty of
- # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- # Lesser General Public License for more details.
- #
- # You should have received a copy of the GNU Lesser General Public
- # License along with this library; if not, write to the Free Software
- # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- #################################################
-
-
-import sys
-import ogre.renderer.OGRE as og
-
-class Pivot():
-    def __init__(self,  sceneManager):
-        self.sceneManager = sceneManager
-        self.camera = self.sceneManager.getCamera(&quot;MainCam&quot;)
-
-        self.mode = None
-        self.isHidden = True
-
-        self.meshManager = og.MeshManager.getSingleton ()
-
-        self.pivotNode = sceneManager.getRootSceneNode().createChildSceneNode(&quot;pivotNode&quot;)
-        self.__createMovePivot()
-        self.__createRotatePivot()
-        self.__createScalePivot()
-        self.hide()
-        self.setMoveMode()
-
-        self.moveDirection = None
-        self.isTransforming = False
-        self.selectionList = None
-
-    def __createMovePivot(self):
-        self.xMoveEntity = self.sceneManager.createEntity(&quot;EditorXArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
-        self.xMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
-#        self.xMoveEntity.getSubEntity(0).getMaterial().setDepthCheckEnabled(False)
-#        self.xMoveEntity.getSubEntity(0).getMaterial().setDepthWriteEnabled(False)
-        self.xMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.xMoveNode = self.pivotNode.createChildSceneNode()
-        self.xMoveNode.attachObject(self.xMoveEntity)
-        self.xMoveNode.translate(og.Vector3(2, 0, 0))
-        self.xMoveNode.rotate(og.Vector3().UNIT_Y,  og.Degree(90))
-
-#        plane = og.Plane (og.Vector3.UNIT_X, 0)
-#        self.meshManager.createPlane ('EditorXArrowSelectionPlane', 'General', plane, 5, 14, 1, 1, False, 1, 5, 5, (0, 0, 1))
-#        self.xMoveEntitySelectionPlane = self.sceneManager.createEntity ('EditorXArrowSelectionPlane', 'EditorXArrowSelectionPlane')
-#        self.xMoveNodeSelectionPlane = self.xMoveNode.createChildSceneNode()
-#        self.xMoveNodeSelectionPlane.attachObject (self.xMoveEntitySelectionPlane)
-#        self.xMoveNodeSelectionPlane.translate(og.Vector3(0, 0, 5))
-#        self.xMoveEntitySelectionPlane.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
-
-
-
-        self.yMoveEntity = self.sceneManager.createEntity(&quot;EditorYArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
-        self.yMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
-        self.yMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.yMoveNode = self.pivotNode.createChildSceneNode()
-        self.yMoveNode.attachObject(self.yMoveEntity)
-        self.yMoveNode.translate(og.Vector3(0, 2, 0))
-        self.yMoveNode.rotate(og.Vector3().UNIT_X,  og.Degree(-90))
-        #self.yNode.showBoundingBox(True)
-
-#        plane = og.Plane (og.Vector3().UNIT_X, 0)
-#        self.meshManager.createPlane ('EditorYArrowSelectionPlane', 'General', plane, 14, 0, 1, 1, False, 1, 5, 5, (0, 0, 1))
-#        self.yMoveEntitySelectionPlane = self.sceneManager.createEntity ('EditorYArrowSelectionPlane', 'EditorYArrowSelectionPlane')
-#        self.yMoveNodeSelectionPlane = self.xMoveNode.createChildSceneNode()
-#        self.yMoveNodeSelectionPlane.attachObject (self.yMoveEntitySelectionPlane)
-#        self.yMoveNodeSelectionPlane.translate(og.Vector3(0, 5, 0))
-#        self.yMoveEntitySelectionPlane.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
-
-
-        self.zMoveEntity = self.sceneManager.createEntity(&quot;EditorZArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
-        self.zMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
-        self.zMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.zMoveNode = self.pivotNode.createChildSceneNode()
-        self.zMoveNode.attachObject(self.zMoveEntity)
-        self.zMoveNode.translate(og.Vector3(0, 0, 2))
-        #self.zNode.showBoundingBox(True)
-
-        self.freeMoveEntity = self.sceneManager.createEntity(&quot;EditorFreeMoveArrow&quot;,  &quot;Pivot_FreeMover.mesh&quot;)
-        self.freeMoveEntity.setMaterialName(&quot;Lockenwickler_FreeMover&quot;)
-        self.freeMoveNode = self.pivotNode.createChildSceneNode()
-        self.freeMoveNode.attachObject(self.freeMoveEntity)
-
-
-    def __createRotatePivot(self):
-        self.xRotateEntity = self.sceneManager.createEntity(&quot;EditorXRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
-        self.xRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
-        self.xRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.xRotateNode = self.pivotNode.createChildSceneNode()
-        self.xRotateNode.attachObject(self.xRotateEntity)
-        #self.xRotateNode.translate(0, 0, -5)
-        self.xRotateNode.rotate(og.Vector3().UNIT_Y,  og.Degree(90))
-
-        self.yRotateEntity = self.sceneManager.createEntity(&quot;EditorYRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
-        self.yRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
-        self.yRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.yRotateNode = self.pivotNode.createChildSceneNode()
-        self.yRotateNode.attachObject(self.yRotateEntity)
-        #self.yRotateNode.translate(0, 0, -10)
-        self.yRotateNode.rotate(og.Vector3().UNIT_X,  og.Degree(90))
-
-        self.zRotateEntity = self.sceneManager.createEntity(&quot;EditorZRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
-        self.zRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
-        self.zRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
-        self.zRotateNode = self.pivotNode.createChildSceneNode()
-        self.zRotateNode.attachObject(self.zRotateEntity)
-
-
-    def __createScalePivot(self):
-        pass
-
-    def setPosition(self,  pos):
-        self.pivotNode.setPosition(pos)
-
-    def getPosition(self):
-        return self.pivotNode.getPosition()
-
-    def startTransforming(self, dirEntity, soList):
-        print &quot;dbg: transforming.....&quot;
-        self.moveDirection = dirEntity.getName()
-        self.selectionList = soList
-        self.isTransforming = True
-        pass
-
-    def stopTransforming(self):
-        self.isTransforming = False
-        pass
-
-    def hide(self):
-        self.pivotNode.removeAllChildren()
-        self.isHidden = True
-
-    def show(self):
-        self.hide()
-        if self.mode == 1:
-            self.pivotNode.addChild(self.xMoveNode)
-            self.pivotNode.addChild(self.yMoveNode)
-            self.pivotNode.addChild(self.zMoveNode)
-        elif self.mode == 2:
-            self.pivotNode.addChild(self.xRotateNode)
-            self.pivotNode.addChild(self.yRotateNode)
-            self.pivotNode.addChild(self.zRotateNode)
-        elif self.mode == 3:
-            return
-        self.isHidden = False
-
-    def setMoveMode(self):
-        self.hide()
-        self.mode = 1
-        self.pivotNode.addChild(self.xMoveNode)
-        self.pivotNode.addChild(self.yMoveNode)
-        self.pivotNode.addChild(self.zMoveNode)
-        pass
-
-    def setRotateMode(self):
-        self.hide()
-        self.mode = 2
-        self.pivotNode.addChild(self.xRotateNode)
-        self.pivotNode.addChild(self.yRotateNode)
-        self.pivotNode.addChild(self.zRotateNode)
-        pass
-
-    def settScaleMode(self):
-        pass
-
-    def onMouseMoved(self, globalX, globalY, incX, incY):
-        # move mode
-        if self.isTransforming:
-            if self.mode == 1:
-                transFactor = 0.1
-                transVec = og.Vector3()
-                if self.moveDirection == &quot;EditorXArrow&quot;:
-                    transVec = og.Vector3(-incX, 0.0 , 0.0)
-                elif self.moveDirection == &quot;EditorYArrow&quot;:
-                    transVec = og.Vector3(0.0, -incY, 0.0)
-                elif self.moveDirection == &quot;EditorZArrow&quot;:
-                    transVec = og.Vector3(0.0, 0.0, incX)
-
-                transVec = transVec * transFactor
-                for so in self.selectionList:
-                    so.entity.getParentNode().translate(transVec)
-                    
-                self.pivotNode.translate(transVec)
-
-            # rotate mode
-            elif self.mode == 2:
-                rotValue = (incX + incY) * 0.05
-
-                if self.moveDirection == &quot;EditorXRotator&quot;:
-                    for so in self.selectionList:
-                        so.entity.getParentNode().pitch(rotValue)
-                if self.moveDirection == &quot;EditorYRotator&quot;:
-                    for so in self.selectionList:
-                        so.entity.getParentNode().yaw(rotValue)
-                if self.moveDirection == &quot;EditorZRotator&quot;:
-                    for so in self.selectionList:
-                        so.entity.getParentNode().roll(rotValue)
-
-        self.update()
-
-    def update(self):
+#################################################
+ # Copyright (C) 2008  Stefan Stammberger
+ #
+ # This library is free software; you can redistribute it and/or
+ # modify it under the terms of the GNU Lesser General Public
+ # License as published by the Free Software Foundation; either
+ # version 2.1 of the License, or (at your option) any later version.
+ #
+ # This library is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY; without even the implied warranty of
+ # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ # Lesser General Public License for more details.
+ #
+ # You should have received a copy of the GNU Lesser General Public
+ # License along with this library; if not, write to the Free Software
+ # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ #################################################
+
+
+import sys
+import ogre.renderer.OGRE as og
+
+class Pivot():
+    def __init__(self,  sceneManager):
+        self.sceneManager = sceneManager
+        self.camera = self.sceneManager.getCamera(&quot;MainCam&quot;)
+
+        self.mode = None
+        self.isHidden = True
+
+        self.meshManager = og.MeshManager.getSingleton ()
+
+        self.pivotNode = sceneManager.getRootSceneNode().createChildSceneNode(&quot;pivotNode&quot;)
+
+        self.__createMovePivot()
+        self.__createRotatePivot()
+        self.__createScalePivot()
+        self.hide()
+        self.setMoveMode()
+
+        self.moveDirection = None
+        self.isTransforming = False
+        self.selectionList = None
+
+    def __createMovePivot(self):
+        self.xMoveEntity = self.sceneManager.createEntity(&quot;EditorXArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.xMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
+        self.xMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_MAX)
+        self.xMoveNode = self.pivotNode.createChildSceneNode()
+        self.xMoveNode.attachObject(self.xMoveEntity)
+        self.xMoveNode.translate(og.Vector3(2, 0, 0))
+        self.xMoveNode.rotate(og.Vector3().UNIT_Y,  og.Degree(90))
+        
+        self.yMoveEntity = self.sceneManager.createEntity(&quot;EditorYArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.yMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
+        self.yMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_MAX)
+        self.yMoveNode = self.pivotNode.createChildSceneNode()
+        self.yMoveNode.attachObject(self.yMoveEntity)
+        self.yMoveNode.translate(og.Vector3(0, 2, 0))
+        self.yMoveNode.rotate(og.Vector3().UNIT_X,  og.Degree(-90))
+
+
+        self.zMoveEntity = self.sceneManager.createEntity(&quot;EditorZArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.zMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
+        self.zMoveEntity.setRenderQueueGroup(og.RENDER_QUEUE_MAX)
+        self.zMoveNode = self.pivotNode.createChildSceneNode()
+        self.zMoveNode.attachObject(self.zMoveEntity)
+        self.zMoveNode.translate(og.Vector3(0, 0, 2))
+
+        self.freeMoveEntity = self.sceneManager.createEntity(&quot;EditorFreeMoveArrow&quot;,  &quot;Pivot_FreeMover.mesh&quot;)
+        self.freeMoveEntity.setMaterialName(&quot;Lockenwickler_FreeMover&quot;)
+        self.freeMoveNode = self.pivotNode.createChildSceneNode()
+        self.freeMoveNode.attachObject(self.freeMoveEntity)
+
+
+    def __createRotatePivot(self):
+        self.xRotateEntity = self.sceneManager.createEntity(&quot;EditorXRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.xRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
+        self.xRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
+        self.xRotateNode = self.pivotNode.createChildSceneNode()
+        self.xRotateNode.attachObject(self.xRotateEntity)
+        #self.xRotateNode.translate(0, 0, -5)
+        self.xRotateNode.rotate(og.Vector3().UNIT_Y,  og.Degree(90))
+
+        self.yRotateEntity = self.sceneManager.createEntity(&quot;EditorYRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.yRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
+        self.yRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
+        self.yRotateNode = self.pivotNode.createChildSceneNode()
+        self.yRotateNode.attachObject(self.yRotateEntity)
+        #self.yRotateNode.translate(0, 0, -10)
+        self.yRotateNode.rotate(og.Vector3().UNIT_X,  og.Degree(90))
+
+        self.zRotateEntity = self.sceneManager.createEntity(&quot;EditorZRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.zRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
+        self.zRotateEntity.setRenderQueueGroup(og.RENDER_QUEUE_OVERLAY)
+        self.zRotateNode = self.pivotNode.createChildSceneNode()
+        self.zRotateNode.attachObject(self.zRotateEntity)
+
+
+    def __createScalePivot(self):
+        pass
+
+    def setPosition(self,  pos):
+        self.pivotNode.setPosition(pos)
+
+    def getPosition(self):
+        return self.pivotNode.getPosition()
+
+    def startTransforming(self, dirEntity, soList):
+        print &quot;dbg: transforming.....&quot;
+        self.moveDirection = dirEntity.getName()
+        self.selectionList = soList
+        self.isTransforming = True
+        pass
+
+    def stopTransforming(self):
+        self.isTransforming = False
+        pass
+
+    def hide(self):
+        self.pivotNode.removeAllChildren()
+        self.isHidden = True
+
+    def show(self):
+        self.hide()
+        if self.mode == 1:
+            self.pivotNode.addChild(self.xMoveNode)
+            self.pivotNode.addChild(self.yMoveNode)
+            self.pivotNode.addChild(self.zMoveNode)
+        elif self.mode == 2:
+            self.pivotNode.addChild(self.xRotateNode)
+            self.pivotNode.addChild(self.yRotateNode)
+            self.pivotNode.addChild(self.zRotateNode)
+        elif self.mode == 3:
+            return
+        self.isHidden = False
+
+    def setMoveMode(self):
+        self.hide()
+        self.mode = 1
+        self.pivotNode.addChild(self.xMoveNode)
+        self.pivotNode.addChild(self.yMoveNode)
+        self.pivotNode.addChild(self.zMoveNode)
+        pass
+
+    def setRotateMode(self):
+        self.hide()
+        self.mode = 2
+        self.pivotNode.addChild(self.xRotateNode)
+        self.pivotNode.addChild(self.yRotateNode)
+        self.pivotNode.addChild(self.zRotateNode)
+        pass
+
+    def settScaleMode(self):
+        pass
+
+    def onMouseMoved(self, globalX, globalY, incX, incY):
+        # move mode
+        if self.isTransforming:
+            if self.mode == 1:
+                transFactor = 0.1
+                transVec = og.Vector3()
+                if self.moveDirection == &quot;EditorXArrow&quot;:
+                    transVec = og.Vector3(-incX, 0.0 , 0.0)
+                elif self.moveDirection == &quot;EditorYArrow&quot;:
+                    transVec = og.Vector3(0.0, -incY, 0.0)
+                elif self.moveDirection == &quot;EditorZArrow&quot;:
+                    transVec = og.Vector3(0.0, 0.0, incX)
+
+                transVec = transVec * transFactor
+                for so in self.selectionList:
+                    so.entity.getParentNode().translate(transVec)
+                    
+                self.pivotNode.translate(transVec)
+
+            # rotate mode
+            elif self.mode == 2:
+                rotValue = (incX + incY) * 0.05
+
+                if self.moveDirection == &quot;EditorXRotator&quot;:
+                    for so in self.selectionList:
+                        so.entity.getParentNode().pitch(rotValue)
+                if self.moveDirection == &quot;EditorYRotator&quot;:
+                    for so in self.selectionList:
+                        so.entity.getParentNode().yaw(rotValue)
+                if self.moveDirection == &quot;EditorZRotator&quot;:
+                    for so in self.selectionList:
+                        so.entity.getParentNode().roll(rotValue)
+
+        self.update()
+
+    def update(self):
         vSize = og.Vector3(1.0,1.0,1.0)
         vScale = og.Vector3(1.0,1.0,1.0)
 
-        dist = (self.camera.getDerivedPosition() - self.pivotNode._getDerivedPosition()).length()
+        dist = (self.camera.getDerivedPosition() - self.pivotNode._getDerivedPosition()).length()
         vScale *= dist / 90.0
-
-        self.pivotNode.setScale(vScale.x * vSize.x,vScale.y * vSize.y,vScale.z * vSize.z)
-        #print vScale.x * vSize.x,vScale.y * vSize.y,vScale.z * vSize.z
-#        if not self.isHidden:
-#            dist = self.camera.getPosition().distance(self.pivotNode.getPosition())
-#            self.pivotNode.setScale(og.Vector3(0.5,  0.5,  0.5) * (dist / 30))
-
-
+
+        self.pivotNode.setScale(vScale.x * vSize.x,vScale.y * vSize.y,vScale.z * vSize.z)
+        #print vScale.x * vSize.x,vScale.y * vSize.y,vScale.z * vSize.z
+#        if not self.isHidden:
+#            dist = self.camera.getPosition().distance(self.pivotNode.getPosition())
+#            self.pivotNode.setScale(og.Vector3(0.5,  0.5,  0.5) * (dist / 30))
+
+

Modified: rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/ObjectPropertyWin.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -111,6 +111,7 @@
                         self.node.setScale(self.node.getScale().x, val, self.node.getScale().z)
                     elif item.text(0) == &quot;Z&quot;:
                         self.node.setScale(self.node.getScale().x, self.node.getScale().y, val)
+                        
     def showProperties(self, so):
         # onItemChanged should only be called when the user changes values not when they change by code
         self.disconnect(self.treeWidget, SIGNAL(&quot;itemChanged (QTreeWidgetItem *,int)&quot;),
@@ -129,6 +130,20 @@
             item.setText(1, n)
             item.setFlags(item.flags() | Qt.ItemIsEditable)
             
+            itemMat = QTreeWidgetItem(self.treeWidget)
+            itemMat.setText(0, &quot;Materials&quot;)
+            
+            i = 0
+            while i &lt; self.node.getAttachedObject(0).getNumSubEntities():
+                it = QTreeWidgetItem(itemMat)
+                it.setFlags(item.flags() | Qt.ItemIsEditable)
+                it.setText(0, &quot;SubMesh&quot; + str(i))
+                it.setText(1, self.node.getAttachedObject(0).getSubEntity(i).getMaterialName())
+                i += 1
+                
+            
+            #item.setFlags(item.flags() | Qt.ItemIsEditable)
+            
             self.parsePosition(self.node)
             self.parseOrientation(self.node)
             self.parseScale(self.node)

Modified: rl/trunk/editors/Lockenwickler/src/OgreMainWindow.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/OgreMainWindow.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/OgreMainWindow.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -223,10 +223,10 @@
             self.dragEnterEvent(event)
         if event.type() == 61: #drag move
             self.dragMoveEvent(event)
-        if event.type() == 62:
-            print &quot;dbg: DragLeave&quot;
+#        if event.type() == 62:
+#            self.finishDropEvent(event)
         if event.type() == 63:
-            self.dropEvent(event)
+            self.finishDropEvent(event)
 
         return False
 
@@ -248,10 +248,20 @@
             text = QString()
             stream &gt;&gt; text
 
-            self.moduleManager.startDropGameObjectAction(text, self.getCameraToViewportRay()) #start the model draging
+            self.moduleManager.startDropGameObjectAction(str(text), self.getCameraToViewportRay()) #start the model draging
 
             event.setDropAction(Qt.CopyAction)
             event.accept()
+        elif event.mimeData().hasFormat(&quot;application/x-material&quot;):
+            data = event.mimeData().data(&quot;application/x-material&quot;)
+            stream = QDataStream(data, QIODevice.ReadOnly)
+            text = QString()
+            stream &gt;&gt; text
+
+            self.moduleManager.startDropMaterialAction(str(text)) #start the material draging
+
+            event.setDropAction(Qt.CopyAction)
+            event.accept()
         else:
             event.ignore()
 
@@ -263,16 +273,23 @@
         elif event.mimeData().hasFormat(&quot;application/x-game_object&quot;):
             self.moduleManager.moveDropGameObjectAction(self.getCameraToViewportRay()) #move it with the mouse
             event.accept()
+        elif event.mimeData().hasFormat(&quot;application/x-material&quot;):
+            self.moduleManager.moveDropMaterialAction(event) #move it with the mouse
+            event.accept()
         else:
             event.ignore()
 
-    def dropEvent(self, event):
+    def finishDropEvent(self, event):
         if event.mimeData().hasFormat(&quot;application/x-static_model&quot;):
-            self.moduleManager.stopDropModelAction(self.getCameraToViewportRay()) #move it with the mouse
+            self.moduleManager.finishDropModelAction(self.getCameraToViewportRay())
             event.accept()
         elif event.mimeData().hasFormat(&quot;application/x-game_object&quot;):
-            self.moduleManager.stopDropGameObjectAction(self.getCameraToViewportRay()) #move it with the mouse
+            self.moduleManager.finishDropGameObjectAction(self.getCameraToViewportRay()) 
             event.accept()
+        elif event.mimeData().hasFormat(&quot;application/x-material&quot;):
+            relMousePos = self.ogreWidget.mapFromGlobal(QCursor.pos())
+            self.moduleManager.finishDropMaterialAction(relMousePos.x(), relMousePos.y()) 
+            event.accept()
         else:
             event.ignore()
 

Modified: rl/trunk/editors/Lockenwickler/src/SelectionBuffer.py
===================================================================
--- rl/trunk/editors/Lockenwickler/src/SelectionBuffer.py	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/SelectionBuffer.py	2009-03-01 15:52:06 UTC (rev 4781)
@@ -44,10 +44,12 @@
        
     # takes into account that one Entity can have multiple SubEntities
     def handleSchemeNotFound(self, index, name, material, lod, subEntity):
+
         temp = str(type(subEntity))
         if temp == &quot;&lt;class 'ogre.renderer.OGRE._ogre_.SubEntity'&gt;&quot;:
             if self.lastEntity == subEntity.getParent().getName():
                 subEntity.setCustomParameter(1, og.Vector4(self.currentColor.r, self.currentColor.g, self.currentColor.b, 1.0))
+                #print str(subEntity.getParent().getRenderQueueGroup())
                 return self.lastTechnique
             else:
                 self.lastTechnique = og.MaterialManager.getSingleton().load(&quot;PlainColorGLSL&quot;, og.ResourceGroupManager.DEFAULT_RESOURCE_GROUP_NAME).getTechnique(0)

Modified: rl/trunk/editors/Lockenwickler/src/media/Pivot_Point.material
===================================================================
--- rl/trunk/editors/Lockenwickler/src/media/Pivot_Point.material	2009-02-28 14:41:09 UTC (rev 4780)
+++ rl/trunk/editors/Lockenwickler/src/media/Pivot_Point.material	2009-03-01 15:52:06 UTC (rev 4781)
@@ -4,6 +4,8 @@
 	{
 		pass
 		{
+			depth_check off
+
 			ambient 1.0 0.0 0.0 0.5
 			diffuse 1.0 0.0 0.0 0.5
 			specular 1.0 0.0 0.0 0.5 12.5
@@ -19,7 +21,7 @@
 
 		pass
 		{
-			lighting off
+			depth_check off
 
 			ambient 0.0 0.0 1.0 0.5
 			diffuse 0.0 0.0 1.0 0.5
@@ -35,6 +37,8 @@
 	{
 		pass
 		{
+			depth_check off
+
 			ambient 0.0 1.0 0.0 0.5
 			diffuse 0.0 1.0 0.0 0.5
 			specular 0.0 1.0 0.0 0.5 12.5
@@ -48,7 +52,9 @@
 	technique
 	{
 		pass
-		{
+		{	
+			depth_check off
+
 			ambient 0.0 0.0 0.0 0.5
 			diffuse 0.0 0.0 0.0 0.5
 			specular 0.0 0.0 0.0 0.5 12.5

Modified: rl/trunk/editors/Lockenwickler/src/media/UniCube.mesh
===================================================================
(Binary files differ)

Added: rl/trunk/editors/Lockenwickler/src/media/icons/colors.png
===================================================================
(Binary files differ)


Property changes on: rl/trunk/editors/Lockenwickler/src/media/icons/colors.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001839.html">[Dsa-hl-svn] r4782 - modules/common/materials/programs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1838">[ date ]</a>
              <a href="thread.html#1838">[ thread ]</a>
              <a href="subject.html#1838">[ subject ]</a>
              <a href="author.html#1838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
