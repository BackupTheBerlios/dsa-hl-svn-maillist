<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4851 - in dependencies/OgreNewt:	demos/Demo01_TheBasics demos/Demo02_Joints	demos/Demo03_CollisionCallbacks demos/Demo04_Raycasting	demos/Demo05_SimpleVehicle demos/Demo06_SimpleBuoyancy	demos/Demo07_CustomJoints demos/Demo08_RagdollExample	demos/media/GUI/fonts inc src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4851%20-%20in%20dependencies/OgreNewt%3A%0A%09demos/Demo01_TheBasics%20demos/Demo02_Joints%0A%09demos/Demo03_CollisionCallbacks%20demos/Demo04_Raycasting%0A%09demos/Demo05_SimpleVehicle%20demos/Demo06_SimpleBuoyancy%0A%09demos/Demo07_CustomJoints%20demos/Demo08_RagdollExample%0A%09demos/media/GUI/fonts%20inc%20src&In-Reply-To=%3C200903201125.n2KBPYO8028110%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001907.html">
   <LINK REL="Next"  HREF="001909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4851 - in dependencies/OgreNewt:	demos/Demo01_TheBasics demos/Demo02_Joints	demos/Demo03_CollisionCallbacks demos/Demo04_Raycasting	demos/Demo05_SimpleVehicle demos/Demo06_SimpleBuoyancy	demos/Demo07_CustomJoints demos/Demo08_RagdollExample	demos/media/GUI/fonts inc src</H1>
    <B>melven at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4851%20-%20in%20dependencies/OgreNewt%3A%0A%09demos/Demo01_TheBasics%20demos/Demo02_Joints%0A%09demos/Demo03_CollisionCallbacks%20demos/Demo04_Raycasting%0A%09demos/Demo05_SimpleVehicle%20demos/Demo06_SimpleBuoyancy%0A%09demos/Demo07_CustomJoints%20demos/Demo08_RagdollExample%0A%09demos/media/GUI/fonts%20inc%20src&In-Reply-To=%3C200903201125.n2KBPYO8028110%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4851 - in dependencies/OgreNewt:	demos/Demo01_TheBasics demos/Demo02_Joints	demos/Demo03_CollisionCallbacks demos/Demo04_Raycasting	demos/Demo05_SimpleVehicle demos/Demo06_SimpleBuoyancy	demos/Demo07_CustomJoints demos/Demo08_RagdollExample	demos/media/GUI/fonts inc src">melven at mail.berlios.de
       </A><BR>
    <I>Fri Mar 20 12:25:34 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001907.html">[Dsa-hl-svn] r4850 -	dependencies/OgreNewt/demos/Demo03_CollisionCallbacks
</A></li>
        <LI>Next message: <A HREF="001909.html">[Dsa-hl-svn] r4852 - in dependencies/OgreNewt:	demos/media/GUI/fonts src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: melven
Date: 2009-03-20 12:25:18 +0100 (Fri, 20 Mar 2009)
New Revision: 4851

Added:
   dependencies/OgreNewt/demos/media/GUI/fonts/VeraSeBd.ttf
   dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-18.font
   dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-8.font
   dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold.fontdef
Modified:
   dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonApplication.cpp
   dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonFrameListener.cpp
   dependencies/OgreNewt/inc/OgreNewt_BasicFrameListener.h
   dependencies/OgreNewt/src/OgreNewt_BasicFrameListener.cpp
Log:
-updated demos and BasicFrameListener


Modified: dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -89,12 +89,12 @@
 {
 	// this is our custom frame listener for this app, that lets us shoot cylinders with the space bar, move
 	// the camera, etc.
-	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);//, msnCam );
+	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
 	// this is a basic frame listener included with OgreNewt that does nothing but update the
 	// physics at a set framerate for you.  complex project will want more control, but this
 	// works for simple demos like this.  feel free to look at the source to see how it works.
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 120 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }

Modified: dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo01_TheBasics/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -8,6 +8,10 @@
 	m_World = W;
 //	msnCam = ncam;
 	mSceneMgr = mgr;
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -104,6 +108,19 @@
 
 	timer -= evt.timeSinceLastFrame;
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;

Modified: dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -144,7 +144,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo02_Joints/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -7,6 +7,10 @@
 {
 	m_World = W;
 	mSceneMgr = mgr;
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -87,7 +91,22 @@
 
 	timer -= evt.timeSinceLastFrame;
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Modified: dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -119,7 +119,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo03_CollisionCallbacks/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -7,6 +7,10 @@
 {
 	m_World = W;
 	mSceneMgr = mgr;
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -82,7 +86,22 @@
 
 	timer -= evt.timeSinceLastFrame;
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Modified: dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -150,7 +150,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo04_Raycasting/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -18,6 +18,10 @@
 	mDragLineNode = mSceneMgr-&gt;getRootSceneNode()-&gt;createChildSceneNode();
 	mDragLine = new Ogre::ManualObject( &quot;__DRAG_LINES__&quot; );
 
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -155,7 +159,22 @@
 
 
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Modified: dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -85,7 +85,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World, msnCam, mCar );
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo05_SimpleVehicle/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -8,6 +8,10 @@
 	mSceneMgr = mgr;
 
 	mCar = car;
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -120,7 +124,22 @@
 	if (!mKeyboard-&gt;isKeyDown( OIS::KC_R )) { mR = false; }
 
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 	{
 		if (mCar)

Modified: dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -167,7 +167,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo06_SimpleBuoyancy/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -18,6 +18,10 @@
 	mDragLineNode = mSceneMgr-&gt;getRootSceneNode()-&gt;createChildSceneNode();
 	mDragLine = new Ogre::ManualObject( &quot;__DRAG_LINES__&quot; );
 
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -150,7 +154,22 @@
 
 
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Modified: dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -145,7 +145,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo07_CustomJoints/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -7,6 +7,10 @@
 {
 	m_World = W;
 	mSceneMgr = mgr;
+
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
 }
 
 OgreNewtonFrameListener::~OgreNewtonFrameListener(void)
@@ -86,7 +90,22 @@
 
 	timer -= evt.timeSinceLastFrame;
 
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Modified: dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonApplication.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonApplication.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonApplication.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -82,7 +82,7 @@
 	mFrameListener = new OgreNewtonFrameListener( mWindow, mCamera, mSceneMgr, m_World);
 	mRoot-&gt;addFrameListener(mFrameListener);
 
-	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, mSceneMgr, m_World, 60 );
+	mNewtonListener = new OgreNewt::BasicFrameListener( mWindow, m_World, 60 );
 	mRoot-&gt;addFrameListener(mNewtonListener);
 }
 

Modified: dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/Demo08_RagdollExample/OgreNewtonFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -8,6 +8,10 @@
 	m_World = W;
 	mSceneMgr = mgr;
 
+    timer = 0.0f;
+    OgreNewt::Debugger &amp;debug(m_World-&gt;getDebugger());
+    debug.init(mgr);
+
 	//////////////////////////////
 	// setup the ragdoll model here.
 	mRagEntity = mSceneMgr-&gt;createEntity( &quot;RAGDOLL_ENTITY&quot;, &quot;zombie.mesh&quot; );
@@ -131,7 +135,7 @@
 			mK1 = true;
 
 			// spawn the ragdoll.  this is the version that is made up of simple primitives.
-			mRagdoll = new RagDoll( &quot;../../media/models/zombie_rag_primitives.xml&quot;, m_World, mRagNode );
+			mRagdoll = new RagDoll( &quot;../media/models/zombie_rag_primitives.xml&quot;, m_World, mRagNode );
 			mRagEntity-&gt;getAnimationState( &quot;LOOP&quot; )-&gt;setEnabled( false );
 
 		}
@@ -140,7 +144,7 @@
 			mK2 = true;
 
 			// spawn the ragdoll.  this is the version that uses auto-hull generation for very accurate collision shapes.
-			mRagdoll = new RagDoll( &quot;../../media/models/zombie_rag_hull.xml&quot;, m_World, mRagNode );
+			mRagdoll = new RagDoll( &quot;../media/models/zombie_rag_hull.xml&quot;, m_World, mRagNode );
 			mRagEntity-&gt;getAnimationState( &quot;LOOP&quot; )-&gt;setEnabled( false );
 
 		}
@@ -150,7 +154,7 @@
 	if (!mKeyboard-&gt;isKeyDown( OIS::KC_2 )) { mK2 = false; }
 
 
-	if (mKeyboard-&gt;isKeyDown( OIS::KC_F3 )) 
+	if (mKeyboard-&gt;isKeyDown( OIS::KC_F2 )) 
 	{ 
 		mRagEntity-&gt;setVisible( false );
 	} 
@@ -160,8 +164,23 @@
 	}
 
 	
+    OgreNewt::Debugger&amp; debug(m_World-&gt;getDebugger());
+    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
+    {
+        debug.showDebugInformation();
+        debug.startRaycastRecording();
+        debug.clearRaycastsRecorded();
+    }
+    else
+    {
+        debug.hideDebugInformation();
+        debug.clearRaycastsRecorded();
+        debug.stopRaycastRecording();
+    }
 
 
+
+
 	if (mKeyboard-&gt;isKeyDown(OIS::KC_ESCAPE))
 		return false;
 

Added: dependencies/OgreNewt/demos/media/GUI/fonts/VeraSeBd.ttf
===================================================================
(Binary files differ)


Property changes on: dependencies/OgreNewt/demos/media/GUI/fonts/VeraSeBd.ttf
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-18.font
===================================================================
--- dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-18.font	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-18.font	2009-03-20 11:25:18 UTC (rev 4851)
@@ -0,0 +1,10 @@
+&lt;?xml version=&quot;1.0&quot; ?&gt;
+&lt;Font 
+    Name=&quot;Vera Serif Bold-18&quot; 
+    Filename=&quot;VeraSeBd.ttf&quot; 
+    Type=&quot;FreeType&quot; 
+    Size=&quot;18&quot; 
+    NativeHorzRes=&quot;800&quot; 
+    NativeVertRes=&quot;600&quot; 
+    AutoScaled=&quot;false&quot;
+/&gt;

Added: dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-8.font
===================================================================
--- dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-8.font	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold-8.font	2009-03-20 11:25:18 UTC (rev 4851)
@@ -0,0 +1,10 @@
+&lt;?xml version=&quot;1.0&quot; ?&gt;
+&lt;Font 
+    Name=&quot;Vera Serif Bold-8&quot; 
+    Filename=&quot;VeraSeBd.ttf&quot; 
+    Type=&quot;FreeType&quot; 
+    Size=&quot;8&quot; 
+    NativeHorzRes=&quot;800&quot; 
+    NativeVertRes=&quot;600&quot; 
+    AutoScaled=&quot;false&quot;
+/&gt;

Added: dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold.fontdef
===================================================================
--- dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold.fontdef	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/demos/media/GUI/fonts/vera_serif_bold.fontdef	2009-03-20 11:25:18 UTC (rev 4851)
@@ -0,0 +1,15 @@
+VeraSerifBold-12
+{
+	type 		truetype
+	source 		VeraSeBd.ttf
+	size 		12
+	resolution 	96
+}
+
+VeraSerifBold-16
+{
+	type 		truetype
+	source 		VeraSeBd.ttf
+	size 		16
+	resolution 	96
+}
\ No newline at end of file

Modified: dependencies/OgreNewt/inc/OgreNewt_BasicFrameListener.h
===================================================================
--- dependencies/OgreNewt/inc/OgreNewt_BasicFrameListener.h	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/inc/OgreNewt_BasicFrameListener.h	2009-03-20 11:25:18 UTC (rev 4851)
@@ -26,10 +26,6 @@
 
 #include &quot;OgreNewt_Prerequisites.h&quot;
 
-// using OIS (an Ogre dependency) for input.
-#define OIS_DYNAMIC_LIB
-#include &lt;OIS/OIS.h&gt;
-
 namespace OgreNewt
 {
 
@@ -51,16 +47,10 @@
 
 
 public:
-    BasicFrameListener(Ogre::RenderWindow* win, Ogre::SceneManager* mgr, OgreNewt::World* W, int update_framerate = 60);
+    BasicFrameListener(Ogre::RenderWindow* win, OgreNewt::World* W, int update_framerate = 60);
     ~BasicFrameListener(void);
 
     bool frameStarted(const Ogre::FrameEvent &amp;evt);
-
-private:
-
-    OIS::InputManager* mInputManager;
-    OIS::Keyboard* mKeyboard;
-
 };
 
 

Modified: dependencies/OgreNewt/src/OgreNewt_BasicFrameListener.cpp
===================================================================
--- dependencies/OgreNewt/src/OgreNewt_BasicFrameListener.cpp	2009-03-20 09:38:35 UTC (rev 4850)
+++ dependencies/OgreNewt/src/OgreNewt_BasicFrameListener.cpp	2009-03-20 11:25:18 UTC (rev 4851)
@@ -13,7 +13,7 @@
 namespace OgreNewt
 {
 
-BasicFrameListener::BasicFrameListener( Ogre::RenderWindow* win, Ogre::SceneManager* mgr, OgreNewt::World* W, int update_framerate) :
+BasicFrameListener::BasicFrameListener( Ogre::RenderWindow* win, OgreNewt::World* W, int update_framerate) :
         FrameListener()
 {
     m_World = W;
@@ -21,23 +21,6 @@
 
     m_update = (Ogre::Real)(1.0f / (Ogre::Real)desired_framerate);
     m_elapsed = 0.0f;
-
-    // add the standard debug viewer.
-    W-&gt;getDebugger().init( mgr );
-
-    OIS::ParamList pl;
-    size_t windowHnd = 0;
-    std::ostringstream windowHndStr;
-
-    win-&gt;getCustomAttribute(&quot;WINDOW&quot;, &amp;windowHnd);
-    windowHndStr &lt;&lt; windowHnd;
-    pl.insert(std::make_pair(std::string(&quot;WINDOW&quot;), windowHndStr.str()));
-
-    mInputManager = OIS::InputManager::createInputSystem( pl );
-
-    //Create all devices (We only catch joystick exceptions here, as, most people have Key/Mouse)
-    mKeyboard = static_cast&lt;OIS::Keyboard*&gt;(mInputManager-&gt;createInputObject( OIS::OISKeyboard, false ));
-
 }
 
 BasicFrameListener::~BasicFrameListener(void)
@@ -86,20 +69,6 @@
     Ogre::LogManager::getSingleton().logMessage(&quot;   Newton updates this loop: &quot;+Ogre::StringConverter::toString(count));
 #endif
 
-    /////////////////////////////////////////////////////////////
-    //      DEBUGGER
-    mKeyboard-&gt;capture();
-
-    if (mKeyboard-&gt;isKeyDown(OIS::KC_F3))
-    {
-        m_World-&gt;getDebugger().showDebugInformation();
-    }
-    else
-    {
-        m_World-&gt;getDebugger().hideDebugInformation();
-    }
-
-    
     return true;
 }
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001907.html">[Dsa-hl-svn] r4850 -	dependencies/OgreNewt/demos/Demo03_CollisionCallbacks
</A></li>
	<LI>Next message: <A HREF="001909.html">[Dsa-hl-svn] r4852 - in dependencies/OgreNewt:	demos/media/GUI/fonts src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
