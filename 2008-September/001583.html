<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4526 - in rl/branches/newton20: editors/Lockenwickler	editors/Lockenwickler/src editors/Lockenwickler/src/media	editors/Lockenwickler/src/media/icons editors/RLdialog	engine/common/include engine/core/include engine/core/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4526%20-%20in%20rl/branches/newton20%3A%20editors/Lockenwickler%0A%09editors/Lockenwickler/src%20editors/Lockenwickler/src/media%0A%09editors/Lockenwickler/src/media/icons%20editors/RLdialog%0A%09engine/common/include%20engine/core/include%20engine/core/src&In-Reply-To=%3C200809241101.m8OB1Elx014621%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001582.html">
   <LINK REL="Next"  HREF="001584.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4526 - in rl/branches/newton20: editors/Lockenwickler	editors/Lockenwickler/src editors/Lockenwickler/src/media	editors/Lockenwickler/src/media/icons editors/RLdialog	engine/common/include engine/core/include engine/core/src</H1>
    <B>melven at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4526%20-%20in%20rl/branches/newton20%3A%20editors/Lockenwickler%0A%09editors/Lockenwickler/src%20editors/Lockenwickler/src/media%0A%09editors/Lockenwickler/src/media/icons%20editors/RLdialog%0A%09engine/common/include%20engine/core/include%20engine/core/src&In-Reply-To=%3C200809241101.m8OB1Elx014621%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4526 - in rl/branches/newton20: editors/Lockenwickler	editors/Lockenwickler/src editors/Lockenwickler/src/media	editors/Lockenwickler/src/media/icons editors/RLdialog	engine/common/include engine/core/include engine/core/src">melven at mail.berlios.de
       </A><BR>
    <I>Wed Sep 24 13:01:14 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001582.html">[Dsa-hl-svn] r4525 - in rl/branches/newton20/engine: core/include	core/src ui/include ui/src
</A></li>
        <LI>Next message: <A HREF="001584.html">[Dsa-hl-svn] r4527 - rl/branches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1583">[ date ]</a>
              <a href="thread.html#1583">[ thread ]</a>
              <a href="subject.html#1583">[ subject ]</a>
              <a href="author.html#1583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: melven
Date: 2008-09-24 13:00:44 +0200 (Wed, 24 Sep 2008)
New Revision: 4526

Added:
   rl/branches/newton20/editors/Lockenwickler/src/SceneExplorer.py
   rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_Arrow.mesh
   rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_FreeMover.mesh
   rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_Point.material
   rl/branches/newton20/editors/Lockenwickler/src/media/Rotate_Torus.mesh
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/back.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/configure.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/console.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/decrypted.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_add.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_remove.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editclear.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcopy.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcut.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editdelete.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editpaste.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/encrypted.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/endturn.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/exit.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/fileexport.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/filenew.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/filesave.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/find.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/forward.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/goto.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/idea.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_down.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_up.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/ok.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/playlist.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/redo.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/resizecol.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/rotate.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/tux.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/unsortedlist1.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/view_tree.png
   rl/branches/newton20/editors/Lockenwickler/src/media/pivots.blend
Removed:
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/back.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/configure.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/console.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/decrypted.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_add.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_remove.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editclear.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcopy.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcut.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editdelete.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/editpaste.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/encrypted.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/endturn.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/exit.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/fileexport.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/filenew.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/filesave.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/find.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/forward.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/goto.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/idea.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_down.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_up.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/ok.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/playlist.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/redo.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/resizecol.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/rotate.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/tux.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/unsortedlist1.png
   rl/branches/newton20/editors/Lockenwickler/src/media/icons/view_tree.png
Modified:
   rl/branches/newton20/editors/Lockenwickler/Lockenwickler.e4p
   rl/branches/newton20/editors/Lockenwickler/src/ConsoleWindow.py
   rl/branches/newton20/editors/Lockenwickler/src/Lockenwickler.py
   rl/branches/newton20/editors/Lockenwickler/src/ModuleManager.py
   rl/branches/newton20/editors/Lockenwickler/src/MovePivot.py
   rl/branches/newton20/editors/Lockenwickler/src/OgreMainWindow.py
   rl/branches/newton20/editors/Lockenwickler/src/Plugins-linux.cfg
   rl/branches/newton20/editors/Lockenwickler/src/PreferencesDialog.py
   rl/branches/newton20/editors/Lockenwickler/src/ui_pref_dialog.py
   rl/branches/newton20/editors/RLdialog/RLdialog.pro
   rl/branches/newton20/editors/RLdialog/helper.h
   rl/branches/newton20/engine/common/include/Property.h
   rl/branches/newton20/engine/core/include/SaveAble.h
   rl/branches/newton20/engine/core/include/SaveAbleCollection.h
   rl/branches/newton20/engine/core/include/SaveAbleFactory.h
   rl/branches/newton20/engine/core/include/SaveAbleManager.h
   rl/branches/newton20/engine/core/src/SaveAble.cpp
   rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp
   rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp
   rl/branches/newton20/engine/core/src/SaveAbleManager.cpp
Log:
merged changes from trunk


Modified: rl/branches/newton20/editors/Lockenwickler/Lockenwickler.e4p
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/Lockenwickler.e4p	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/Lockenwickler.e4p	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,161 +1,179 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!DOCTYPE Project SYSTEM &quot;Project-4.2.dtd&quot;&gt;
-&lt;!-- eric4 project file for project Lockenwickler --&gt;
-&lt;!-- Saved: 2008-06-23, 19:40:36 --&gt;
-&lt;!-- Copyright (C) 2008 Stefan Stammberger, <A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A> --&gt;
-&lt;Project version=&quot;4.2&quot;&gt;
-  &lt;ProgLanguage mixed=&quot;0&quot;&gt;Python&lt;/ProgLanguage&gt;
-  &lt;ProjectType&gt;Qt4&lt;/ProjectType&gt;
-  &lt;Description&gt;Lockenwickler is an Editor application for the Rastulahs Lockenpracht game.&lt;/Description&gt;
-  &lt;Version&gt;0.1&lt;/Version&gt;
-  &lt;Author&gt;Stefan Stammberger&lt;/Author&gt;
-  &lt;Email&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A>&lt;/Email&gt;
-  &lt;Sources&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;Lockenwickler.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ConsoleWindow.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ModelSelectionDialog.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ModuleManager.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;MovePivot.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ObjectPropertyWin.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;OdeManager.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;OgreMainWindow.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;OgreWidget.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;PreferencesDialog.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;PythonOgreConfig.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_ConsoleWindow.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_FourPanelView.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_lw.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_model_prev.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_obj_prop.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;src&lt;/Dir&gt;
-      &lt;Name&gt;ui_pref_dialog.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;batch_convert_ui.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_ConsoleWindow.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_FourPanelView.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_lw.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_model_prev.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_obj_prop.py&lt;/Name&gt;
-    &lt;/Source&gt;
-    &lt;Source&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;ui_pref_dialog.py&lt;/Name&gt;
-    &lt;/Source&gt;
-  &lt;/Sources&gt;
-  &lt;Forms&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;console_window.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;FourPanelView.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;lockewickler.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;model_preview.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;object_property.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-    &lt;Form&gt;
-      &lt;Dir&gt;ui files&lt;/Dir&gt;
-      &lt;Name&gt;preferences_dialog.ui&lt;/Name&gt;
-    &lt;/Form&gt;
-  &lt;/Forms&gt;
-  &lt;Translations&gt;
-  &lt;/Translations&gt;
-  &lt;Resources&gt;
-  &lt;/Resources&gt;
-  &lt;Interfaces&gt;
-  &lt;/Interfaces&gt;
-  &lt;Others&gt;
-  &lt;/Others&gt;
-  &lt;MainScript&gt;
-    &lt;Dir&gt;src&lt;/Dir&gt;
-    &lt;Name&gt;Lockenwickler.py&lt;/Name&gt;
-  &lt;/MainScript&gt;
-  &lt;Vcs&gt;
-    &lt;VcsType&gt;None&lt;/VcsType&gt;
-  &lt;/Vcs&gt;
-  &lt;FiletypeAssociations&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.ui&quot; type=&quot;FORMS&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.idl&quot; type=&quot;INTERFACES&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.ptl&quot; type=&quot;SOURCES&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.pyw&quot; type=&quot;SOURCES&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.ui.h&quot; type=&quot;FORMS&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.py&quot; type=&quot;SOURCES&quot; /&gt;
-    &lt;FiletypeAssociation pattern=&quot;*.qrc&quot; type=&quot;RESOURCES&quot; /&gt;
-  &lt;/FiletypeAssociations&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;!DOCTYPE Project SYSTEM &quot;Project-4.4.dtd&quot;&gt;
+&lt;!-- eric4 project file for project Lockenwickler --&gt;
+&lt;!-- Saved: 2008-09-20, 20:03:11 --&gt;
+&lt;!-- Copyright (C) 2008 Stefan Stammberger, <A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A> --&gt;
+&lt;Project version=&quot;4.4&quot;&gt;
+  &lt;ProgLanguage mixed=&quot;0&quot;&gt;Python&lt;/ProgLanguage&gt;
+  &lt;ProjectType&gt;Qt4&lt;/ProjectType&gt;
+  &lt;Description&gt;Lockenwickler is an Editor application for the Rastulahs Lockenpracht game.&lt;/Description&gt;
+  &lt;Version&gt;0.1&lt;/Version&gt;
+  &lt;Author&gt;Stefan Stammberger&lt;/Author&gt;
+  &lt;Email&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">sstammberger at web.de</A>&lt;/Email&gt;
+  &lt;Sources&gt;
+    &lt;Source&gt;src/Lockenwickler.py&lt;/Source&gt;
+    &lt;Source&gt;src/ConsoleWindow.py&lt;/Source&gt;
+    &lt;Source&gt;src/ModelSelectionDialog.py&lt;/Source&gt;
+    &lt;Source&gt;src/ModuleManager.py&lt;/Source&gt;
+    &lt;Source&gt;src/MovePivot.py&lt;/Source&gt;
+    &lt;Source&gt;src/ObjectPropertyWin.py&lt;/Source&gt;
+    &lt;Source&gt;src/OdeManager.py&lt;/Source&gt;
+    &lt;Source&gt;src/OgreMainWindow.py&lt;/Source&gt;
+    &lt;Source&gt;src/OgreWidget.py&lt;/Source&gt;
+    &lt;Source&gt;src/PreferencesDialog.py&lt;/Source&gt;
+    &lt;Source&gt;src/PythonOgreConfig.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_ConsoleWindow.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_FourPanelView.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_lw.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_model_prev.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_obj_prop.py&lt;/Source&gt;
+    &lt;Source&gt;src/ui_pref_dialog.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/batch_convert_ui.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_ConsoleWindow.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_FourPanelView.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_lw.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_model_prev.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_obj_prop.py&lt;/Source&gt;
+    &lt;Source&gt;ui files/ui_pref_dialog.py&lt;/Source&gt;
+    &lt;Source&gt;src/SceneExplorer.py&lt;/Source&gt;
+  &lt;/Sources&gt;
+  &lt;Forms&gt;
+    &lt;Form&gt;ui files/console_window.ui&lt;/Form&gt;
+    &lt;Form&gt;ui files/FourPanelView.ui&lt;/Form&gt;
+    &lt;Form&gt;ui files/lockewickler.ui&lt;/Form&gt;
+    &lt;Form&gt;ui files/model_preview.ui&lt;/Form&gt;
+    &lt;Form&gt;ui files/object_property.ui&lt;/Form&gt;
+    &lt;Form&gt;ui files/preferences_dialog.ui&lt;/Form&gt;
+  &lt;/Forms&gt;
+  &lt;Translations&gt;
+  &lt;/Translations&gt;
+  &lt;Resources&gt;
+  &lt;/Resources&gt;
+  &lt;Interfaces&gt;
+  &lt;/Interfaces&gt;
+  &lt;Others&gt;
+  &lt;/Others&gt;
+  &lt;MainScript&gt;src/Lockenwickler.py&lt;/MainScript&gt;
+  &lt;Vcs&gt;
+    &lt;VcsType&gt;Subversion&lt;/VcsType&gt;
+    &lt;VcsOptions&gt;
+      &lt;dict&gt;
+        &lt;key&gt;
+          &lt;string&gt;add&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;checkout&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;commit&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;diff&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;export&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;global&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;history&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;log&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;remove&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;status&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;tag&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+        &lt;key&gt;
+          &lt;string&gt;update&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;list&gt;
+            &lt;string&gt;&lt;/string&gt;
+          &lt;/list&gt;
+        &lt;/value&gt;
+      &lt;/dict&gt;
+    &lt;/VcsOptions&gt;
+    &lt;VcsOtherData&gt;
+      &lt;dict&gt;
+        &lt;key&gt;
+          &lt;string&gt;standardLayout&lt;/string&gt;
+        &lt;/key&gt;
+        &lt;value&gt;
+          &lt;bool&gt;True&lt;/bool&gt;
+        &lt;/value&gt;
+      &lt;/dict&gt;
+    &lt;/VcsOtherData&gt;
+  &lt;/Vcs&gt;
+  &lt;FiletypeAssociations&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.ui&quot; type=&quot;FORMS&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.idl&quot; type=&quot;INTERFACES&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.ptl&quot; type=&quot;SOURCES&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.pyw&quot; type=&quot;SOURCES&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.ui.h&quot; type=&quot;FORMS&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.py&quot; type=&quot;SOURCES&quot; /&gt;
+    &lt;FiletypeAssociation pattern=&quot;*.qrc&quot; type=&quot;RESOURCES&quot; /&gt;
+  &lt;/FiletypeAssociations&gt;
 &lt;/Project&gt;
\ No newline at end of file

Modified: rl/branches/newton20/editors/Lockenwickler/src/ConsoleWindow.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/ConsoleWindow.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/ConsoleWindow.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -25,10 +25,10 @@
         sys.stderr = self
 
     def write(self, text):
-        if text.isspace():
-            return
         if self.filterLog:
-            if text.startswith(&quot;Error&quot;):
+            if text.isspace():
+                return
+            elif text.startswith(&quot;Error&quot;):
                 self.consoleWindow.textEdit.append(text)
                 return
             elif text.startswith(&quot;OGRE EXCEPTION&quot;):

Modified: rl/branches/newton20/editors/Lockenwickler/src/Lockenwickler.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/Lockenwickler.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/Lockenwickler.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -2,8 +2,8 @@
 import sys
 import platform
 
-sys.path.insert(0,'..')
-import PythonOgreConfig
+#sys.path.insert(0,'..')
+#import PythonOgreConfig
 
 from random import randint
 from os.path import isfile
@@ -14,8 +14,8 @@
 from ModelSelectionDialog import *
 from ConsoleWindow import *
 from ModuleManager import *
+from SceneExplorer import *
 
-
 import OgreMainWindow
 import ogre.renderer.OGRE as og
 
@@ -26,37 +26,61 @@
         self.setupUi()
 
         self.consoleWindow = ConsoleWindow(False,  self)
-        QtCore.QObject.connect(self.actionConsole_Window, QtCore.SIGNAL(&quot;triggered()&quot;),
-                                    self.toggleConsoleWindow)
 
         self.setupOgre()
 
         self.prefDialog = PreferencesDialog(self.loadModule, self)
-        QtCore.QObject.connect(self.actionPreferences, QtCore.SIGNAL(&quot;triggered()&quot;),
-                                    self.togglePreferencesWindow)
-
         self.objectPropertyWin = ObjectPropertyWin(self)
-        QtCore.QObject.connect(self.actionProperty_Window, QtCore.SIGNAL(&quot;triggered()&quot;),
-                                    self.togglePropertyWindow)
-
+        self.sceneExplorerWin = SceneExplorer(self)
         self.modelSelectionDialog = ModelSelectionDialog(self.ogreRoot, self)
-        QtCore.QObject.connect(self.actionObject_Selection, QtCore.SIGNAL(&quot;triggered()&quot;),
-                                    self.toggleModelPreviewWindow)
 
-        QtCore.QObject.connect(self.actionClose, QtCore.SIGNAL(&quot;triggered()&quot;),
-                                    self.update)
-
         self.createDockWindows()
 
         self.mainTimer = QtCore.QTimer(self)
         self.mainTimer.connect(self.mainTimer, QtCore.SIGNAL(&quot;timeout()&quot;), self.update)
-        self.mainTimer.start(33)
+        self.mainTimer.start(5)
 
-        QtGui.QApplication.setKeyboardInputInterval(5000)
+        settings = QtCore.QSettings()
+        self.restoreGeometry(settings.value(&quot;MainWindow/Geometry&quot;).toByteArray())
+        self.restoreState(settings.value(&quot;MainWindow/DockWindows&quot;).toByteArray())
 
+        self.setWindowTitle(&quot;Rastullahs Lockenwickler&quot;)
+#        # Import Psyco if available
+#        try:
+#            import psyco
+#            psyco.full()
+#            #psyco.log()
+#            #psyco.profile()
+#        except ImportError:
+#            pass
+
+        #QtGui.QApplication.setKeyboardInputInterval(5000)
+
+    def createAction(self, text, slot=None, shortcut=None, icon=None, tip=None, checkable=False, signal=&quot;triggered()&quot;):
+        action = QtGui.QAction(text, self)
+        if icon is not None:
+            action.setIcon(QtGui.QIcon(&quot;media/icons/%s&quot; % icon))
+        if shortcut is not None:
+            action.setShortcut(shortcut)
+        if tip is not None:
+            action.setToolTip(tip)
+            action.setStatusTip(tip)
+        if slot is not None:
+            self.connect(action, QtCore.SIGNAL(signal), slot)
+
+        action.setCheckable(checkable)
+
+        return action
+
+    def addActions(self, target, actions):
+        for act in actions:
+            if act is None:
+               target.addSeparator()
+            else:
+                target.addAction(act)
+
     def setupUi(self):
         self.setObjectName(&quot;MainWindow&quot;)
-        self.resize(QtCore.QSize(QtCore.QRect(0,0,660,657).size()).expandedTo(self.minimumSizeHint()))
 
         self.centralwidget = QtGui.QWidget(self)
         self.centralwidget.setObjectName(&quot;centralwidget&quot;)
@@ -68,7 +92,6 @@
         self.gridlayout.setObjectName(&quot;gridlayout&quot;)
 
         self.menubar = QtGui.QMenuBar(self)
-        self.menubar.setGeometry(QtCore.QRect(0,0,660,22))
         self.menubar.setObjectName(&quot;menubar&quot;)
 
         self.menuFile = QtGui.QMenu(self.menubar)
@@ -78,35 +101,48 @@
         self.menuView.setObjectName(&quot;menuView&quot;)
         self.setMenuBar(self.menubar)
 
+
         self.statusbar = QtGui.QStatusBar(self)
         self.statusbar.setObjectName(&quot;statusbar&quot;)
         self.setStatusBar(self.statusbar)
 
-        self.actionNeu = QtGui.QAction(self)
+        self.actionNeu = QtGui.QAction(QtGui.QIcon(&quot;media/icons/package.png&quot;), &quot;&amp;New&quot;,  self)
         self.actionNeu.setObjectName(&quot;actionNeu&quot;)
 
-        self.actionSceneGraph = QtGui.QAction(self)
-        self.actionSceneGraph.setCheckable(False)
-        self.actionSceneGraph.setObjectName(&quot;actionSceneGraph&quot;)
+        self.actionClose = self.createAction(&quot;Quit&quot;,  self.close,  &quot;Alt + Q&quot;,  &quot;exit.png&quot;,  &quot;Quit&quot;)
+        self.actionClose.setObjectName(&quot;actionClose&quot;)
 
-        self.actionPreferences = QtGui.QAction(self)
-        self.actionPreferences.setCheckable(False)
+
+
+        self.actionMove = self.createAction(&quot;&amp;Move&quot;,  self.actionMoveSlot,  &quot;g&quot;,  &quot;move.png&quot;,  &quot;Move selected object&quot;)
+        self.actionMove.setObjectName(&quot;actionMove&quot;)
+
+        self.actionRotate = self.createAction(&quot;&amp;Rotate&quot;,  self.actionRotateSlot,  &quot;r&quot;,  &quot;rotate.png&quot;,  &quot;Rotate selected object&quot;)
+        self.actionRotate.setObjectName(&quot;actionRotate&quot;)
+
+        self.actionScale = self.createAction(&quot;&amp;Scale&quot;,  self.actionScaleSlot,  &quot;s&quot;,  &quot;resizecol.png&quot;,  &quot;Scale selected object&quot;)
+        self.actionRotate.setObjectName(&quot;actionRotate&quot;)
+
+
+        self.actionSceneExplorer = self.createAction(&quot;&amp;Scene Exlporer&quot;,  self.toggleSceneExplorer,  &quot;Alt + E&quot;,  &quot;view_tree.png&quot;,  &quot;Scene Explorer&quot;,  False)
+        self.actionSceneExplorer.setObjectName(&quot;actionSceneExplorer&quot;)
+
+        self.actionPreferences = self.createAction(&quot;&amp;Preferences&quot;,  self.togglePreferencesWindow,  &quot;Alt + P&quot;,  &quot;configure.png&quot;,  &quot;Lockenwickler Preferences&quot;,  False)
         self.actionPreferences.setObjectName(&quot;actionPreferences&quot;)
 
-        self.actionProperty_Window = QtGui.QAction(self)
+        self.actionProperty_Window = self.createAction(&quot;Pr&amp;operty Window&quot;,  self.togglePropertyWindow,  &quot;Alt + P&quot;,  &quot;unsortedlist1.png&quot;,  &quot;Property Window&quot;)
         self.actionProperty_Window.setObjectName(&quot;actionProperty_Window&quot;)
 
-        self.actionObject_Selection = QtGui.QAction(self)
+        self.actionObject_Selection = self.createAction(&quot;&amp;Model Preview Window&quot;,  self.toggleModelPreviewWindow,  &quot;Alt + O&quot;,  &quot;tux.png&quot;,  &quot;Model Preview&quot;)
         self.actionObject_Selection.setObjectName(&quot;actionObject_Selection&quot;)
 
-        self.actionClose = QtGui.QAction(self)
-        self.actionClose.setObjectName(&quot;actionClose&quot;)
+        self.actionConsole_Window = self.createAction(&quot;&amp;Console Window&quot;,  self.toggleConsoleWindow,  &quot;Alt + C&quot;,  &quot;console.png&quot;,  &quot;Console Window&quot;)
+        self.actionConsole_Window.setObjectName(&quot;actionConsole_Window&quot;)
 
-        self.actionConsole_Window = QtGui.QAction(self)
-        self.actionConsole_Window.setObjectName(&quot;actionConsole_Window&quot;)
+
         self.menuFile.addAction(self.actionNeu)
         self.menuFile.addAction(self.actionClose)
-        self.menuView.addAction(self.actionSceneGraph)
+        self.menuView.addAction(self.actionSceneExplorer)
         self.menuView.addAction(self.actionPreferences)
         self.menuView.addAction(self.actionProperty_Window)
         self.menuView.addAction(self.actionObject_Selection)
@@ -121,8 +157,10 @@
         self.setWindowTitle(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;MainWindow&quot;, None, QtGui.QApplication.UnicodeUTF8))
         self.menuFile.setTitle(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;File&quot;, None, QtGui.QApplication.UnicodeUTF8))
         self.menuView.setTitle(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;View&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.actionNeu.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Neu&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.actionSceneGraph.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;SceneGraph&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.actionNeu.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;New&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.actionMove.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Move&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.actionRotate.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Rotate&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.actionSceneExplorer.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Scene Explorer&quot;, None, QtGui.QApplication.UnicodeUTF8))
         self.actionPreferences.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Preferences&quot;, None, QtGui.QApplication.UnicodeUTF8))
         self.actionProperty_Window.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Property Window&quot;, None, QtGui.QApplication.UnicodeUTF8))
         self.actionObject_Selection.setText(QtGui.QApplication.translate(&quot;MainWindow&quot;, &quot;Object Selection&quot;, None, QtGui.QApplication.UnicodeUTF8))
@@ -138,11 +176,7 @@
         root = og.Root(pluginCfgPath, ogreCfgPath, logPath)
         self.ogreRoot = root
 
-        # setup resources
-        config = og.ConfigFile()
-
-        carryOn = root.showConfigDialog()
-        if not carryOn:
+        if  not self.ogreRoot.restoreConfig() and not self.ogreRoot.showConfigDialog():
             sys.exit('Quit from Config Dialog')
 
         root.initialise(False)
@@ -153,7 +187,7 @@
         self.moduleName = &quot;&quot;
         self.moduleManager = ModuleManager(self.ogreRoot,  self.OgreMainWinSceneMgr)
 
-        self.ogreRenderWindow = OgreMainWindow.OgreMainWindow(self.moduleManager,  root,  self.OgreMainWinSceneMgr, self)
+        self.ogreRenderWindow = OgreMainWindow.OgreMainWindow(self.moduleManager,  root,  self.OgreMainWinSceneMgr,  self)
         self.gridlayout.addWidget(self.ogreRenderWindow,0,0,1,1)
         self.hboxlayout.addLayout(self.gridlayout)
         self.setCentralWidget(self.centralwidget)
@@ -167,6 +201,15 @@
     def update(self):
         self.ogreRoot.renderOneFrame()
 
+    def actionMoveSlot(self):
+        print &quot;MOVE!!!!!!!!!!!&quot;
+
+    def actionRotateSlot(self):
+        print &quot;ROTATE!!!!!!!!!&quot;
+
+    def actionScaleSlot(self):
+        print &quot;Scale!!!!!!!!&quot;
+
     def togglePreferencesWindow(self):
         if self.prefDialog.isHidden():
             self.prefDialog.show()
@@ -179,6 +222,12 @@
         else:
             self.modelSelectionDock.hide()
 
+    def toggleSceneExplorer(self):
+        if self.sceneExplorerDock.isHidden():
+            self.sceneExplorerDock.show()
+        else:
+            self.sceneExplorerDock.hide()
+
     def togglePropertyWindow(self):
         if self.propertyDock.isHidden():
             self.propertyDock.show()
@@ -186,10 +235,10 @@
             self.propertyDock.hide()
 
     def toggleConsoleWindow(self):
-        if self.consoleWindow.isHidden():
-            self.consoleWindow.show()
+        if self.consoleDock.isHidden():
+            self.consoleDock.show()
         else:
-            self.consoleWindow.hide()
+            self.consoleDock.hide()
 
     # parses the moduleconfig.rb and searches for all loader.loadmap(&quot; statements in the ruby script
     # and parses them too
@@ -202,6 +251,7 @@
         self.workingDirCommon = modulePath + &quot;common&quot; # the module path of the common module
 
         import codecs
+        import glob
 
         modConfig = self.workingDir + &quot;/scripts/moduleconfig.rb&quot;
         if isfile(modConfig): # is the modconfig existing?
@@ -232,6 +282,14 @@
         self.setResourcePaths(self.workingDirCommon, &quot;common&quot;)
         og.ResourceGroupManager.getSingleton().initialiseAllResourceGroups()
 
+        command = (os.path.join(self.workingDir,  &quot;maps&quot;) + &quot;/*.xml&quot;)
+        for mf in glob.glob(command): # search for all xml files in the maps directory and add them
+            self.mapFiles.append(mf)
+
+        command = (os.path.join(self.workingDir,  &quot;maps&quot;) + &quot;/*.scene&quot;)
+        for mf in glob.glob(command): # search for all xml files in the maps directory and add them
+            self.mapFiles.append(mf)
+
         self.moduleManager.load(moduleName,  self.mapFiles)
 
     def setResourcePaths(self, path, moduleName):
@@ -249,27 +307,44 @@
 
     def createDockWindows(self):
         self.propertyDock = QtGui.QDockWidget(self.tr(&quot;Properties&quot;), self)
+        self.propertyDock.setObjectName(&quot;PropertyDockWindow&quot;)
         self.propertyDock.setAllowedAreas(QtCore.Qt.LeftDockWidgetArea | QtCore.Qt.RightDockWidgetArea)
         self.propertyDock.setWidget(self.objectPropertyWin)
         self.addDockWidget(QtCore.Qt.LeftDockWidgetArea, self.propertyDock)
 
         self.modelSelectionDock = QtGui.QDockWidget(self.tr(&quot;Models&quot;), self)
+        self.modelSelectionDock.setObjectName(&quot;ModelSelectionDockWindow&quot;)
         self.modelSelectionDock.setAllowedAreas(QtCore.Qt.LeftDockWidgetArea | QtCore.Qt.RightDockWidgetArea)
         self.modelSelectionDock.setWidget(self.modelSelectionDialog)
         self.addDockWidget(QtCore.Qt.RightDockWidgetArea, self.modelSelectionDock)
 
+        self.sceneExplorerDock = QtGui.QDockWidget(self.tr(&quot;Scene Explorer&quot;), self)
+        self.sceneExplorerDock.setObjectName(&quot;SceneExplorerDockWindow&quot;)
+        self.sceneExplorerDock.setAllowedAreas(QtCore.Qt.LeftDockWidgetArea | QtCore.Qt.RightDockWidgetArea)
+        self.sceneExplorerDock.setWidget(self.sceneExplorerWin)
+        self.addDockWidget(QtCore.Qt.LeftDockWidgetArea, self.sceneExplorerDock)
+
         self.consoleDock = QtGui.QDockWidget(self.tr(&quot;Console&quot;), self)
+        self.consoleDock.setObjectName(&quot;ConsoleDockWindow&quot;)
         self.consoleDock.setAllowedAreas(QtCore.Qt.BottomDockWidgetArea | QtCore.Qt.TopDockWidgetArea)
         self.consoleDock.setWidget(self.consoleWindow)
         self.addDockWidget(QtCore.Qt.BottomDockWidgetArea, self.consoleDock)
 
         self.fileToolBar = self.addToolBar(&quot;File Toolbar&quot;)
+        self.fileToolBar.setObjectName(&quot;FileToolBar&quot;)
         self.fileToolBar.setAllowedAreas(QtCore.Qt.TopToolBarArea | QtCore.Qt.BottomToolBarArea)
         self.fileToolBar.addAction(self.actionNeu)
         self.fileToolBar.addAction(self.actionClose)
-        self.fileToolBar.hide()
         self.addToolBar(QtCore.Qt.TopToolBarArea, self.fileToolBar)
 
+        self.moveToolBar = self.addToolBar(&quot;Transformation Bar&quot;)
+        self.moveToolBar.setObjectName(&quot;TransformationBar&quot;)
+        self.moveToolBar.setAllowedAreas(QtCore.Qt.TopToolBarArea | QtCore.Qt.BottomToolBarArea)
+        self.moveToolBar.addAction(self.actionMove)
+        self.moveToolBar.addAction(self.actionRotate)
+        self.moveToolBar.addAction(self.actionScale)
+        self.addToolBar(QtCore.Qt.TopToolBarArea, self.moveToolBar)
+
     def keyPressEvent(self,  event):
         if not event.isAutoRepeat():
             self.ogreRenderWindow.keyPressEvent(event)
@@ -279,10 +354,34 @@
             self.ogreRenderWindow.keyReleaseEvent(event)
         pass
 
+    def connectActionButtons(self):
+        pass
+
+    def saveOnClose(self):
+        reply = QtGui.QMessageBox.question(self,  &quot;Rastullahs Lockenwickler - Unsaved Chages&quot;,  &quot;Save unsaved changes?&quot;,  QtGui.QMessageBox.Yes|QtGui.QMessageBox.No|QtGui.QMessageBox.Cancel)
+        if reply == QtGui.QMessageBox.Cancel:
+            return False
+        if reply == QtGui.QMessageBox.Yes:
+            print &quot;SAVE!!!!&quot;
+            #TODO: implement save here
+        return True
+
+    def closeEvent(self,  event):
+        if self.saveOnClose():
+            settings = QtCore.QSettings()
+            settings.setValue(&quot;MainWindow/Geometry&quot;,  QtCore.QVariant(self.saveGeometry()))
+            settings.setValue(&quot;MainWIndow/DockWindows&quot;,  QtCore.QVariant(self.saveState()))
+        else:
+            event.ignore()
+
 if __name__ == &quot;__main__&quot;:
-     app = QtGui.QApplication(sys.argv)
-     myapp = Lockenwickler()
-     myapp.show()
+    app = QtGui.QApplication(sys.argv)
+    app.setOrganizationName(&quot;Team Pantheon&quot;)
+    app.setOrganizationDomain(&quot;rastullahs-lockenpracht.de/team&quot;)
+    app.setApplicationName(&quot;Lockenwickler&quot;)
 
-     sys.exit(app.exec_())
+    form = Lockenwickler()
+    form.show()
 
+    sys.exit(app.exec_())
+

Modified: rl/branches/newton20/editors/Lockenwickler/src/ModuleManager.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/ModuleManager.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/ModuleManager.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -4,11 +4,14 @@
 import ctypes
 import ogre.renderer.OGRE as og
 
+from MovePivot import *
+
 # a class to store information about a object that got selected
 class SelectionObject():
     def __init__(self,  entity,  distance):
         self.entity = entity #the selected entity
         self.distance = distance # the distance from camera at the time of selection
+        self.isPivot = False
 
     #if True this instance will show its bounding box else it will hide it
     def setSelected(self,  selected):
@@ -29,7 +32,9 @@
         self.mVertexList = []
         self.mIndexList = []
 
+        self.currentRay = None
         self.lastRay = None
+
     # sort algorithm for the selection list
     def sortCompareImp(self,  x,  y):
         if x.distance &gt; y.distance:
@@ -40,10 +45,36 @@
             return -1
 
     def queryResult ( self, entity, distance ):
+        print entity.getName()
         if distance == 0.0: #camera is in the bounding box, ignore this selection
             return True
         elif entity.getName() == &quot;rayLine&quot; :
             return True
+        elif entity.isVisible() and entity.getName() == &quot;EditorXArrow&quot;:
+            so = SelectionObject(entity,  distance)
+            so.isPivot = True
+            self.selectionList.append(so)
+            return False
+        elif entity.isVisible() and entity.getName() == &quot;EditorYArrow&quot;:
+            so = SelectionObject(entity,  distance)
+            so.isPivot = True
+            self.selectionList.append(so)
+            return False
+        elif entity.isVisible() and entity.getName() == &quot;EditorZArrow&quot;:
+            so = SelectionObject(entity,  distance)
+            so.isPivot = True
+            self.selectionList.append(so)
+            return False
+        elif entity.isVisible() and entity.getName() == &quot;EditorFreeMover&quot;:
+            return True
+        elif entity.getName() == &quot;EditorXRotator&quot; or entity.getName() == &quot;EditorYRotator&quot; or entity.getName() == &quot;EditorZRotator&quot;:
+            if entity.isVisible() and self.rayCastToPolygonLevelOnSingleMesh(self.currentRay,  entity):
+                so = SelectionObject(entity,  distance)
+                so.isPivot = True
+                self.selectionList.append(so)
+                return False
+            else:
+                return True
         else:
             so = SelectionObject(entity,  distance)
             self.selectionList.append(so)
@@ -88,6 +119,12 @@
 
         pMesh = entity.getMesh()
 
+        pos =    entity.getParentNode().getWorldPosition()
+        scale =  entity.getParentNode().getScale()
+        orient = entity.getParentNode().getWorldOrientation()
+
+
+
         for i in range ( pMesh.getNumSubMeshes() ):
             pSubMesh = pMesh.getSubMesh(i)
             if pSubMesh.useSharedVertices:
@@ -100,11 +137,10 @@
             numVertices += pMesh.sharedVertexData.vertexCount
 
             storageclass = ctypes.c_float * 3
-            test=storageclass(1.1)
+            test=storageclass(0.0,  0.0,  0.0)
 #         mVertexList = new Point[numVertices];
 #         mIndexList = new unsigned int[numIndices];
 
-        self.mNormalList = []
         self.mVertexList = []
         self.mIndexList = []
 
@@ -115,28 +151,19 @@
         if useSharedVertices:
             ## Real* pVertices (x, y, z order x numVertices)
             elem = pMesh.sharedVertexData.vertexDeclaration.findElementBySemantic(og.VES_POSITION)
-            elemNormal = pMesh.sharedVertexData.vertexDeclaration.findElementBySemantic(og.VES_NORMAL)
 
             if not elem:
                 ogre.Except(Exception.ERR_ITEM_NOT_FOUND, &quot;Can't find position elements in the &quot;
                     &quot;mesh to be written!&quot;, &quot;MeshSerializerImpl.writeGeometry&quot;)
 
             vbuf = pMesh.sharedVertexData.vertexBufferBinding.getBuffer(elem.getSource())
-            vbufNormal = pMesh.sharedVertexData.vertexBufferBinding.getBuffer(elemNormal.getSource())
 
             ## need space for the 3 verticies
             storageclass = ctypes.c_float * 3
-            test=storageclass(1.1)
+            test=storageclass(0.0,  0.0,  0.0)
 
-            storageclass = ctypes.c_float * 3
-            testNormal=storageclass(1.1)
-
             for j in range ( pMesh.sharedVertexData.vertexCount ):
-                #vbufNormal.readData(j * vbufNormal.getVertexSize(), 3 * ctypes.sizeof(ctype.c_float), ctypes.addressof(testNormal))
-                vbufNormal.readData(j * 3, 3 * ctypes.sizeof(ctype.c_float), ctypes.addressof(testNormal))
-                self.mNormalList.append( og.Vector3(testNormal[0], testNormal[1],  testNormal[2]) )
-
-                vbuf.readData(j * vbuf.getVertexSize(), 3 * ctypes.sizeof(ctype.c_float), ctypes.addressof(test))
+                vbuf.readData(j * vbuf.getVertexSize(), 3 * ctype.sizeof(ctype.c_float), ctype.addressof(test))
                 self.mVertexList.append( og.Vector3(test[0], test[1], test[2]) )
                 vertListCount+=1
 
@@ -145,30 +172,26 @@
             if not pSubMesh.useSharedVertices:
                 ## Real* pVertices (x, y, z order x numVertices)
                 elem = pSubMesh.vertexData.vertexDeclaration.findElementBySemantic(og.VES_POSITION)
-                elemNormal = pSubMesh.vertexData.vertexDeclaration.findElementBySemantic(og.VES_NORMAL)
 
-                if not elem or not elemNormal:
+                if not elem:
                     og.Except(Exception.ERR_ITEM_NOT_FOUND, &quot;Can't find position elements in the &quot;
                         &quot;mesh to be written!&quot;, &quot;MeshSerializerImpl.writeGeometry&quot;)
 
                 vbuf = pSubMesh.vertexData.vertexBufferBinding.getBuffer(elem.getSource())
-                vbufNormal = pSubMesh.vertexData.vertexBufferBinding.getBuffer(elemNormal.getSource())
 
                 ## need space for the verticies
-                storageclass = ctypes.c_float * (pSubMesh.vertexData.vertexCount * 3)
-                test=storageclass(1.1)
+                storageclass = ctypes.c_float * (pSubMesh.vertexData.vertexCount * 6)
+                test=storageclass(0.0)
 
-                storageclassNormal = ctypes.c_float * (pSubMesh.vertexData.vertexCount * 3)
-                testNormal=storageclassNormal(1.1)
+                vbuf.readData(0, pSubMesh.vertexData.vertexCount * 6 * ctypes.sizeof(ctypes.c_float), ctypes.addressof(test))
 
-                vbuf.readData(0, pSubMesh.vertexData.vertexCount * 3 * ctypes.sizeof(ctypes.c_float),
-                                                                                ctypes.addressof(test))
-                vbufNormal.readData(0, pSubMesh.vertexData.vertexCount * 3 * ctypes.sizeof(ctypes.c_float),
-                                                                                ctypes.addressof(testNormal))
-
-                for j in range ( pSubMesh.vertexData.vertexCount ):
-                    self.mVertexList.append( og.Vector3(test[j], test[j+1], test[j+2]) )
-                    self.mNormalList.append( og.Vector3(testNormal[j], testNormal[j+1], testNormal[j+2]) )
+                for j in range ( 0,  pSubMesh.vertexData.vertexCount * 6,  6):
+                    #print j
+                    p = og.Vector3(test[j], test[j+1], test[j+2])
+                    p /= scale
+                    p += pos
+                    p = orient * p
+                    self.mVertexList.append( p )
                     vertListCount += 1
 
             ibuf = pSubMesh.indexData.indexBuffer
@@ -176,39 +199,51 @@
             storageclass = ctypes.c_ushort * pSubMesh.indexData.indexCount
             test2=storageclass()
 
+
             ibuf.readData(0, ibuf.getSizeInBytes(), ctypes.addressof(test2))
-
             for j in range ( pSubMesh.indexData.indexCount ):
                 self.mIndexList.append (test2[j])   # unsigned short
                 indexCount += 1
 
+            ih = 0
+            for blah in self.mVertexList:
+                print str(ih) + &quot;: &quot;  +  str(blah)
+                ih += 1
+
+#            for blah in self.mIndexList:
+#                print blah
+
+
     # used when a new selection is made, meaning when not iterationg through the selected objects
     def rayCastToPolygonLevel(self,  ray):
         self.lastRay = ray
+
+        for so in self.selectionList:
+            if so.isPivot:
+                return so
+
         if len(self.selectionList) &gt;= 1:
             for so in self.selectionList:
-                self.getMeshInformation(so.entity)
+                if self.rayCastToPolygonLevelOnSingleMesh(ray,  so.entity):
+                    return so
 
-                i = 0
-                while i &lt;= (len(self.mIndexList) - 3):
-                    globalPosition = so.entity.getParentNode().getPosition()
-                    result = og.Math.intersects(ray, globalPosition + self.mVertexList[self.mIndexList[i]], globalPosition + self.mVertexList[self.mIndexList[i+1]],
-                                                                                                                                                              globalPosition + self.mVertexList[self.mIndexList[i+2]], True, True)
 
-                    if result.first:
-                        return so
-#                        self.previousSelected = self.currentSelected
-#
-#                        if self.previousSelected is not -1:
-#                            self.selectionList[self.previousSelected].setSelected(False)
-#
-#                        self.currentSelected = self.selectionList.index(so)
-#                        so.setSelected(True)
-#                        return
-                    i += 3
+    def rayCastToPolygonLevelOnSingleMesh(self,  ray,  entity):
+        self.getMeshInformation(entity)
+        globalPosition = entity.getParentNode().getWorldPosition()
 
-#        print &quot;fertsch #####################################################################################&quot;
+        i = 0
+        while i &lt;= (len(self.mIndexList) - 3):
+            result = og.Math.intersects(ray, globalPosition + self.mVertexList[self.mIndexList[i]], globalPosition + self.mVertexList[self.mIndexList[i+1]],
+                                                                                                                                                          globalPosition + self.mVertexList[self.mIndexList[i+2]], True, False)
 
+            if result.first:
+                return True
+
+            i += 3
+
+        return False
+
     def rayCastToPolygonLevelOnCurrentSelection(self):
         if len(self.selectionList) &gt;= 1:
             self.getMeshInformation(self.selectionList[self.currentSelected].entity)
@@ -238,6 +273,13 @@
         self.lastRay = None
         self.rayLine = None
 
+        self.pivot = None
+        self.movingPivot = False
+
+        self.leftMouseDown = False
+        self.middleMouseDown = False
+        self.rightMouseDown = False
+
     def load(self,  moduleName,  mapFiles):
         self.moduleName = moduleName
         self.mapFiles = mapFiles
@@ -248,6 +290,7 @@
             if node != None:
                 self.parseSceneNodes(node)
 
+        self.pivot = Pivot(self.sceneManager)
 
     def parseSceneNodes(self,  nodeList):
         for ent in nodeList:
@@ -281,7 +324,12 @@
                         nodeScale = og.Vector3(px, py, pz)
                         continue
 
-            e = self.sceneManager.createEntity(entityName, meshFile)
+            try:
+                e = self.sceneManager.createEntity(entityName, meshFile)
+            except:
+                print &quot;Warning: Meshfile &quot; + meshFile + &quot; could not be found.&quot;
+                return
+
             n = self.sceneManager.getRootSceneNode().createChild()
             n.attachObject(e)
             n.setPosition(nodePosition)
@@ -290,28 +338,39 @@
 
         pass
 
-
+    # called when a click into Main Ogre Window occurs
     def selectionClick(self,  ray,  controlDown=False,  shiftDown=False):
-        if not controlDown and not shiftDown:
-            self.resetSelection()
-
         self.lastRay = ray
+        self.listenerDings.currentRay = ray
         self.raySceneQuery.Ray = ray
         self.raySceneQuery.execute(self.listenerDings)
 
-
         so = self.listenerDings.rayCastToPolygonLevel(ray)
-        if so is not None and not controlDown and not shiftDown:
-            so.setSelected(True)
-            self.userSelectionList.append(so)
-        elif so is not None and controlDown and not shiftDown:
-            so.setSelected(True)
-            self.userSelectionList.append(so)
-        elif so is not None and not controlDown and shiftDown:
-            for selo in self.userSelectionList:
-                if so.entity.getName() == selo.entity.getName():
-                    so.setSelected(False)
-                    self.userSelectionList.remove(selo)
+        if so is not None:
+            if not so.isPivot:
+                self.pivot.show()
+                if not controlDown and not shiftDown:
+                    self.resetSelection()
+                    so.setSelected(True)
+                    self.userSelectionList.append(so)
+                    self.updatePivots()
+                elif controlDown and not shiftDown:
+                    so.setSelected(True)
+                    self.userSelectionList.append(so)
+                    self.updatePivots()
+                elif not controlDown and shiftDown:
+                    for selo in self.userSelectionList:
+                        if so.entity.getName() == selo.entity.getName():
+                            so.setSelected(False)
+                            self.userSelectionList.remove(selo)
+                    self.updatePivots()
+            else:
+                print &quot;isPivot: &quot; + str(so.entity.getName())
+                self.pivot.startTransforming(so.entity,  self.userSelectionList)
+        else:
+            print &quot;noneee&quot;
+            self.resetSelection() # click in empty space, deselect everything
+            self.pivot.hide()
 
         if self.rayLine == None:
             self.rayLine = self.sceneManager.createManualObject(&quot;rayLine&quot;)
@@ -333,6 +392,10 @@
 
             self.rayLine.end()
 
+    def leftMouseUp(self):
+        if self.pivot.isTransforming:
+            self.pivot.stopTransforming()
+
     def iterateEntityUnderMouse(self):
         self.listenerDings.iterateEntityUnderMouse()
 
@@ -347,6 +410,15 @@
         self.listenerDings.reset()
         pass
 
+
+    def updatePivots(self):
+        newPivotPosition = og.Vector3(0, 0, 0)
+
+        for so in self.userSelectionList:
+            newPivotPosition += so.entity.getParentNode().getPosition()
+
+        self.pivot.setPosition(newPivotPosition / len(self.userSelectionList))
+
     def unload(self,  saveOnUnload=True):
         pass
 

Modified: rl/branches/newton20/editors/Lockenwickler/src/MovePivot.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/MovePivot.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/MovePivot.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,17 +1,149 @@
 import sys
+import ogre.renderer.OGRE as og
 
-class MovePivot():
+
+class Pivot():
     def __init__(self,  sceneManager):
         self.sceneManager = sceneManager
-        self.moveX = False
-        self.moveY = False
-        self.moveZ = False
 
-    # set true if the mouse input should be processed or not
-    def activated(self,  moveX,  moveY,  moveZ):
-        self.moveX = moveX
-        self.moveY = moveY
-        self.moveZ = moveZ
+        self.mode = None
 
-    def move(self):
+        self.meshManager = og.MeshManager.getSingleton ()
+
+        self.pivotNode = sceneManager.getRootSceneNode().createChildSceneNode(&quot;pivotNode&quot;)
+        self.__createMovePivot()
+        self.__createRotatePivot()
+        self.__createScalePivot()
+        self.hide()
+        self.setMoveMode()
+
+        self.moveDirection = None
+        self.isTransforming = False
+        self.selectionList = None
+
+    def __createMovePivot(self):
+        self.xMoveEntity = self.sceneManager.createEntity(&quot;EditorXArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.xMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
+        self.xMoveNode = self.pivotNode.createChildSceneNode()
+        self.xMoveNode.attachObject(self.xMoveEntity)
+        self.xMoveNode.translate(og.Vector3(2, 0, 0))
+        self.xMoveNode.rotate(og.Vector3.UNIT_Y,  og.Degree(90))
+
+#        plane = og.Plane (og.Vector3.UNIT_X, 0)
+#        self.meshManager.createPlane ('EditorXArrowSelectionPlane', 'General', plane, 5, 14, 1, 1, False, 1, 5, 5, (0, 0, 1))
+#        self.xMoveEntitySelectionPlane = self.sceneManager.createEntity ('EditorXArrowSelectionPlane', 'EditorXArrowSelectionPlane')
+#        self.xMoveNodeSelectionPlane = self.xMoveNode.createChildSceneNode()
+#        self.xMoveNodeSelectionPlane.attachObject (self.xMoveEntitySelectionPlane)
+#        self.xMoveNodeSelectionPlane.translate(og.Vector3(0, 0, 5))
+#        self.xMoveEntitySelectionPlane.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
+
+
+
+        self.yMoveEntity = self.sceneManager.createEntity(&quot;EditorYArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.yMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
+        self.yMoveNode = self.pivotNode.createChildSceneNode()
+        self.yMoveNode.attachObject(self.yMoveEntity)
+        self.yMoveNode.translate(og.Vector3(0, 2, 0))
+        self.yMoveNode.rotate(og.Vector3.UNIT_X,  og.Degree(-90))
+        #self.yNode.showBoundingBox(True)
+
+#        plane = og.Plane (og.Vector3.UNIT_X, 0)
+#        self.meshManager.createPlane ('EditorYArrowSelectionPlane', 'General', plane, 14, 0, 1, 1, False, 1, 5, 5, (0, 0, 1))
+#        self.yMoveEntitySelectionPlane = self.sceneManager.createEntity ('EditorYArrowSelectionPlane', 'EditorYArrowSelectionPlane')
+#        self.yMoveNodeSelectionPlane = self.xMoveNode.createChildSceneNode()
+#        self.yMoveNodeSelectionPlane.attachObject (self.yMoveEntitySelectionPlane)
+#        self.yMoveNodeSelectionPlane.translate(og.Vector3(0, 5, 0))
+#        self.yMoveEntitySelectionPlane.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
+
+
+        self.zMoveEntity = self.sceneManager.createEntity(&quot;EditorZArrow&quot;,  &quot;Pivot_Arrow.mesh&quot;)
+        self.zMoveEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
+        self.zMoveNode = self.pivotNode.createChildSceneNode()
+        self.zMoveNode.attachObject(self.zMoveEntity)
+        self.zMoveNode.translate(og.Vector3(0, 0, 2))
+        #self.zNode.showBoundingBox(True)
+
+        self.freeMoveEntity = self.sceneManager.createEntity(&quot;EditorFreeMoveArrow&quot;,  &quot;Pivot_FreeMover.mesh&quot;)
+        self.freeMoveEntity.setMaterialName(&quot;Lockenwickler_FreeMover&quot;)
+        self.freeMoveNode = self.pivotNode.createChildSceneNode()
+        self.freeMoveNode.attachObject(self.freeMoveEntity)
+
+
+    def __createRotatePivot(self):
+        self.xRotateEntity = self.sceneManager.createEntity(&quot;EditorXRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.xRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_X&quot;)
+        self.xRotateNode = self.pivotNode.createChildSceneNode()
+        self.xRotateNode.attachObject(self.xRotateEntity)
+        #self.xRotateNode.translate(0, 0, -5)
+        self.xRotateNode.rotate(og.Vector3.UNIT_Y,  og.Degree(90))
+
+        self.yRotateEntity = self.sceneManager.createEntity(&quot;EditorYRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.yRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Y&quot;)
+        self.yRotateNode = self.pivotNode.createChildSceneNode()
+        self.yRotateNode.attachObject(self.yRotateEntity)
+        #self.yRotateNode.translate(0, 0, -10)
+        self.yRotateNode.rotate(og.Vector3.UNIT_X,  og.Degree(90))
+
+        self.zRotateEntity = self.sceneManager.createEntity(&quot;EditorZRotator&quot;,  &quot;Rotate_Torus.mesh&quot;)
+        self.zRotateEntity.setMaterialName(&quot;Lockenwickler_Pivot_Z&quot;)
+        self.zRotateNode = self.pivotNode.createChildSceneNode()
+        self.zRotateNode.attachObject(self.zRotateEntity)
+
         pass
+
+    def __createScalePivot(self):
+        pass
+
+    def setPosition(self,  pos):
+        self.pivotNode.setPosition(pos)
+
+    def startTransforming(self, dirEntity, soList):
+        self.moveDirection = dirEntity.getName()
+        self.selectionList = soList
+        self.isTransforming = True
+        pass
+
+    def stopTransforming(self):
+        self.isTransforming = False
+        pass
+
+    def hide(self):
+        self.pivotNode.setVisible(False)
+
+    def show(self):
+        if self.mode == 1:
+            self.xMoveNode.setVisible(True)
+            self.yMoveNode.setVisible(True)
+            self.zMoveNode.setVisible(True)
+            self.freeMoveNode.setVisible(True)
+        elif self.mode == 2:
+            self.xRotateNode.setVisible(True)
+            self.yRotateNode.setVisible(True)
+            self.zRotateNode.setVisible(True)
+        elif self.mode == 3:
+            pass
+
+    def setMoveMode(self):
+        self.hide()
+        self.mode = 1
+        self.xMoveNode.setVisible(True)
+        self.yMoveNode.setVisible(True)
+        self.zMoveNode.setVisible(True)
+        self.freeMoveNode.setVisible(False)
+
+        pass
+
+    def setRotateMode(self):
+        self.hide()
+        self.mode = 2
+        self.xRotateNode.setVisible(True)
+        self.yRotateNode.setVisible(True)
+        self.zRotateNode.setVisible(True)
+        pass
+
+    def __setScaleMode(self):
+        pass
+
+    def onMouseMoved(self, globalX, globalY, incX, incY):
+        print self.moveDirection
+        pass

Modified: rl/branches/newton20/editors/Lockenwickler/src/OgreMainWindow.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/OgreMainWindow.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/OgreMainWindow.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -17,7 +17,6 @@
         self.OgreMainWinSceneMgr = OgreMainWinSceneMgr
 
         self.ogreRenderWindow = None
-        self.ogreRenderWindow2 = None
 
         self.leftMouseDown = False
         self.middleMouseDown = False
@@ -30,8 +29,6 @@
         self.strafeCamLeft = False
         self.strafeCamRight = False
 
-        self.focusedWindow = None # the ogre window which has focus at the moment (activated by a click into the window), eventFilter method
-
         self.camUpdateTimer = QtCore.QTimer(self)
         self.camUpdateTimer.connect(self.camUpdateTimer, QtCore.SIGNAL(&quot;timeout()&quot;), self.updateCamera)
 
@@ -61,6 +58,7 @@
         self.ogreWindowOptions = QtGui.QToolButton(self)
         QtCore.QObject.connect(self.ogreWindowOptions, QtCore.SIGNAL(&quot;clicked()&quot;),
                                     self.onPreferencesButton)
+        self.ogreWindowOptions.hide()
 
         sizePolicy = QtGui.QSizePolicy(QtGui.QSizePolicy.Maximum,QtGui.QSizePolicy.Minimum)
         sizePolicy.setHorizontalStretch(0)
@@ -71,18 +69,9 @@
         self.splitterV.addWidget(self.ogreWindowOptions)
 
         # create the horizontal splitter wich contains the two ogre render windows and add it to the vertical splitter
-        self.splitterH = QtGui.QSplitter(Form)
-        sizePolicy = QtGui.QSizePolicy(QtGui.QSizePolicy.MinimumExpanding,QtGui.QSizePolicy.MinimumExpanding)
-        sizePolicy.setHorizontalStretch(0)
-        sizePolicy.setVerticalStretch(0)
-        sizePolicy.setHeightForWidth(self.splitterH.sizePolicy().hasHeightForWidth())
-        self.splitterH.setSizePolicy(sizePolicy)
-        self.splitterH.setOrientation(QtCore.Qt.Horizontal)
-        self.splitterH.setObjectName(&quot;splitterH&quot;)
 
-
         ##################################
-        self.ogreRenderWindow = OgreWidget.OgreWidget(&quot;OgreMainWin&quot;, self.ogreRoot, self.OgreMainWinSceneMgr, &quot;MainCam&quot;, self.splitterH,  0)
+        self.ogreRenderWindow = OgreWidget.OgreWidget(&quot;OgreMainWin&quot;, self.ogreRoot, self.OgreMainWinSceneMgr, &quot;MainCam&quot;, self.splitterV,  0)
         self.ogreRenderWindow.setMinimumSize(QtCore.QSize(250,250))
 
         sizePolicy = QtGui.QSizePolicy(QtGui.QSizePolicy.Maximum,QtGui.QSizePolicy.Maximum)
@@ -91,31 +80,15 @@
         sizePolicy.setHeightForWidth(self.ogreRenderWindow.sizePolicy().hasHeightForWidth())
         self.ogreRenderWindow.setSizePolicy(sizePolicy)
         self.ogreRenderWindow.setObjectName(&quot;ogreWidget&quot;)
-        self.splitterH.addWidget(self.ogreRenderWindow)
-        self.ogreRenderWindow.setBackgroundColor(og.ColourValue(0, 0, 1))
+        self.splitterV.addWidget(self.ogreRenderWindow)
+        self.ogreRenderWindow.setBackgroundColor(og.ColourValue(0, 1, 1))
         ####################################
 
-        #################################
-        self.ogreRenderWindow2 = OgreWidget.OgreWidget(&quot;OgreMainWin2&quot;, self.ogreRoot, self.OgreMainWinSceneMgr, &quot;MainCam2&quot;, self.splitterH,  0)
-        self.ogreRenderWindow2.setMinimumSize(QtCore.QSize(250,250))
-
-        sizePolicy = QtGui.QSizePolicy(QtGui.QSizePolicy.Maximum,QtGui.QSizePolicy.Maximum)
-        sizePolicy.setHorizontalStretch(0)
-        sizePolicy.setVerticalStretch(0)
-        sizePolicy.setHeightForWidth(self.ogreRenderWindow2.sizePolicy().hasHeightForWidth())
-        self.ogreRenderWindow2.setSizePolicy(sizePolicy)
-        self.ogreRenderWindow2.setObjectName(&quot;ogreWidget2&quot;)
-        self.splitterH.addWidget(self.ogreRenderWindow2)
-        self.ogreRenderWindow2.setBackgroundColor(og.ColourValue(0, 0, 1))
-        ###################################
-
-        self.splitterV.addWidget(self.splitterH)
         self.gridlayout.addWidget(self.splitterV,0,0,1,1)
 
         # register the eventfilters for the render windows
         # this is needed to catch mouse enter and mouse leave events for these windows
         self.ogreRenderWindow.installEventFilter(self)
-        self.ogreRenderWindow2.installEventFilter(self)
 
         self.lastMousePosX = 0
         self.lastMousePosY = 0
@@ -154,7 +127,7 @@
         if event.type() == 2:
             if event.button() == 1: # left mouse button is pressed
                 self.leftMouseDown = True
-                self.focusedWindow = obj
+                self.moduleManager.leftMouseDown = True
 
                 if self.rightMouseDown: #if right mouse button is already pressed dolly the camera
                     self.dollyCamera = True
@@ -163,33 +136,44 @@
 
             elif event.button() == 2: # right mouse button is pressed
                 self.rightMouseDown = True
-                self.focusedWindow = obj
+                self.moduleManager.rightMouseDown = True
+
             elif event.button() == 4: # middle mouse button is pressed
                 self.middleMouseDown = True
-                self.focusedWindow = obj
+                self.moduleManager.middleMouseDown = True
 
             self.camUpdateTimer.start(15)
 
         elif event.type() == 3:
             if event.button() == 1: # left mouse button is released
                 self.leftMouseDown = False
+                self.moduleManager.leftMouseDown = False
+                self.moduleManager.leftMouseUp()
 
                 if self.dollyCamera == True: #if we dolly the camera set it to false
                     self.dollyCamera = False
 
             elif event.button() == 2: # right mouse button is released
                 self.rightMouseDown = False
+                self.moduleManager.rightMouseDown = False
             elif event.button() == 4: # middle mouse button is released
                 self.middleMouseDown = False
+                self.moduleManager.middleMouseDown = False
 
             if not self.rightMouseDown:
                 self.dollyCamera = False
                 self.camUpdateTimer.stop()
 
         elif event.type() == 5: #mouse moved while button down
-            rotX = (event.globalX() - self.lastMousePosX) * 0.01
-            rotY = (event.globalY() - self.lastMousePosY) * 0.01
+            incX =  (event.globalX() - self.lastMousePosX)
+            incY =  (event.globalY() - self.lastMousePosY)
 
+            if self.leftMouseDown and not self.middleMouseDown and not self.rightMouseDown:
+                self.moduleManager.pivot.onMouseMoved(event.globalX,  event.globalY,  incX,  incY)
+
+            rotX = incX * 0.01
+            rotY = incY * 0.01
+
             if (rotX &lt; 0.3 and rotY &lt; 0.3) and (rotX &gt; -0.3 and rotY &gt; -0.3): # check to avoid to huge values which may happen when the user clicks and lastMousePosX/Y is zero
                 if self.dollyCamera:
                     self.focusedWindow.dollyCamera(og.Vector3( rotX, -rotY,  0))
@@ -227,17 +211,12 @@
         else:
             self.moduleManager.selectionClick(mouseRay)
 
-
-#        self.moduleManager.resetCurrentOgreSelection()
-
-
-
     def updateCamera(self):
         if self.moveCamForward:
-            self.focusedWindow.dollyCamera(og.Vector3( 0, 0,-0.2))
+            self.ogreRenderWindow.dollyCamera(og.Vector3( 0, 0,-0.2))
         if self.moveCamBackward:
-            self.focusedWindow.dollyCamera(og.Vector3( 0, 0, 0.2))
+            self.ogreRenderWindow.dollyCamera(og.Vector3( 0, 0, 0.2))
         if self.strafeCamLeft:
-            self.focusedWindow.dollyCamera(og.Vector3(-0.2, 0 , 0))
+            self.ogreRenderWindow.dollyCamera(og.Vector3(-0.2, 0 , 0))
         if self.strafeCamRight:
-            self.focusedWindow.dollyCamera(og.Vector3( 0.2, 0, 0))
+            self.ogreRenderWindow.dollyCamera(og.Vector3( 0.2, 0, 0))

Modified: rl/branches/newton20/editors/Lockenwickler/src/Plugins-linux.cfg
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/Plugins-linux.cfg	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/Plugins-linux.cfg	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,12 +1,12 @@
 # Defines plugins to load
 
 # Define plugin folder
-PluginFolder=./plugins
+PluginFolder=/usr/lib/OGRE
 
-# Define plugins
-Plugin=RenderSystem_GL
-Plugin=Plugin_ParticleFX
-Plugin=Plugin_OctreeSceneManager
-Plugin=Plugin_CgProgramManager
+# default plugins installed with the libogre14 package
+Plugin=RenderSystem_GL.so
+Plugin=Plugin_ParticleFX.so
+Plugin=Plugin_OctreeSceneManager.so
+#Plugin=Plugin_CgProgramManager
 
 

Modified: rl/branches/newton20/editors/Lockenwickler/src/PreferencesDialog.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/PreferencesDialog.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/PreferencesDialog.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -21,24 +21,24 @@
         QtCore.QObject.connect(self.prefDialog.listWidget, QtCore.SIGNAL(&quot;itemDoubleClicked(QListWidgetItem *)&quot;),
                                self.onLoadSelectedModule)
 
-##        if platform.system() == &quot;Windows&quot; or platform.system() == &quot;MAC&quot;:
-##            # TODO: delete this when ready
-##            self.prefDialog.lineEdit.setText(&quot;C:\Users\Stefan\Desktop\Lockenwickler\modules\modules.cfg&quot;)
-##            self.moduleCfgPath = &quot;C:\Users\Stefan\Desktop\Lockenwickler\modules\modules.cfg&quot;
-##            self.moduleCfgIsSelected = True
-##            self.modulePath = self.moduleCfgPath.replace(&quot;modules.cfg&quot;, &quot;&quot;)
-##            self.readInModules()
-##            # end delete
-##        else:
-##            # TODO: delete this when ready
-##            self.prefDialog.lineEdit.setText(&quot;/home/stefan/blubb/rl_modules/modules/modules.cfg&quot;)
-##            self.moduleCfgPath = &quot;/home/stefan/blubb/rl_modules/modules/modules.cfg&quot;
-##            self.moduleCfgIsSelected = True
-##            self.modulePath = self.moduleCfgPath.replace(&quot;modules.cfg&quot;, &quot;&quot;)
-##            self.readInModules()
-##            # end delete
+        if platform.system() == &quot;Windows&quot; or platform.system() == &quot;MAC&quot;:
+            # TODO: delete this when ready
+            self.prefDialog.lineEdit.setText(&quot;C:\Users\Stefan\Desktop\Lockenwickler\modules\modules.cfg&quot;)
+            self.moduleCfgPath = &quot;C:\Users\Stefan\Desktop\Lockenwickler\modules\modules.cfg&quot;
+            self.moduleCfgIsSelected = True
+            self.modulePath = self.moduleCfgPath.replace(&quot;modules.cfg&quot;, &quot;&quot;)
+            self.readInModules()
+            # end delete
+        else:
+            # TODO: delete this when ready
+            self.prefDialog.lineEdit.setText(&quot;/home/stefan/blubb/rl_modules/modules/modules.cfg&quot;)
+            self.moduleCfgPath = &quot;/home/stefan/blubb/rl_modules/modules/modules.cfg&quot;
+            self.moduleCfgIsSelected = True
+            self.modulePath = self.moduleCfgPath.replace(&quot;modules.cfg&quot;, &quot;&quot;)
+            self.readInModules()
+            # end delete
 
-        #self.moduleCfgIsSelected = False
+        self.moduleCfgIsSelected = False
 
         self.setModal(True)
 
@@ -71,6 +71,7 @@
 
     def onLoadSelectedModule(self):
         item = self.prefDialog.listWidget.currentItem()
+
         if item == None:
             mbox = QtGui.QMessageBox(self)
             mbox.setModal(True)

Copied: rl/branches/newton20/editors/Lockenwickler/src/SceneExplorer.py (from rev 4525, rl/trunk/editors/Lockenwickler/src/SceneExplorer.py)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_Arrow.mesh (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/Pivot_Arrow.mesh)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_FreeMover.mesh (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/Pivot_FreeMover.mesh)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/Pivot_Point.material (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/Pivot_Point.material)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/Rotate_Torus.mesh (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/Rotate_Torus.mesh)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/back.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/back.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/back.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/configure.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/configure.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/configure.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/console.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/console.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/console.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/decrypted.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/decrypted.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/decrypted.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/edit.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_add.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_add.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/edit_add.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_remove.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/edit_remove.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/edit_remove.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editclear.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editclear.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/editclear.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcopy.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcopy.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/editcopy.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcut.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editcut.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/editcut.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editdelete.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editdelete.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/editdelete.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editpaste.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/editpaste.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/editpaste.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/encrypted.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/encrypted.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/encrypted.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/endturn.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/endturn.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/endturn.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/exit.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/exit.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/exit.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/fileexport.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/fileexport.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/fileexport.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/filenew.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/filenew.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/filenew.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/filesave.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/filesave.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/filesave.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/find.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/find.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/find.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/forward.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/forward.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/forward.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/goto.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/goto.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/goto.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/idea.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/idea.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/idea.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/move.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_down.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_down.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/move_task_down.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_up.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/move_task_up.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/move_task_up.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/ok.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/ok.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/ok.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/playlist.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/playlist.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/playlist.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/redo.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/redo.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/redo.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/resizecol.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/resizecol.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/resizecol.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/rotate.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/rotate.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/rotate.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/tux.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/tux.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/tux.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/unsortedlist1.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/unsortedlist1.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/unsortedlist1.png)

Deleted: rl/branches/newton20/editors/Lockenwickler/src/media/icons/view_tree.png
===================================================================
(Binary files differ)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/icons/view_tree.png (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/icons/view_tree.png)

Copied: rl/branches/newton20/editors/Lockenwickler/src/media/pivots.blend (from rev 4525, rl/trunk/editors/Lockenwickler/src/media/pivots.blend)

Modified: rl/branches/newton20/editors/Lockenwickler/src/ui_pref_dialog.py
===================================================================
--- rl/branches/newton20/editors/Lockenwickler/src/ui_pref_dialog.py	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/Lockenwickler/src/ui_pref_dialog.py	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,85 +1,85 @@
-# -*- coding: utf-8 -*-
-
-# Form implementation generated from reading ui file 'preferences_dialog.ui'
-#
-# Created: Mon Jun 23 19:28:46 2008
-#      by: PyQt4 UI code generator 4.3.3
-#
-# WARNING! All changes made in this file will be lost!
-
-from PyQt4 import QtCore, QtGui
-
-class Ui_PreferencesDialog(object):
-    def setupUi(self, PreferencesDialog):
-        PreferencesDialog.setObjectName(&quot;PreferencesDialog&quot;)
-        PreferencesDialog.resize(QtCore.QSize(QtCore.QRect(0,0,528,626).size()).expandedTo(PreferencesDialog.minimumSizeHint()))
-
-        self.gridlayout = QtGui.QGridLayout(PreferencesDialog)
-        self.gridlayout.setObjectName(&quot;gridlayout&quot;)
-
-        self.toolBox = QtGui.QToolBox(PreferencesDialog)
-        self.toolBox.setObjectName(&quot;toolBox&quot;)
-
-        self.ResourcePaths = QtGui.QWidget()
-        self.ResourcePaths.setGeometry(QtCore.QRect(0,0,510,505))
-        self.ResourcePaths.setObjectName(&quot;ResourcePaths&quot;)
-
-        self.gridlayout1 = QtGui.QGridLayout(self.ResourcePaths)
-        self.gridlayout1.setObjectName(&quot;gridlayout1&quot;)
-
-        self.listWidget = QtGui.QListWidget(self.ResourcePaths)
-        self.listWidget.setObjectName(&quot;listWidget&quot;)
-        self.gridlayout1.addWidget(self.listWidget,0,0,1,1)
-
-        self.groupBox = QtGui.QGroupBox(self.ResourcePaths)
-        self.groupBox.setMinimumSize(QtCore.QSize(0,95))
-        self.groupBox.setObjectName(&quot;groupBox&quot;)
-
-        self.layoutWidget = QtGui.QWidget(self.groupBox)
-        self.layoutWidget.setGeometry(QtCore.QRect(10,20,471,67))
-        self.layoutWidget.setObjectName(&quot;layoutWidget&quot;)
-
-        self.gridlayout2 = QtGui.QGridLayout(self.layoutWidget)
-        self.gridlayout2.setObjectName(&quot;gridlayout2&quot;)
-
-        self.lineEdit = QtGui.QLineEdit(self.layoutWidget)
-        self.lineEdit.setObjectName(&quot;lineEdit&quot;)
-        self.gridlayout2.addWidget(self.lineEdit,0,0,1,1)
-
-        self.loadModuleBtn = QtGui.QPushButton(self.layoutWidget)
-        self.loadModuleBtn.setObjectName(&quot;loadModuleBtn&quot;)
-        self.gridlayout2.addWidget(self.loadModuleBtn,1,0,1,2)
-
-        self.modulConfigSelector = QtGui.QPushButton(self.layoutWidget)
-        self.modulConfigSelector.setObjectName(&quot;modulConfigSelector&quot;)
-        self.gridlayout2.addWidget(self.modulConfigSelector,0,1,1,1)
-        self.gridlayout1.addWidget(self.groupBox,1,0,1,1)
-        self.toolBox.addItem(self.ResourcePaths,&quot;&quot;)
-
-        self.OgreSettings = QtGui.QWidget()
-        self.OgreSettings.setGeometry(QtCore.QRect(0,0,96,26))
-        self.OgreSettings.setObjectName(&quot;OgreSettings&quot;)
-        self.toolBox.addItem(self.OgreSettings,&quot;&quot;)
-        self.gridlayout.addWidget(self.toolBox,0,0,1,1)
-
-        self.buttonBox = QtGui.QDialogButtonBox(PreferencesDialog)
-        self.buttonBox.setOrientation(QtCore.Qt.Horizontal)
-        self.buttonBox.setStandardButtons(QtGui.QDialogButtonBox.Cancel|QtGui.QDialogButtonBox.NoButton|QtGui.QDialogButtonBox.Ok)
-        self.buttonBox.setObjectName(&quot;buttonBox&quot;)
-        self.gridlayout.addWidget(self.buttonBox,1,0,1,1)
-
-        self.retranslateUi(PreferencesDialog)
-        self.toolBox.setCurrentIndex(0)
-        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;accepted()&quot;),PreferencesDialog.accept)
-        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;rejected()&quot;),PreferencesDialog.reject)
-        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;clicked(QAbstractButton*)&quot;),PreferencesDialog.close)
-        QtCore.QMetaObject.connectSlotsByName(PreferencesDialog)
-
-    def retranslateUi(self, PreferencesDialog):
-        PreferencesDialog.setWindowTitle(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Dialog&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.groupBox.setTitle(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;GroupBox&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.loadModuleBtn.setText(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Load Selected Module&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.modulConfigSelector.setText(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;...&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.toolBox.setItemText(self.toolBox.indexOf(self.ResourcePaths), QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Resource Paths&quot;, None, QtGui.QApplication.UnicodeUTF8))
-        self.toolBox.setItemText(self.toolBox.indexOf(self.OgreSettings), QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Ogre Settings&quot;, None, QtGui.QApplication.UnicodeUTF8))
-
+# -*- coding: utf-8 -*-
+
+# Form implementation generated from reading ui file 'preferences_dialog.ui'
+#
+# Created: Mon Jun 23 19:28:46 2008
+#      by: PyQt4 UI code generator 4.3.3
+#
+# WARNING! All changes made in this file will be lost!
+
+from PyQt4 import QtCore, QtGui
+
+class Ui_PreferencesDialog(object):
+    def setupUi(self, PreferencesDialog):
+        PreferencesDialog.setObjectName(&quot;PreferencesDialog&quot;)
+        PreferencesDialog.resize(QtCore.QSize(QtCore.QRect(0,0,528,626).size()).expandedTo(PreferencesDialog.minimumSizeHint()))
+
+        self.gridlayout = QtGui.QGridLayout(PreferencesDialog)
+        self.gridlayout.setObjectName(&quot;gridlayout&quot;)
+
+        self.toolBox = QtGui.QToolBox(PreferencesDialog)
+        self.toolBox.setObjectName(&quot;toolBox&quot;)
+
+        self.ResourcePaths = QtGui.QWidget()
+        self.ResourcePaths.setGeometry(QtCore.QRect(0,0,510,505))
+        self.ResourcePaths.setObjectName(&quot;ResourcePaths&quot;)
+
+        self.gridlayout1 = QtGui.QGridLayout(self.ResourcePaths)
+        self.gridlayout1.setObjectName(&quot;gridlayout1&quot;)
+
+        self.listWidget = QtGui.QListWidget(self.ResourcePaths)
+        self.listWidget.setObjectName(&quot;listWidget&quot;)
+        self.gridlayout1.addWidget(self.listWidget,0,0,1,1)
+
+        self.groupBox = QtGui.QGroupBox(self.ResourcePaths)
+        self.groupBox.setMinimumSize(QtCore.QSize(0,95))
+        self.groupBox.setObjectName(&quot;groupBox&quot;)
+
+        self.layoutWidget = QtGui.QWidget(self.groupBox)
+        self.layoutWidget.setGeometry(QtCore.QRect(10,20,471,67))
+        self.layoutWidget.setObjectName(&quot;layoutWidget&quot;)
+
+        self.gridlayout2 = QtGui.QGridLayout(self.layoutWidget)
+        self.gridlayout2.setObjectName(&quot;gridlayout2&quot;)
+
+        self.lineEdit = QtGui.QLineEdit(self.layoutWidget)
+        self.lineEdit.setObjectName(&quot;lineEdit&quot;)
+        self.gridlayout2.addWidget(self.lineEdit,0,0,1,1)
+
+        self.loadModuleBtn = QtGui.QPushButton(self.layoutWidget)
+        self.loadModuleBtn.setObjectName(&quot;loadModuleBtn&quot;)
+        self.gridlayout2.addWidget(self.loadModuleBtn,1,0,1,2)
+
+        self.modulConfigSelector = QtGui.QPushButton(self.layoutWidget)
+        self.modulConfigSelector.setObjectName(&quot;modulConfigSelector&quot;)
+        self.gridlayout2.addWidget(self.modulConfigSelector,0,1,1,1)
+        self.gridlayout1.addWidget(self.groupBox,1,0,1,1)
+        self.toolBox.addItem(self.ResourcePaths,&quot;&quot;)
+
+        self.OgreSettings = QtGui.QWidget()
+        self.OgreSettings.setGeometry(QtCore.QRect(0,0,96,26))
+        self.OgreSettings.setObjectName(&quot;OgreSettings&quot;)
+        self.toolBox.addItem(self.OgreSettings,&quot;&quot;)
+        self.gridlayout.addWidget(self.toolBox,0,0,1,1)
+
+        self.buttonBox = QtGui.QDialogButtonBox(PreferencesDialog)
+        self.buttonBox.setOrientation(QtCore.Qt.Horizontal)
+        self.buttonBox.setStandardButtons(QtGui.QDialogButtonBox.Cancel|QtGui.QDialogButtonBox.NoButton|QtGui.QDialogButtonBox.Ok)
+        self.buttonBox.setObjectName(&quot;buttonBox&quot;)
+        self.gridlayout.addWidget(self.buttonBox,1,0,1,1)
+
+        self.retranslateUi(PreferencesDialog)
+        self.toolBox.setCurrentIndex(0)
+        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;accepted()&quot;),PreferencesDialog.accept)
+        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;rejected()&quot;),PreferencesDialog.reject)
+        QtCore.QObject.connect(self.buttonBox,QtCore.SIGNAL(&quot;clicked(QAbstractButton*)&quot;),PreferencesDialog.close)
+        QtCore.QMetaObject.connectSlotsByName(PreferencesDialog)
+
+    def retranslateUi(self, PreferencesDialog):
+        PreferencesDialog.setWindowTitle(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Dialog&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.groupBox.setTitle(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;GroupBox&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.loadModuleBtn.setText(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Load Selected Module&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.modulConfigSelector.setText(QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;...&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.toolBox.setItemText(self.toolBox.indexOf(self.ResourcePaths), QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Resource Paths&quot;, None, QtGui.QApplication.UnicodeUTF8))
+        self.toolBox.setItemText(self.toolBox.indexOf(self.OgreSettings), QtGui.QApplication.translate(&quot;PreferencesDialog&quot;, &quot;Ogre Settings&quot;, None, QtGui.QApplication.UnicodeUTF8))
+

Modified: rl/branches/newton20/editors/RLdialog/RLdialog.pro
===================================================================
--- rl/branches/newton20/editors/RLdialog/RLdialog.pro	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/RLdialog/RLdialog.pro	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,14 +1,14 @@
 ######################################################################
-# Automatically generated by qmake (2.01a) Mo Dez 24 12:49:33 2007
+# Automatically generated by qmake (2.01a) Mi Sep 24 12:02:02 2008
 ######################################################################
 
 TEMPLATE = app
 TARGET = 
 DEPENDPATH += .
 INCLUDEPATH += .
-RESOURCES = rldialog.qrc
 QT += xml
 
 # Input
-HEADERS += rldialog.h helper.h editor.h ifdialog.h
-SOURCES += rldialog.cpp main.cpp helper.cpp editor.cpp ifdialog.cpp
+HEADERS += editor.h helper.h ifdialog.h rldialog.h
+SOURCES += editor.cpp helper.cpp ifdialog.cpp main.cpp rldialog.cpp
+RESOURCES += rldialog.qrc

Modified: rl/branches/newton20/editors/RLdialog/helper.h
===================================================================
--- rl/branches/newton20/editors/RLdialog/helper.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/editors/RLdialog/helper.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -2,11 +2,11 @@
 #define HELPER_H
 
 #include &lt;QWidget&gt;
-#include &quot;ifDialog.h&quot;
+#include &quot;ifdialog.h&quot;
 
 class startMode : public QWidget
 {
-	
+
 public:
 	startMode(QWidget *parent = 0);
 };
@@ -14,7 +14,7 @@
 class optionMode : public QWidget
 {
 	Q_OBJECT
-	
+
 public:
 	optionMode(QWidget *parent = 0);
 
@@ -31,27 +31,27 @@
 	QLabel *opt_mehrfachLabel;
 	QLabel *opt_wennLabel;
 	QLabel *opt_caseLabel;
-	
+
 	QLineEdit *opt_nameLEdit;
 	QLineEdit *opt_soundLEdit;
-	
+
 	QTextEdit *opt_textTEdit;
-	
+
 	QTreeWidget *opt_ifTree;
 	QStringList opt_ifHeaderlabels;
 	QTreeWidgetItem *if_item;
-	
+
 	QTreeWidget *opt_wennTree;
 	QTreeWidget *opt_caseTree;
-	
+
 	QToolButton *opt_ifAdd;
 	QToolButton *opt_ifRem;
 	QToolButton *opt_wenn;
 	QToolButton *opt_caseAdd;
 	QToolButton *opt_caseRem;
-	
+
 	QPushButton *opt_takeButton;
-	
+
 	QCheckBox *opt_mehrfachCheck;
 	QGroupBox *opt_mehrfachBox;
 
@@ -74,19 +74,19 @@
 	QLabel *res_soundLabel;
 	QLabel *res_effektLabel;
 	QLabel *res_gotoLabel;
-	
+
 	QLineEdit *res_nameLEdit;
 	QLineEdit *res_soundLEdit;
-	
+
 	QTextEdit *res_textTEdit;
-	
+
 	QTreeWidget *res_effektTree;
-	
+
 	QToolButton *res_effektAdd;
 	QToolButton *res_effektRem;
-	
+
 	QPushButton *res_takeButton;
-	
+
 	QComboBox *res_gotoCombo;
 };
 

Modified: rl/branches/newton20/engine/common/include/Property.h
===================================================================
--- rl/branches/newton20/engine/common/include/Property.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/common/include/Property.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -1,6 +1,6 @@
-/* 
+/*
  * (C) 2003-2008. Team Pantheon. www.team-pantheon.de
- * 
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the Clarified Artistic License.
  *
@@ -78,7 +78,7 @@
 
     typedef std::vector&lt;Property&gt; PropertyArray;
     typedef std::map&lt;CeGuiString, Property&gt; PropertyMap;
-    
+
     class _RlCommonExport Property
     {
     public:
@@ -87,7 +87,8 @@
         PropertyMethod(Bool, const bool&amp;);
         PropertyMethod(String, CEGUI::String);
         PropertyMethod(Int, const int&amp;);
-        PropertyMethod(Long, const RL_LONGLONG&amp;);
+        PropertyMethod(Long, const long&amp;);
+        PropertyMethod(LongLong, const RL_LONGLONG&amp;);
         PropertyMethod(Real, const Ogre::Real&amp;);
         PropertyMethod(Vector3, const Ogre::Vector3&amp;);
         PropertyMethod(Quaternion, const Ogre::Quaternion&amp;);
@@ -163,7 +164,7 @@
             output[it-&gt;first.c_str()] = temp;
         }
     }
-    
+
     template&lt;typename T&gt; void convertToMap(
         const PropertyMap&amp; propmap, std::map&lt;const CeGuiString, T&gt;&amp; output)
     {
@@ -176,7 +177,7 @@
 			//output.insert(typename std::map&lt;const CeGuiString, T&gt;::value_type(it-&gt;first, it-&gt;second));
         }
     }
-    
+
     template&lt;typename T&gt; void convertToSet(
         const PropertyArray&amp; propvec, std::set&lt;T&gt;&amp; output)
     {

Modified: rl/branches/newton20/engine/core/include/SaveAble.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAble.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/include/SaveAble.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -25,16 +25,33 @@
 
 namespace rl
 {
+	class SaveAble;
 
+	class SaveAblePtr : public Ogre::SharedPtr&lt;SaveAble&gt;
+	{
+	};
+
 	class SaveAble : public PropertyHolder
 	{
 	public:
+		SaveAble(int id, bool isSaveAble = true);
 		void setSaveAble(bool enable);
 		bool isSaveAble();
+
+		virtual const Property getProperty(const CeGuiString&amp; key) const;
+        virtual void setProperty(const CeGuiString&amp; key, const Property&amp; value);
+        virtual PropertyKeys getAllPropertyKeys() const;
+		
+		SaveAblePtr getParent() const { return mParentSaveAble; };
+
+		int getId();
 	protected:
+		SaveAblePtr mParentSaveAble;
+		int mId;
 		bool mIsSaveAble;
-	};
+	};	
 
+	typedef std::pair&lt;int, SaveAblePtr&gt;  SaveAbleReference;
 }
 
 

Modified: rl/branches/newton20/engine/core/include/SaveAbleCollection.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleCollection.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/include/SaveAbleCollection.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -0,0 +1,34 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+
+#include &quot;CorePrerequisites.h&quot;
+#include &quot;SaveAble.h&quot;
+
+namespace rl
+{
+
+	class SaveAbleCollection
+	{
+	public:
+		void attachSaveAble(SaveAblePtr saveAble);
+		void deattachSaveAble(SaveAblePtr saveAble);
+		void deattachSaveAble(int id);
+		void deattachAllSaveAbles();
+	protected:
+		Ogre::String mId;
+	};
+
+}
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/include/SaveAbleFactory.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleFactory.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/include/SaveAbleFactory.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -0,0 +1,43 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+
+#ifndef __SaveAbleFactory_H__
+#define __SaveAbleFactory_H__
+
+#include &quot;CorePrerequisites.h&quot;
+#include &quot;SaveAble.h&quot;
+
+namespace rl
+{
+	class SaveAbleFactory : public Ogre::Singleton&lt;SaveAbleFactory&gt;
+	{
+	public:
+		virtual SaveAblePtr createSaveAble(PropertyRecordPtr params) = 0;
+	};
+
+	class SaveAbleFactoryPool : public Ogre::Singleton&lt;SaveAbleFactoryPool&gt;
+	{
+	public:
+		void registerFactory(const Ogre::String &amp;key, SaveAbleFactory* fac);
+		void unregisterFactory(const Ogre::String &amp;key);
+		void unregisterFactory(SaveAbleFactory* fac);
+		SaveAbleFactory* getFactory(const Ogre::String &amp;key);
+	protected:
+		std::map&lt;Ogre::String,SaveAbleFactory*&gt; mFactories;
+	};
+}
+
+#endif

Modified: rl/branches/newton20/engine/core/include/SaveAbleManager.h
===================================================================
--- rl/branches/newton20/engine/core/include/SaveAbleManager.h	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/include/SaveAbleManager.h	2008-09-24 11:00:44 UTC (rev 4526)
@@ -0,0 +1,44 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+
+#ifndef __SaveAbleManager_H__
+#define __SaveAbleManager_H__
+
+#include &quot;CorePrerequisites.h&quot;
+#include &quot;SaveAble.h&quot;
+#include &quot;SaveAbleCollection.h&quot;
+
+namespace rl
+{
+	class SaveAbleManager : public Ogre::Singleton&lt;SaveAbleManager&gt;
+	{
+	public:
+		void saveState();
+		void addSaveAble(SaveAblePtr save);
+		void removeSaveAble(SaveAblePtr save);
+		void removeSaveAble(int id);
+		void removeAllSaveAbles();
+		void attachSaveAbleToCollection(int id);
+		void deattachSaveAbleFromColltection(int id);
+		void restoreState();
+	protected:
+		std::map&lt;int, PropertyRecordPtr&gt; mSaveAbleStates;
+		std::map&lt;int, SaveAblePtr&gt; mSaveAbles;
+		std::map&lt;Ogre::String,SaveAbleCollection&gt; mSaveAbleCollections;
+	};
+}
+
+#endif
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/src/SaveAble.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAble.cpp	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/src/SaveAble.cpp	2008-09-24 11:00:44 UTC (rev 4526)
@@ -23,6 +23,10 @@
 
 namespace rl
 {
+	SaveAble::SaveAble(int id, bool isSaveAble)
+	{
+	}
+
 	void SaveAble::setSaveAble(bool enable)
 	{
 		mIsSaveAble = true;
@@ -32,4 +36,23 @@
 	{
 		return mIsSaveAble;
 	}
+
+	const Property SaveAble::getProperty(const CeGuiString&amp; key) const
+	{
+		return Property();
+	}
+	
+	void SaveAble::setProperty(const CeGuiString&amp; key, const Property&amp; value)
+	{
+	}
+	
+	PropertyKeys SaveAble::getAllPropertyKeys() const
+	{
+		return PropertyKeys();
+	}
+
+	int SaveAble::getId()
+	{
+		return mId;
+	}
 }
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/src/SaveAbleCollection.cpp	2008-09-24 11:00:44 UTC (rev 4526)
@@ -14,4 +14,6 @@
 *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
 */
 
-#include &quot;stdinc.h&quot;
\ No newline at end of file
+#include &quot;stdinc.h&quot;
+
+#include &quot;SaveAbleCollection.h&quot;
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/src/SaveAbleFactory.cpp	2008-09-24 11:00:44 UTC (rev 4526)
@@ -14,4 +14,6 @@
 *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
 */
 
-#include &quot;stdinc.h&quot;
\ No newline at end of file
+#include &quot;stdinc.h&quot;
+
+#include &quot;SaveAbleFactory.h&quot;
\ No newline at end of file

Modified: rl/branches/newton20/engine/core/src/SaveAbleManager.cpp
===================================================================
--- rl/branches/newton20/engine/core/src/SaveAbleManager.cpp	2008-09-24 09:56:24 UTC (rev 4525)
+++ rl/branches/newton20/engine/core/src/SaveAbleManager.cpp	2008-09-24 11:00:44 UTC (rev 4526)
@@ -14,4 +14,6 @@
 *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
 */
 
-#include &quot;stdinc.h&quot;
\ No newline at end of file
+#include &quot;stdinc.h&quot;
+
+#include &quot;SaveAbleManager.h&quot;
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001582.html">[Dsa-hl-svn] r4525 - in rl/branches/newton20/engine: core/include	core/src ui/include ui/src
</A></li>
	<LI>Next message: <A HREF="001584.html">[Dsa-hl-svn] r4527 - rl/branches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1583">[ date ]</a>
              <a href="thread.html#1583">[ thread ]</a>
              <a href="subject.html#1583">[ subject ]</a>
              <a href="author.html#1583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
