<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r3543 - modules/common/gui/windows	rl/trunk/engine/script/swig rl/trunk/engine/ui	rl/trunk/engine/ui/include rl/trunk/engine/ui/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3543%20-%20modules/common/gui/windows%0A%09rl/trunk/engine/script/swig%20rl/trunk/engine/ui%0A%09rl/trunk/engine/ui/include%20rl/trunk/engine/ui/src&In-Reply-To=%3C200706260928.l5Q9S1kB001757%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000613.html">
   <LINK REL="Next"  HREF="000615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r3543 - modules/common/gui/windows	rl/trunk/engine/script/swig rl/trunk/engine/ui	rl/trunk/engine/ui/include rl/trunk/engine/ui/src</H1>
    <B>blakharaz at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3543%20-%20modules/common/gui/windows%0A%09rl/trunk/engine/script/swig%20rl/trunk/engine/ui%0A%09rl/trunk/engine/ui/include%20rl/trunk/engine/ui/src&In-Reply-To=%3C200706260928.l5Q9S1kB001757%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r3543 - modules/common/gui/windows	rl/trunk/engine/script/swig rl/trunk/engine/ui	rl/trunk/engine/ui/include rl/trunk/engine/ui/src">blakharaz at mail.berlios.de
       </A><BR>
    <I>Tue Jun 26 11:28:01 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000613.html">[Dsa-hl-svn] r3542 - in modules/regressiontest/scripts: . maps
</A></li>
        <LI>Next message: <A HREF="000615.html">[Dsa-hl-svn] r3544 - in rl/trunk/engine: core/include core/src	rules/include rules/src script/swig
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: blakharaz
Date: 2007-06-26 11:27:53 +0200 (Tue, 26 Jun 2007)
New Revision: 3543

Added:
   modules/common/gui/windows/propertieswindow.xml
   rl/trunk/engine/ui/include/PropertiesWindow.h
   rl/trunk/engine/ui/src/PropertiesWindow.cpp
Removed:
   modules/common/gui/windows/gameobjectpropswindow.xml
   rl/trunk/engine/ui/include/GameObjectPropsWindow.h
   rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp
Modified:
   rl/trunk/engine/script/swig/RlUi.swig
   rl/trunk/engine/ui/RlUI2005.vcproj
   rl/trunk/engine/ui/include/WindowFactory.h
   rl/trunk/engine/ui/src/WindowFactory.cpp
Log:
Changed GameObjectPropsWindow to a more general PropertiesWindow which can show all properties of a PropertyHolder

Deleted: modules/common/gui/windows/gameobjectpropswindow.xml
===================================================================
--- modules/common/gui/windows/gameobjectpropswindow.xml	2007-06-26 07:18:25 UTC (rev 3542)
+++ modules/common/gui/windows/gameobjectpropswindow.xml	2007-06-26 09:27:53 UTC (rev 3543)
@@ -1,81 +0,0 @@
-&lt;GUILayout xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:noNamespaceSchemaLocation=&quot;GUILayout.xsd&quot;&gt;
-  	&lt;Window Type=&quot;RastullahLook/FrameWindow&quot; Name=&quot;GameObjectPropsWindow&quot;&gt;
-		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
-        &lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,400},{0,500}}&quot;/&gt;
-		&lt;Property Name=&quot;Text&quot; Value=&quot;Spielobjekt Eigenschaften&quot;/&gt;
-		&lt;Property Name=&quot;SizingEnabled&quot; Value=&quot;false&quot;/&gt;
-
-		&lt;!-- Headersheet for the name and description --&gt;
-		
-		&lt;Window Type=&quot;DefaultGUISheet&quot; Name=&quot;GameObjectPropsWindow/HeaderSheet&quot;&gt;
-      	 	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,30},{0,30}}&quot;/&gt;
-       	 	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,350},{0,100}}&quot;/&gt;
-       	
-       	 	&lt;!-- Name of the object --&gt;
-       	 	 	
-			&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;GameObjectPropsWindow/HeaderSheet/Name&quot;&gt;
-      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,80},{0,25}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Name:&quot;/&gt;
-        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
-       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
-    		&lt;/Window&gt;
-    		
-    		&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;GameObjectPropsWindow/HeaderSheet/ObjectName&quot;&gt;
-      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,90},{0,0}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,250},{0,25}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;n/a&quot;/&gt;
-        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;True&quot;/&gt;
-       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
-    		&lt;/Window&gt;
-    		
-    		&lt;!-- Description of the object --&gt;
-    	
-			&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;GameObjectPropsWindow/HeaderSheet/Description&quot;&gt;
-      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,30}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,80},{0,25}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Description:&quot;/&gt;
-        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
-       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
-    		&lt;/Window&gt;
-    		
-    		&lt;Window Type=&quot;RastullahLook/MultiLineEditbox&quot; Name=&quot;GameObjectPropsWindow/HeaderSheet/ObjectDescription&quot;&gt;
-      	 		&lt;Property Name=&quot;ReadOnly&quot; Value=&quot;true&quot;/&gt;
-            	&lt;Property Name=&quot;Disabled&quot; Value=&quot;true&quot;/&gt;
-    			&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,90},{0,30}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,250},{0,60}}&quot;/&gt;
-        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
-    		&lt;/Window&gt;
-    		
-    	&lt;/Window&gt;
-    	
-    	&lt;!-- Properties sheet for the properties of the object --&gt;
-    	
-		&lt;Window Type=&quot;RastullahLook/TabControl&quot; Name=&quot;GameObjectPropsWindow/PropertiesTabPane&quot;&gt;
-      	 	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,30},{0,140}}&quot;/&gt;
-       	 	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,340},{0,300}}&quot;/&gt;
-       	 	&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
-       	 	
-       		&lt;!-- Table with two columns for the key/value pair --&gt;
-       	 	
-       		&lt;Window Type=&quot;RastullahLook/MultiColumnList&quot; Name=&quot;GameObjectPropsWindow/PropertiesTabControl/MainTable&quot;&gt;
-      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{1,0},{1,0}}&quot;/&gt;
-       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Eigenschaften&quot;/&gt;
-       	 		&lt;Property Name=&quot;SortSettingEnabled&quot; Value=&quot;False&quot;/&gt;
-       	 		&lt;Property Name=&quot;Font&quot; Value=&quot;Vera Serif-8&quot;/&gt;
-       	 		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
-    		&lt;/Window&gt;   	
-       	 	 	
-       	&lt;/Window&gt;
-		
-       	&lt;!-- The Close button --&gt;
-		&lt;Window Type=&quot;RastullahLook/Button&quot; Name=&quot;GameObjectPropsWindow/CloseButton&quot;&gt;
-           	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0.3,0},{0.9,0}}&quot;/&gt;
-           	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,125},{0,28}}&quot;/&gt;
-			&lt;Property Name=&quot;Font&quot; Value=&quot;Vera Serif-10&quot;/&gt;
-			&lt;Property Name=&quot;Text&quot; Value=&quot;Close&quot;/&gt;
-		&lt;/Window&gt;
-		
-	&lt;/Window&gt;
-&lt;/GUILayout&gt;
\ No newline at end of file

Copied: modules/common/gui/windows/propertieswindow.xml (from rev 3533, modules/common/gui/windows/gameobjectpropswindow.xml)
===================================================================
--- modules/common/gui/windows/gameobjectpropswindow.xml	2007-06-13 20:47:08 UTC (rev 3533)
+++ modules/common/gui/windows/propertieswindow.xml	2007-06-26 09:27:53 UTC (rev 3543)
@@ -0,0 +1,81 @@
+&lt;GUILayout xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:noNamespaceSchemaLocation=&quot;GUILayout.xsd&quot;&gt;
+  	&lt;Window Type=&quot;RastullahLook/FrameWindow&quot; Name=&quot;PropertiesWindow&quot;&gt;
+		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
+        &lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,400},{0,500}}&quot;/&gt;
+		&lt;Property Name=&quot;Text&quot; Value=&quot;Spielobjekt Eigenschaften&quot;/&gt;
+		&lt;Property Name=&quot;SizingEnabled&quot; Value=&quot;false&quot;/&gt;
+
+		&lt;!-- Headersheet for the name and description --&gt;
+		
+		&lt;Window Type=&quot;DefaultGUISheet&quot; Name=&quot;PropertiesWindow/HeaderSheet&quot;&gt;
+      	 	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,30},{0,30}}&quot;/&gt;
+       	 	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,350},{0,100}}&quot;/&gt;
+       	
+       	 	&lt;!-- Name of the object --&gt;
+       	 	 	
+			&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;PropertiesWindow/HeaderSheet/Name&quot;&gt;
+      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,80},{0,25}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Name:&quot;/&gt;
+        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
+       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
+    		&lt;/Window&gt;
+    		
+    		&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;PropertiesWindow/HeaderSheet/ObjectName&quot;&gt;
+      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,90},{0,0}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,250},{0,25}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;n/a&quot;/&gt;
+        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;True&quot;/&gt;
+       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
+    		&lt;/Window&gt;
+    		
+    		&lt;!-- Description of the object --&gt;
+    	
+			&lt;Window Type=&quot;RastullahLook/StaticText&quot; Name=&quot;PropertiesWindow/HeaderSheet/Description&quot;&gt;
+      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,30}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,80},{0,25}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Description:&quot;/&gt;
+        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
+       	 		&lt;Property Name=&quot;HorzFormatting&quot; Value=&quot;LeftAligned&quot; /&gt;
+    		&lt;/Window&gt;
+    		
+    		&lt;Window Type=&quot;RastullahLook/MultiLineEditbox&quot; Name=&quot;PropertiesWindow/HeaderSheet/ObjectDescription&quot;&gt;
+      	 		&lt;Property Name=&quot;ReadOnly&quot; Value=&quot;true&quot;/&gt;
+            	&lt;Property Name=&quot;Disabled&quot; Value=&quot;true&quot;/&gt;
+    			&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,90},{0,30}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,250},{0,60}}&quot;/&gt;
+        		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
+    		&lt;/Window&gt;
+    		
+    	&lt;/Window&gt;
+    	
+    	&lt;!-- Properties sheet for the properties of the object --&gt;
+    	
+		&lt;Window Type=&quot;RastullahLook/TabControl&quot; Name=&quot;PropertiesWindow/PropertiesTabPane&quot;&gt;
+      	 	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,30},{0,140}}&quot;/&gt;
+       	 	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,340},{0,300}}&quot;/&gt;
+       	 	&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
+       	 	
+       		&lt;!-- Table with two columns for the key/value pair --&gt;
+       	 	
+       		&lt;Window Type=&quot;RastullahLook/MultiColumnList&quot; Name=&quot;PropertiesWindow/PropertiesTabControl/MainTable&quot;&gt;
+      	 		&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0,0},{0,0}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{1,0},{1,0}}&quot;/&gt;
+       	 		&lt;Property Name=&quot;Text&quot; Value=&quot;Eigenschaften&quot;/&gt;
+       	 		&lt;Property Name=&quot;SortSettingEnabled&quot; Value=&quot;False&quot;/&gt;
+       	 		&lt;Property Name=&quot;Font&quot; Value=&quot;Vera Serif-8&quot;/&gt;
+       	 		&lt;Property Name=&quot;FrameEnabled&quot; Value=&quot;False&quot;/&gt;
+    		&lt;/Window&gt;   	
+       	 	 	
+       	&lt;/Window&gt;
+		
+       	&lt;!-- The Close button --&gt;
+		&lt;Window Type=&quot;RastullahLook/Button&quot; Name=&quot;PropertiesWindow/CloseButton&quot;&gt;
+           	&lt;Property Name=&quot;UnifiedPosition&quot; Value=&quot;{{0.3,0},{0.9,0}}&quot;/&gt;
+           	&lt;Property Name=&quot;UnifiedSize&quot; Value=&quot;{{0,125},{0,28}}&quot;/&gt;
+			&lt;Property Name=&quot;Font&quot; Value=&quot;Vera Serif-10&quot;/&gt;
+			&lt;Property Name=&quot;Text&quot; Value=&quot;Close&quot;/&gt;
+		&lt;/Window&gt;
+		
+	&lt;/Window&gt;
+&lt;/GUILayout&gt;
\ No newline at end of file

Modified: rl/trunk/engine/script/swig/RlUi.swig
===================================================================
--- rl/trunk/engine/script/swig/RlUi.swig	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/script/swig/RlUi.swig	2007-06-26 09:27:53 UTC (rev 3543)
@@ -101,7 +101,7 @@
     void showCharacterSheet(rl::Person* chara);
     void showContainerContent(rl::Container* container);
     void showDescriptionWindow(rl::GameObject* obj);
-    void showGameObjectPropsWindow(rl::GameObject* obj);
+    void showPropertiesWindow(rl::GameObject* obj);
     void showSaveLoadWindow();
     void showExitConfirmation();
     void showJournalWindow();

Modified: rl/trunk/engine/ui/RlUI2005.vcproj
===================================================================
--- rl/trunk/engine/ui/RlUI2005.vcproj	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/ui/RlUI2005.vcproj	2007-06-26 09:27:53 UTC (rev 3543)
@@ -457,10 +457,6 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
-					RelativePath=&quot;.\include\GameObjectPropsWindow.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
 					RelativePath=&quot;.\include\InfoPopup.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -513,6 +509,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;.\include\PropertiesWindow.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;.\include\RenderSystemConfigComponent.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -650,10 +650,6 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
-					RelativePath=&quot;.\src\GameObjectPropsWindow.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
 					RelativePath=&quot;.\src\InfoPopup.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -706,6 +702,10 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;.\src\PropertiesWindow.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;.\src\RenderSystemConfigComponent.cpp&quot;
 					&gt;
 				&lt;/File&gt;

Deleted: rl/trunk/engine/ui/include/GameObjectPropsWindow.h
===================================================================
--- rl/trunk/engine/ui/include/GameObjectPropsWindow.h	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/ui/include/GameObjectPropsWindow.h	2007-06-26 09:27:53 UTC (rev 3543)
@@ -1,159 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
- * Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
- * 
- *  This program is free software; you can redistribute it and/or modify
- *  it under the terms of the Clarified Artistic License.
- *
- *  This program is distributed in the hope that it will be useful,
- *  but WITHOUT ANY WARRANTY; without even the implied warranty of
- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- *  Clarified Artistic License for more details.
- *
- *  You should have received a copy of the Clarified Artistic License
- *  along with this program; if not you can get it here
- *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
- */
-
-/**
- * \file GameObjectPropsWindow.h
- *
- * Declaration of the GameObject window
- */
-
-#ifndef __GameObjectPropsWindow_H__
-#define __GameObjectPropsWindow_H__
-
-#include &quot;UiPrerequisites.h&quot;
-#include &quot;AbstractWindow.h&quot;
-
-namespace rl {
-
-	class GameObject;
-    class Property;
-
-    /**
-     * The GameObject window class
-     *
-     * This window displays all properties of a game object by looping
-     * through the property set of the given object.
-     */
-    class _RlUiExport GameObjectPropsWindow : public AbstractWindow
-	{
-	public:
-
-        /**
-         * Constructor of the GameObject window
-         */
-		GameObjectPropsWindow();
-		
-        /**
-         * Destructor of the GameObject window
-         */
-        virtual ~GameObjectPropsWindow();
-
-        /**
-         * Initializes the window with the specified game object and
-         * fills the window with the properties of the GameObject.
-         *
-         * @param object The GameObject to be displayed
-         */
-		virtual void initialize(GameObject* object);
-	
-	private:
-
-        /**
-         * Fills the header part of the window with the Name and Description
-         * property of the GameObject.
-         *
-         * @param object The GameObject to be displayed
-         */
-        virtual void fillHeader(GameObject* object);
- 
-        /**
-         * Adds an Int value to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyInt(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds the IntPair values to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyIntPair(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds the IntTriple values to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyIntTriple(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds a String value to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyString(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds a Bool value to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyBool(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds a Real value to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyReal(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds the Vector3 values to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyVector3(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds the Quaternion values to the property table.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyQuaternion(const Property&amp; prop, 
-            CEGUI::MultiColumnList* table,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        /**
-         * Adds a new tab to the tabpane and lists
-         * the array values.
-         *
-         * @param key The property to add.
-         */
-        virtual void addPropertyArray(const Property&amp; prop,
-            const Ogre::String&amp; key = &quot;&quot;);
-
-        
-        CEGUI::TabControl *mTabPane;        //!&lt; TabControl for the property tabs
-        CEGUI::MultiColumnList *mMainTable; //!&lt; Main table for the GameObject properties 
-	};
-}
-
-#endif

Copied: rl/trunk/engine/ui/include/PropertiesWindow.h (from rev 3534, rl/trunk/engine/ui/include/GameObjectPropsWindow.h)
===================================================================
--- rl/trunk/engine/ui/include/GameObjectPropsWindow.h	2007-06-13 21:33:56 UTC (rev 3534)
+++ rl/trunk/engine/ui/include/PropertiesWindow.h	2007-06-26 09:27:53 UTC (rev 3543)
@@ -0,0 +1,165 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+
+/**
+ * \file PropertiesWindow.h
+ *
+ * Declaration of the Property window
+ */
+
+#ifndef __PropertiesWindow_H__
+#define __PropertiesWindow_H__
+
+#include &quot;UiPrerequisites.h&quot;
+#include &quot;AbstractWindow.h&quot;
+
+namespace rl {
+
+    class Property;
+	class PropertyHolder;
+
+    /**
+     * The Property window class
+     *
+     * This window displays all properties of a game object by looping
+     * through the property set of the given object.
+     */
+    class _RlUiExport PropertiesWindow : public AbstractWindow
+	{
+	public:
+
+        /**
+         * Constructor of the Property window
+         */
+		PropertiesWindow(PropertyHolder* ph);
+		
+        /**
+         * Destructor of the Property window
+         */
+        virtual ~PropertiesWindow();
+
+		/**
+		 * Refreshes the shown data
+		 */
+		void update();
+	
+	private:
+
+        /**
+         * Initializes the window with the specified game object and
+         * fills the window with the properties of the PropertyHolder.
+         *
+         * @param object The PropertyHolder to be displayed
+         */
+		void initialize(PropertyHolder* object);
+
+		/**
+         * Fills the header part of the window with the Name and Description
+         * property of the PropertyHolder.
+         *
+         * @param object The PropertyHolder to be displayed
+         */
+        void fillHeader(PropertyHolder* object);
+ 
+        /**
+         * Adds an Int value to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyInt(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds the IntPair values to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyIntPair(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds the IntTriple values to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyIntTriple(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds a String value to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyString(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds a Bool value to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyBool(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds a Real value to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyReal(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds the Vector3 values to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyVector3(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds the Quaternion values to the property table.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyQuaternion(const Property&amp; prop, 
+            CEGUI::MultiColumnList* table,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        /**
+         * Adds a new tab to the tabpane and lists
+         * the array values.
+         *
+         * @param key The property to add.
+         */
+        void addPropertyArray(const Property&amp; prop,
+            const Ogre::String&amp; key = &quot;&quot;);
+
+        
+        CEGUI::TabControl *mTabPane;        //!&lt; TabControl for the property tabs
+        CEGUI::MultiColumnList *mMainTable; //!&lt; Main table for the PropertyHolder properties 
+		PropertyHolder* mObject;
+	};
+}
+
+#endif

Modified: rl/trunk/engine/ui/include/WindowFactory.h
===================================================================
--- rl/trunk/engine/ui/include/WindowFactory.h	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/ui/include/WindowFactory.h	2007-06-26 09:27:53 UTC (rev 3543)
@@ -45,7 +45,7 @@
     class DialogWindow;
     class GameLoggerWindow;
     class GameObject;
-    class GameObjectPropsWindow;
+    class PropertiesWindow;
     class GameSettings;
     class InfoPopup;
     class InGameMenuWindow;
@@ -82,7 +82,7 @@
         void showCharacterSheet(Person* chara);
         void showContainerContent(Container* container);
         void showDescriptionWindow(GameObject* obj);
-        void showGameObjectPropsWindow(GameObject* obj);
+        void showPropertiesWindow(GameObject* obj);
         void showExitConfirmation();
         void showJournalWindow();
         void showLogfiles();

Deleted: rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp
===================================================================
--- rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp	2007-06-26 09:27:53 UTC (rev 3543)
@@ -1,576 +0,0 @@
-/* This source file is part of Rastullahs Lockenpracht.
- * Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
- * 
- *  This program is free software; you can redistribute it and/or modify
- *  it under the terms of the Clarified Artistic License.
- *
- *  This program is distributed in the hope that it will be useful,
- *  but WITHOUT ANY WARRANTY; without even the implied warranty of
- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- *  Clarified Artistic License for more details.
- *
- *  You should have received a copy of the Clarified Artistic License
- *  along with this program; if not you can get it here
- *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
- */
-
-/**
- * \file GameObjectPropsWindow.cpp
- *
- * Implementation of the GameObject window
- */
-
-#include &lt;boost/bind.hpp&gt;
-#include &lt;CEGUIPropertyHelper.h&gt;
-#include &lt;CEGUIWindowManager.h&gt;
-#include &lt;elements/CEGUIListboxTextItem.h&gt;
-
-#include &quot;GameObjectPropsWindow.h&quot;
-#include &quot;GameObject.h&quot;
-
-using namespace CEGUI;
-
-namespace rl {
-
-    //------------------------------------------------------- Constructor
-
-	GameObjectPropsWindow::GameObjectPropsWindow() :
-        AbstractWindow(&quot;gameobjectpropswindow.xml&quot;, WIT_MOUSE_INPUT)
-	{
-        // Get access to the tab control
-        mTabPane = getTabControl(&quot;GameObjectPropsWindow/PropertiesTabPane&quot;);
-        RlAssert(mTabPane != NULL, &quot;GameObjectPropsWindow/PropertiesTabPane is null&quot;);
-
-        // Get a access to the main Property table
-        mMainTable = getMultiColumnList(&quot;GameObjectPropsWindow/PropertiesTabControl/MainTable&quot;);
-        RlAssert(mMainTable != NULL, &quot;GameObjectPropsWindow/PropertiesTabPane is null&quot;);
-
-        mMainTable-&gt;addColumn( (utf8*)&quot;Key&quot;, 0, cegui_reldim(0.3));
-        mMainTable-&gt;addColumn( (utf8*)&quot;Type&quot;, 1, cegui_reldim(0.3));
-        mMainTable-&gt;addColumn( (utf8*)&quot;Value&quot;, 2, cegui_reldim(0.4));
-        
-        centerWindow();
-
-        bindDestroyWindowToXButton();
-        bindDestroyWindowToClick(getWindow(&quot;GameObjectPropsWindow/CloseButton&quot;));
-	    
-	}
-
-    //------------------------------------------------------- Destructor
-
-	GameObjectPropsWindow::~GameObjectPropsWindow() 
-	{        
-	}
-
-    //------------------------------------------------------- initialize
-
-	void GameObjectPropsWindow::initialize( GameObject* object )
-	{
-        // Fill header text fields with name and description
-        fillHeader(object);    
-
-        // Get the property set of the object
-        PropertySet* props = object-&gt;getAllProperties();
-
-        int row = 0;
-        //  Iterate through all properties and add a row for
-        //  every Entry
-        for( PropertySetMap::const_iterator propIter = props-&gt;begin();
-            propIter != props-&gt;end(); propIter++ )
-        {
-            Ogre::String key = propIter-&gt;first;
-            
-            if( key == &quot;description&quot; || key == &quot;name&quot; )
-                continue;
-
-            // Check for Int
-            if( propIter-&gt;second.isInt() )
-            {
-                addPropertyInt(propIter-&gt;second, mMainTable, key );
-            }
-            // Check for IntPair
-            else if( propIter-&gt;second.isIntPair() )
-            {
-                addPropertyIntPair(propIter-&gt;second, mMainTable, key);
-                int rowCount = mMainTable-&gt;getRowCount();
-                mMainTable-&gt;addRow(rowCount);
-                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for IntTriple
-            else if( propIter-&gt;second.isIntTriple() )
-            {
-                addPropertyIntTriple(propIter-&gt;second, mMainTable, key);
-                int rowCount = mMainTable-&gt;getRowCount();
-                mMainTable-&gt;addRow(rowCount);
-                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for String
-            else if( propIter-&gt;second.isString() )
-            {
-                addPropertyString(propIter-&gt;second, mMainTable, key);
-            }
-            // Check for Bool
-            else if( propIter-&gt;second.isBool() )
-            {
-                addPropertyBool(propIter-&gt;second, mMainTable, key);
-            }
-            // Check for Real
-            else if( propIter-&gt;second.isReal() )
-            {
-                addPropertyReal(propIter-&gt;second, mMainTable, key);
-            }
-            // Check for Vector3
-            else if( propIter-&gt;second.isVector3() )
-            {
-                addPropertyVector3(propIter-&gt;second, mMainTable, key);
-                int rowCount = mMainTable-&gt;getRowCount();
-                mMainTable-&gt;addRow(rowCount);
-                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for Quaternion
-            else if( propIter-&gt;second.isQuaternion() )
-            {
-                addPropertyQuaternion(propIter-&gt;second, mMainTable, key);
-                int rowCount = mMainTable-&gt;getRowCount();
-                mMainTable-&gt;addRow(rowCount);
-                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for Array
-            else if( propIter-&gt;second.isArray() )
-            {
-                addPropertyArray(propIter-&gt;second, key);
-            }
-        }
-
-        mMainTable-&gt;autoSizeColumnHeader(0);
-        mMainTable-&gt;autoSizeColumnHeader(1);
-        mMainTable-&gt;autoSizeColumnHeader(2);
-	}
-
-    //------------------------------------------------------- fillHeader
-
-    void GameObjectPropsWindow::fillHeader(GameObject* object)
-    {
-        getWindow(&quot;GameObjectPropsWindow/HeaderSheet/ObjectName&quot;)-&gt;setText(object-&gt;getName());
-        getWindow(&quot;GameObjectPropsWindow/HeaderSheet/ObjectDescription&quot;)-&gt;setText(object-&gt;getDescription());
-    }
-
-    //------------------------------------------------------- addPropertyInt
-
-    void GameObjectPropsWindow::addPropertyInt(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Int  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(PropertyHelper::intToString(prop.toInt())), 
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Int  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(PropertyHelper::intToString(prop.toInt())), 
-                1, 
-                rowCount);
-        }
-    }
-
-    //------------------------------------------------------- addPropertyIntPair
-
-    void GameObjectPropsWindow::addPropertyIntPair(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        IntPair intPair = prop.toIntPair();
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            // Add row for the first IntPair value
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;IntPair  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem( &quot;( &quot; + 
-                PropertyHelper::intToString(intPair.first) + &quot;, &quot; +
-                PropertyHelper::intToString(intPair.second) + &quot; )&quot;), 
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;IntPair  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + 
-                PropertyHelper::intToString(intPair.first) + &quot;, &quot; +
-                PropertyHelper::intToString(intPair.second) + &quot; )&quot;), 
-                1, 
-                rowCount);
-        }
-    }
-
-    //------------------------------------------------------- addPropertyIntTriple
-
-    void GameObjectPropsWindow::addPropertyIntTriple(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        Tripel&lt;int&gt; intTriple = prop.toIntTriple();
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            // Add row for the first IntTriple value
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;IntTriple  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; +
-                PropertyHelper::intToString(intTriple.first) + &quot;, &quot; +
-                PropertyHelper::intToString(intTriple.second) + &quot;, &quot; +
-                PropertyHelper::intToString(intTriple.third) + &quot; )&quot;),
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;IntTriple  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; +
-                PropertyHelper::intToString(intTriple.first) + &quot;, &quot; +
-                PropertyHelper::intToString(intTriple.second) + &quot;, &quot; +
-                PropertyHelper::intToString(intTriple.third) + &quot; )&quot;), 
-                1, 
-                rowCount);
-        } 
-    }
-
-    //------------------------------------------------------- addPropertyString
-
-    void GameObjectPropsWindow::addPropertyString(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;String    &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(prop.toString()), 
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;String    &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(prop.toString()), 
-                1, 
-                rowCount);
-        }
-    }
-
-    //------------------------------------------------------- addPropertyBool
-
-    void GameObjectPropsWindow::addPropertyBool(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Bool  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(PropertyHelper::boolToString(prop.toBool())), 
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Bool  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(PropertyHelper::boolToString(prop.toBool())), 
-                1, 
-                rowCount);
-        }
-    }
-
-    //------------------------------------------------------- addPropertyReal
-
-    void GameObjectPropsWindow::addPropertyReal(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-       // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        char buf [50];
-        sprintf(buf, &quot;%1.2f&quot;, prop.toReal());
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Real  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(CEGUI::String(buf)), 
-                2, 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Real  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(CEGUI::String(buf)), 
-                1, 
-                rowCount);
-        }
-    }
-
-    //------------------------------------------------------- addPropertyVector3
-
-    void GameObjectPropsWindow::addPropertyVector3(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        Ogre::Vector3 vec = prop.toVector3();
-
-        char buf1 [50];
-        sprintf(buf1, &quot;%1.2f&quot;, vec.x);
-        char buf2 [50];
-        sprintf(buf2, &quot;%1.2f&quot;, vec.y);
-        char buf3 [50];
-        sprintf(buf3, &quot;%1.2f&quot;, vec.z);
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            // Add row for the first IntTriple value
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Vector3  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + CEGUI::String(buf1) + &quot;, &quot; +
-                CEGUI::String(buf2) + &quot;, &quot; +
-                CEGUI::String(buf3) + &quot; )&quot;), 
-                2 , 
-                rowCount);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Vector3  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + CEGUI::String(buf1) + &quot;, &quot; +
-                CEGUI::String(buf2) + &quot;, &quot; +
-                CEGUI::String(buf3) + &quot; )&quot;), 
-                1 , 
-                rowCount);
-        } 
-    }
-
-    //------------------------------------------------------- addPropertyQuaternion
-
-    void GameObjectPropsWindow::addPropertyQuaternion(const Property&amp; prop, 
-        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
-    {
-        // Check column count
-        // if count = 3 | MainTable
-        // if count = 2 | Array table
-        int colCount = table-&gt;getColumnCount();
-        int rowCount = table-&gt;getRowCount();
-
-        Ogre::Quaternion quat = prop.toQuaternion();
-        Ogre::Degree angle;
-        Ogre::Vector3 axis;
-
-        quat.ToAngleAxis( angle, axis );
-
-        char buf_angle [50];
-        sprintf(buf_angle, &quot;%1.2f&quot;, angle.valueDegrees());
-        char buf_v1 [50];
-        sprintf(buf_v1, &quot;%1.2f&quot;, axis.x);
-        char buf_v2 [50];
-        sprintf(buf_v2, &quot;%1.2f&quot;, axis.y);
-        char buf_v3 [50];
-        sprintf(buf_v3, &quot;%1.2f&quot;, axis.z);
-
-        // Table has the three columns Key, Type, Value
-        if ( colCount == 3 )
-        {
-            // Add row for the first IntTriple value
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Quaternion  &quot;), 1, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Axis:   ( &quot; +
-                CEGUI::String(buf_v1) + &quot;, &quot; +
-                CEGUI::String(buf_v2) + &quot;, &quot; +
-                CEGUI::String(buf_v3) + &quot; )&quot;), 
-                2, 
-                rowCount);
-
-            // Add second for the second IntTriple value
-            table-&gt;addRow(rowCount + 1);
-            table-&gt;setItem(new ListboxTextItem(&quot;Degree: &quot; + 
-                CEGUI::String(buf_angle)), 
-                2, 
-                rowCount + 1);
-        }
-        // Table has the two columns Type, Value
-        else if ( colCount == 2 )
-        {
-            table-&gt;addRow(rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Quaternion  &quot;), 0, rowCount);
-            table-&gt;setItem(new ListboxTextItem(&quot;Axis:   ( &quot; +
-                CEGUI::String(buf_v1) + &quot;, &quot; +
-                CEGUI::String(buf_v2) + &quot;, &quot; +
-                CEGUI::String(buf_v3) + &quot; )&quot;), 
-                2, 
-                rowCount);
-
-            // Add second for the second IntTriple value
-            table-&gt;addRow(rowCount + 1);
-            table-&gt;setItem(new ListboxTextItem(&quot;Degree &quot; + 
-                CEGUI::String(buf_angle)), 
-                2, 
-                rowCount + 1);
-        } 
-
-    }
-
-    //------------------------------------------------------- addPropertyArray
-
-    void GameObjectPropsWindow::addPropertyArray(const Property&amp; prop, const Ogre::String&amp; key)
-    {
-        // Create the new MultiColumnList with two columns
-        // Type and Value and set tab text to key
-        int tabCount = mTabPane-&gt;getTabCount();
-        CEGUI::MultiColumnList* newTable = static_cast&lt;CEGUI::MultiColumnList*&gt;
-            (CEGUI::WindowManager::getSingleton().createWindow(&quot;RastullahLook/MultiColumnList&quot;, 
-            &quot;GameObjectPropsWindow/PropertiesTabControl/&quot; + key));
-
-        // Set table properties
-        newTable-&gt;setText(key);
-        newTable-&gt;setPosition(CEGUI::UVector2( 
-            CEGUI::UDim(0,0), 
-            CEGUI::UDim(0,0)));
-        newTable-&gt;setSize(CEGUI::UVector2(
-            CEGUI::UDim(1,0), 
-            CEGUI::UDim(1,0)));
-        newTable-&gt;setUserSortControlEnabled(false);
-        newTable-&gt;setFont(&quot;Vera Serif-8&quot;);
-
-        newTable-&gt;addColumn(&quot;Type&quot;, 0, cegui_reldim(0.3));
-        newTable-&gt;addColumn(&quot;Value&quot;, 1, cegui_reldim(0.7));
-
-        // Add the MultiColumnList to the tab pane
-        mTabPane-&gt;addTab(newTable);
-
-        // Get access to the vector
-        PropertyVector vProp = prop.toArray();
-        
-        // Iterate through the vector entries and add them
-        // to the table
-        for(PropertyVector::const_iterator it = vProp.begin(); it != vProp.end(); it++)
-        {
-            // Check for Int
-            if( it-&gt;isInt() )
-            {
-                addPropertyInt(*it, newTable);
-            }
-            // Check for IntPair
-            else if( it-&gt;isIntPair() )
-            {
-                addPropertyIntPair(*it, newTable);
-                int rowCount = newTable-&gt;getRowCount();
-                newTable-&gt;addRow(rowCount);
-                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for IntTriple
-            else if( it-&gt;isIntTriple() )
-            {
-                addPropertyIntTriple(*it, newTable);
-                int rowCount = newTable-&gt;getRowCount();
-                newTable-&gt;addRow(rowCount);
-                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for String
-            else if( it-&gt;isString() )
-            {
-                addPropertyString(*it, newTable);
-            }
-            // Check for Bool
-            else if( it-&gt;isBool() )
-            {
-                addPropertyBool(*it, newTable);
-            }
-            // Check for Real
-            else if( it-&gt;isReal() )
-            {
-                addPropertyReal(*it, newTable);
-            }
-            // Check for Vector3
-            else if( it-&gt;isVector3() )
-            {
-                addPropertyVector3(*it, newTable);
-                int rowCount = newTable-&gt;getRowCount();
-                newTable-&gt;addRow(rowCount);
-                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-            // Check for Quaternion
-            else if( it-&gt;isQuaternion() )
-            {
-                addPropertyQuaternion(*it, newTable);
-                int rowCount = newTable-&gt;getRowCount();
-                newTable-&gt;addRow(rowCount);
-                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
-            }
-        }
-        newTable-&gt;autoSizeColumnHeader(0);
-        newTable-&gt;autoSizeColumnHeader(1);
-    }
-
-} // namespace rl

Copied: rl/trunk/engine/ui/src/PropertiesWindow.cpp (from rev 3534, rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp)
===================================================================
--- rl/trunk/engine/ui/src/GameObjectPropsWindow.cpp	2007-06-13 21:33:56 UTC (rev 3534)
+++ rl/trunk/engine/ui/src/PropertiesWindow.cpp	2007-06-26 09:27:53 UTC (rev 3543)
@@ -0,0 +1,600 @@
+/* This source file is part of Rastullahs Lockenpracht.
+ * Copyright (C) 2003-2007 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the Clarified Artistic License.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  Clarified Artistic License for more details.
+ *
+ *  You should have received a copy of the Clarified Artistic License
+ *  along with this program; if not you can get it here
+ *  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+ */
+
+/**
+ * \file PropertiesWindow.cpp
+ *
+ * Implementation of the PropertyHolder window
+ */
+
+#include &lt;boost/bind.hpp&gt;
+#include &lt;CEGUIPropertyHelper.h&gt;
+#include &lt;CEGUIWindowManager.h&gt;
+#include &lt;elements/CEGUIListboxTextItem.h&gt;
+
+#include &quot;GameObject.h&quot;
+#include &quot;Properties.h&quot;
+#include &quot;PropertiesWindow.h&quot;
+
+using namespace CEGUI;
+
+namespace rl {
+
+    //------------------------------------------------------- Constructor
+
+	PropertiesWindow::PropertiesWindow(PropertyHolder* object) :
+        AbstractWindow(&quot;propertieswindow.xml&quot;, WIT_MOUSE_INPUT),
+		mObject(object)
+	{
+        // Get access to the tab control
+        mTabPane = getTabControl(&quot;PropertiesWindow/PropertiesTabPane&quot;);
+        RlAssert(mTabPane != NULL, &quot;PropertiesWindow/PropertiesTabPane is null&quot;);
+
+        // Get a access to the main Property table
+        mMainTable = getMultiColumnList(&quot;PropertiesWindow/PropertiesTabControl/MainTable&quot;);
+        RlAssert(mMainTable != NULL, &quot;PropertiesWindow/PropertiesTabPane is null&quot;);
+
+        mMainTable-&gt;addColumn( (utf8*)&quot;Key&quot;, 0, cegui_reldim(0.3));
+        mMainTable-&gt;addColumn( (utf8*)&quot;Type&quot;, 1, cegui_reldim(0.3));
+        mMainTable-&gt;addColumn( (utf8*)&quot;Value&quot;, 2, cegui_reldim(0.4));
+        
+        centerWindow();
+
+        bindDestroyWindowToXButton();
+        bindDestroyWindowToClick(getWindow(&quot;PropertiesWindow/CloseButton&quot;));
+	    
+		initialize(mObject);
+	}
+
+    //------------------------------------------------------- Destructor
+
+	PropertiesWindow::~PropertiesWindow() 
+	{        
+	}
+
+    //------------------------------------------------------- initialize
+
+	void PropertiesWindow::initialize( PropertyHolder* object )
+	{
+        // Fill header text fields with name and description
+        fillHeader(object);    
+
+        // Get the property set of the object
+        PropertySet* props = object-&gt;getAllProperties();
+
+        int row = 0;
+        //  Iterate through all properties and add a row for
+        //  every Entry
+        for( PropertySetMap::const_iterator propIter = props-&gt;begin();
+            propIter != props-&gt;end(); propIter++ )
+        {
+            Ogre::String key = propIter-&gt;first;
+            
+            if( key == &quot;description&quot; || key == &quot;name&quot; )
+                continue;
+
+            // Check for Int
+            if( propIter-&gt;second.isInt() )
+            {
+                addPropertyInt(propIter-&gt;second, mMainTable, key );
+            }
+            // Check for IntPair
+            else if( propIter-&gt;second.isIntPair() )
+            {
+                addPropertyIntPair(propIter-&gt;second, mMainTable, key);
+                int rowCount = mMainTable-&gt;getRowCount();
+                mMainTable-&gt;addRow(rowCount);
+                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for IntTriple
+            else if( propIter-&gt;second.isIntTriple() )
+            {
+                addPropertyIntTriple(propIter-&gt;second, mMainTable, key);
+                int rowCount = mMainTable-&gt;getRowCount();
+                mMainTable-&gt;addRow(rowCount);
+                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for String
+            else if( propIter-&gt;second.isString() )
+            {
+                addPropertyString(propIter-&gt;second, mMainTable, key);
+            }
+            // Check for Bool
+            else if( propIter-&gt;second.isBool() )
+            {
+                addPropertyBool(propIter-&gt;second, mMainTable, key);
+            }
+            // Check for Real
+            else if( propIter-&gt;second.isReal() )
+            {
+                addPropertyReal(propIter-&gt;second, mMainTable, key);
+            }
+            // Check for Vector3
+            else if( propIter-&gt;second.isVector3() )
+            {
+                addPropertyVector3(propIter-&gt;second, mMainTable, key);
+                int rowCount = mMainTable-&gt;getRowCount();
+                mMainTable-&gt;addRow(rowCount);
+                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for Quaternion
+            else if( propIter-&gt;second.isQuaternion() )
+            {
+                addPropertyQuaternion(propIter-&gt;second, mMainTable, key);
+                int rowCount = mMainTable-&gt;getRowCount();
+                mMainTable-&gt;addRow(rowCount);
+                mMainTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for Array
+            else if( propIter-&gt;second.isArray() )
+            {
+                addPropertyArray(propIter-&gt;second, key);
+            }
+        }
+
+        mMainTable-&gt;autoSizeColumnHeader(0);
+        mMainTable-&gt;autoSizeColumnHeader(1);
+        mMainTable-&gt;autoSizeColumnHeader(2);
+
+		delete props;
+	}
+
+	void PropertiesWindow::update()
+	{
+		while (mTabPane-&gt;getTabCount() &gt; 1)
+		{
+			mTabPane-&gt;removeTab(mTabPane-&gt;getTabContentsAtIndex(1)-&gt;getName());
+		}
+
+		while (mMainTable-&gt;getRowCount() &gt; 0)
+		{
+			mMainTable-&gt;removeRow(0);
+		}
+
+		initialize(mObject);
+	}
+
+    //------------------------------------------------------- fillHeader
+
+    void PropertiesWindow::fillHeader(PropertyHolder* object)
+    {
+		GameObject* go = dynamic_cast&lt;GameObject*&gt;(object);
+		if (go)
+		{
+			getWindow(&quot;PropertiesWindow/HeaderSheet/ObjectName&quot;)-&gt;setText(go-&gt;getName());
+			getWindow(&quot;PropertiesWindow/HeaderSheet/ObjectDescription&quot;)-&gt;setText(go-&gt;getDescription());
+		}
+    }
+
+    //------------------------------------------------------- addPropertyInt
+
+    void PropertiesWindow::addPropertyInt(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Int  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(PropertyHelper::intToString(prop.toInt())), 
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Int  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(PropertyHelper::intToString(prop.toInt())), 
+                1, 
+                rowCount);
+        }
+    }
+
+    //------------------------------------------------------- addPropertyIntPair
+
+    void PropertiesWindow::addPropertyIntPair(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        IntPair intPair = prop.toIntPair();
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            // Add row for the first IntPair value
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;IntPair  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem( &quot;( &quot; + 
+                PropertyHelper::intToString(intPair.first) + &quot;, &quot; +
+                PropertyHelper::intToString(intPair.second) + &quot; )&quot;), 
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;IntPair  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + 
+                PropertyHelper::intToString(intPair.first) + &quot;, &quot; +
+                PropertyHelper::intToString(intPair.second) + &quot; )&quot;), 
+                1, 
+                rowCount);
+        }
+    }
+
+    //------------------------------------------------------- addPropertyIntTriple
+
+    void PropertiesWindow::addPropertyIntTriple(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        Tripel&lt;int&gt; intTriple = prop.toIntTriple();
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            // Add row for the first IntTriple value
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;IntTriple  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; +
+                PropertyHelper::intToString(intTriple.first) + &quot;, &quot; +
+                PropertyHelper::intToString(intTriple.second) + &quot;, &quot; +
+                PropertyHelper::intToString(intTriple.third) + &quot; )&quot;),
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;IntTriple  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; +
+                PropertyHelper::intToString(intTriple.first) + &quot;, &quot; +
+                PropertyHelper::intToString(intTriple.second) + &quot;, &quot; +
+                PropertyHelper::intToString(intTriple.third) + &quot; )&quot;), 
+                1, 
+                rowCount);
+        } 
+    }
+
+    //------------------------------------------------------- addPropertyString
+
+    void PropertiesWindow::addPropertyString(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;String    &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(prop.toString()), 
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;String    &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(prop.toString()), 
+                1, 
+                rowCount);
+        }
+    }
+
+    //------------------------------------------------------- addPropertyBool
+
+    void PropertiesWindow::addPropertyBool(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Bool  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(PropertyHelper::boolToString(prop.toBool())), 
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Bool  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(PropertyHelper::boolToString(prop.toBool())), 
+                1, 
+                rowCount);
+        }
+    }
+
+    //------------------------------------------------------- addPropertyReal
+
+    void PropertiesWindow::addPropertyReal(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+       // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        char buf [50];
+        sprintf(buf, &quot;%1.2f&quot;, prop.toReal());
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Real  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(CEGUI::String(buf)), 
+                2, 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Real  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(CEGUI::String(buf)), 
+                1, 
+                rowCount);
+        }
+    }
+
+    //------------------------------------------------------- addPropertyVector3
+
+    void PropertiesWindow::addPropertyVector3(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        Ogre::Vector3 vec = prop.toVector3();
+
+        char buf1 [50];
+        sprintf(buf1, &quot;%1.2f&quot;, vec.x);
+        char buf2 [50];
+        sprintf(buf2, &quot;%1.2f&quot;, vec.y);
+        char buf3 [50];
+        sprintf(buf3, &quot;%1.2f&quot;, vec.z);
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            // Add row for the first IntTriple value
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Vector3  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + CEGUI::String(buf1) + &quot;, &quot; +
+                CEGUI::String(buf2) + &quot;, &quot; +
+                CEGUI::String(buf3) + &quot; )&quot;), 
+                2 , 
+                rowCount);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Vector3  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;( &quot; + CEGUI::String(buf1) + &quot;, &quot; +
+                CEGUI::String(buf2) + &quot;, &quot; +
+                CEGUI::String(buf3) + &quot; )&quot;), 
+                1 , 
+                rowCount);
+        } 
+    }
+
+    //------------------------------------------------------- addPropertyQuaternion
+
+    void PropertiesWindow::addPropertyQuaternion(const Property&amp; prop, 
+        CEGUI::MultiColumnList* table, const Ogre::String&amp; key)
+    {
+        // Check column count
+        // if count = 3 | MainTable
+        // if count = 2 | Array table
+        int colCount = table-&gt;getColumnCount();
+        int rowCount = table-&gt;getRowCount();
+
+        Ogre::Quaternion quat = prop.toQuaternion();
+        Ogre::Degree angle;
+        Ogre::Vector3 axis;
+
+        quat.ToAngleAxis( angle, axis );
+
+        char buf_angle [50];
+        sprintf(buf_angle, &quot;%1.2f&quot;, angle.valueDegrees());
+        char buf_v1 [50];
+        sprintf(buf_v1, &quot;%1.2f&quot;, axis.x);
+        char buf_v2 [50];
+        sprintf(buf_v2, &quot;%1.2f&quot;, axis.y);
+        char buf_v3 [50];
+        sprintf(buf_v3, &quot;%1.2f&quot;, axis.z);
+
+        // Table has the three columns Key, Type, Value
+        if ( colCount == 3 )
+        {
+            // Add row for the first IntTriple value
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(key + &quot;  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Quaternion  &quot;), 1, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Axis:   ( &quot; +
+                CEGUI::String(buf_v1) + &quot;, &quot; +
+                CEGUI::String(buf_v2) + &quot;, &quot; +
+                CEGUI::String(buf_v3) + &quot; )&quot;), 
+                2, 
+                rowCount);
+
+            // Add second for the second IntTriple value
+            table-&gt;addRow(rowCount + 1);
+            table-&gt;setItem(new ListboxTextItem(&quot;Degree: &quot; + 
+                CEGUI::String(buf_angle)), 
+                2, 
+                rowCount + 1);
+        }
+        // Table has the two columns Type, Value
+        else if ( colCount == 2 )
+        {
+            table-&gt;addRow(rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Quaternion  &quot;), 0, rowCount);
+            table-&gt;setItem(new ListboxTextItem(&quot;Axis:   ( &quot; +
+                CEGUI::String(buf_v1) + &quot;, &quot; +
+                CEGUI::String(buf_v2) + &quot;, &quot; +
+                CEGUI::String(buf_v3) + &quot; )&quot;), 
+                2, 
+                rowCount);
+
+            // Add second for the second IntTriple value
+            table-&gt;addRow(rowCount + 1);
+            table-&gt;setItem(new ListboxTextItem(&quot;Degree &quot; + 
+                CEGUI::String(buf_angle)), 
+                2, 
+                rowCount + 1);
+        } 
+
+    }
+
+    //------------------------------------------------------- addPropertyArray
+
+    void PropertiesWindow::addPropertyArray(const Property&amp; prop, const Ogre::String&amp; key)
+    {
+        // Create the new MultiColumnList with two columns
+        // Type and Value and set tab text to key
+        int tabCount = mTabPane-&gt;getTabCount();
+        CEGUI::MultiColumnList* newTable = static_cast&lt;CEGUI::MultiColumnList*&gt;
+            (CEGUI::WindowManager::getSingleton().createWindow(&quot;RastullahLook/MultiColumnList&quot;, 
+            &quot;PropertiesWindow/PropertiesTabControl/&quot; + key));
+
+        // Set table properties
+        newTable-&gt;setText(key);
+        newTable-&gt;setPosition(CEGUI::UVector2( 
+            CEGUI::UDim(0,0), 
+            CEGUI::UDim(0,0)));
+        newTable-&gt;setSize(CEGUI::UVector2(
+            CEGUI::UDim(1,0), 
+            CEGUI::UDim(1,0)));
+        newTable-&gt;setUserSortControlEnabled(false);
+        newTable-&gt;setFont(&quot;Vera Serif-8&quot;);
+
+        newTable-&gt;addColumn(&quot;Type&quot;, 0, cegui_reldim(0.3));
+        newTable-&gt;addColumn(&quot;Value&quot;, 1, cegui_reldim(0.7));
+
+        // Add the MultiColumnList to the tab pane
+        mTabPane-&gt;addTab(newTable);
+
+        // Get access to the vector
+        PropertyVector vProp = prop.toArray();
+        
+        // Iterate through the vector entries and add them
+        // to the table
+        for(PropertyVector::const_iterator it = vProp.begin(); it != vProp.end(); it++)
+        {
+            // Check for Int
+            if( it-&gt;isInt() )
+            {
+                addPropertyInt(*it, newTable);
+            }
+            // Check for IntPair
+            else if( it-&gt;isIntPair() )
+            {
+                addPropertyIntPair(*it, newTable);
+                int rowCount = newTable-&gt;getRowCount();
+                newTable-&gt;addRow(rowCount);
+                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for IntTriple
+            else if( it-&gt;isIntTriple() )
+            {
+                addPropertyIntTriple(*it, newTable);
+                int rowCount = newTable-&gt;getRowCount();
+                newTable-&gt;addRow(rowCount);
+                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for String
+            else if( it-&gt;isString() )
+            {
+                addPropertyString(*it, newTable);
+            }
+            // Check for Bool
+            else if( it-&gt;isBool() )
+            {
+                addPropertyBool(*it, newTable);
+            }
+            // Check for Real
+            else if( it-&gt;isReal() )
+            {
+                addPropertyReal(*it, newTable);
+            }
+            // Check for Vector3
+            else if( it-&gt;isVector3() )
+            {
+                addPropertyVector3(*it, newTable);
+                int rowCount = newTable-&gt;getRowCount();
+                newTable-&gt;addRow(rowCount);
+                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+            // Check for Quaternion
+            else if( it-&gt;isQuaternion() )
+            {
+                addPropertyQuaternion(*it, newTable);
+                int rowCount = newTable-&gt;getRowCount();
+                newTable-&gt;addRow(rowCount);
+                newTable-&gt;setItem(new ListboxTextItem(&quot;&quot;), 0, rowCount);
+            }
+        }
+        newTable-&gt;autoSizeColumnHeader(0);
+        newTable-&gt;autoSizeColumnHeader(1);
+    }
+
+} // namespace rl

Modified: rl/trunk/engine/ui/src/WindowFactory.cpp
===================================================================
--- rl/trunk/engine/ui/src/WindowFactory.cpp	2007-06-26 07:18:25 UTC (rev 3542)
+++ rl/trunk/engine/ui/src/WindowFactory.cpp	2007-06-26 09:27:53 UTC (rev 3543)
@@ -33,7 +33,7 @@
 #include &quot;GameLoggerWindow.h&quot;
 #include &quot;GameObject.h&quot;
 #include &quot;GameObjectInfoWindow.h&quot;
-#include &quot;GameObjectPropsWindow.h&quot;
+#include &quot;PropertiesWindow.h&quot;
 #include &quot;SaveLoadWindow.h&quot;
 #include &quot;GameSettings.h&quot;
 #include &quot;InfoPopup.h&quot;
@@ -166,10 +166,9 @@
         mDebugWindow-&gt;setVisible(!mDebugWindow-&gt;isVisible());
     }
 
-    void WindowFactory::showGameObjectPropsWindow(GameObject* obj)
+    void WindowFactory::showPropertiesWindow(GameObject* obj)
     {
-        GameObjectPropsWindow* wnd = new GameObjectPropsWindow();
-        wnd-&gt;initialize(obj);
+        PropertiesWindow* wnd = new PropertiesWindow(obj);
         wnd-&gt;setVisible(true);
     }
     


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000613.html">[Dsa-hl-svn] r3542 - in modules/regressiontest/scripts: . maps
</A></li>
	<LI>Next message: <A HREF="000615.html">[Dsa-hl-svn] r3544 - in rl/trunk/engine: core/include core/src	rules/include rules/src script/swig
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
