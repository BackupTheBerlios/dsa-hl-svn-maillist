<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r4593 - modules modules/common/materials	modules/intro/materials modules/kanalisation/maps	modules/kanalisation/materials modules/ruchin	modules/ruchin/materials modules/ruchin/models	modules/techdemo/maps modules/techdemo2/materials	modules/techdemo2/scripts/maps modules/teichtest/materials	rl/trunk/engine/core/include rl/trunk/engine/core/src	rl/trunk/engine/script/src rl/trunk/engine/ui/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4593%20-%20modules%20modules/common/materials%0A%09modules/intro/materials%20modules/kanalisation/maps%0A%09modules/kanalisation/materials%20modules/ruchin%0A%09modules/ruchin/materials%20modules/ruchin/models%0A%09modules/techdemo/maps%20modules/techdemo2/materials%0A%09modules/techdemo2/scripts/maps%20modules/teichtest/materials%0A%09rl/trunk/engine/core/include%20rl/trunk/engine/core/src%0A%09rl/trunk/engine/script/src%20rl/trunk/engine/ui/src&In-Reply-To=%3C200811192204.mAJM4pNw018506%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001649.html">
   <LINK REL="Next"  HREF="001651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r4593 - modules modules/common/materials	modules/intro/materials modules/kanalisation/maps	modules/kanalisation/materials modules/ruchin	modules/ruchin/materials modules/ruchin/models	modules/techdemo/maps modules/techdemo2/materials	modules/techdemo2/scripts/maps modules/teichtest/materials	rl/trunk/engine/core/include rl/trunk/engine/core/src	rl/trunk/engine/script/src rl/trunk/engine/ui/src</H1>
    <B>blakharaz at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r4593%20-%20modules%20modules/common/materials%0A%09modules/intro/materials%20modules/kanalisation/maps%0A%09modules/kanalisation/materials%20modules/ruchin%0A%09modules/ruchin/materials%20modules/ruchin/models%0A%09modules/techdemo/maps%20modules/techdemo2/materials%0A%09modules/techdemo2/scripts/maps%20modules/teichtest/materials%0A%09rl/trunk/engine/core/include%20rl/trunk/engine/core/src%0A%09rl/trunk/engine/script/src%20rl/trunk/engine/ui/src&In-Reply-To=%3C200811192204.mAJM4pNw018506%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r4593 - modules modules/common/materials	modules/intro/materials modules/kanalisation/maps	modules/kanalisation/materials modules/ruchin	modules/ruchin/materials modules/ruchin/models	modules/techdemo/maps modules/techdemo2/materials	modules/techdemo2/scripts/maps modules/teichtest/materials	rl/trunk/engine/core/include rl/trunk/engine/core/src	rl/trunk/engine/script/src rl/trunk/engine/ui/src">blakharaz at mail.berlios.de
       </A><BR>
    <I>Wed Nov 19 23:04:51 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001649.html">[Dsa-hl-svn] r4592 - rl/trunk/plugins/fmod4driver/src
</A></li>
        <LI>Next message: <A HREF="001651.html">[Dsa-hl-svn] r4594 - modules/common/materials/particle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1650">[ date ]</a>
              <a href="thread.html#1650">[ thread ]</a>
              <a href="subject.html#1650">[ subject ]</a>
              <a href="author.html#1650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: blakharaz
Date: 2008-11-19 23:04:20 +0100 (Wed, 19 Nov 2008)
New Revision: 4593

Modified:
   modules/common/materials/arc_bett_01.material
   modules/common/materials/arc_nachtkasten_schrank.material
   modules/common/materials/arc_regal_01.material
   modules/common/materials/arc_schreibtisch_01.material
   modules/common/materials/arc_stuhl_01.material
   modules/common/materials/arc_tisch_01.material
   modules/common/materials/arc_tisch_02.material
   modules/common/materials/arg_tisch_01.material
   modules/common/materials/fackel.material
   modules/common/materials/getreide.material
   modules/common/materials/men_alrike.material
   modules/common/materials/men_human_female_armor_garethplatte.mesh.material
   modules/common/materials/men_human_female_armor_kroetenhaut.mesh.material
   modules/common/materials/men_human_female_backpack_leather_01.material
   modules/common/materials/men_human_female_cloth_short.mesh.material
   modules/common/materials/men_human_female_feet_boots01.mesh.material
   modules/common/materials/men_human_female_hair_long01_normal.mesh.material
   modules/common/materials/men_human_female_hand_nude.mesh.material
   modules/common/materials/men_human_female_head02.mesh.material
   modules/common/materials/men_human_female_leg_pants01_long.mesh.material
   modules/common/materials/men_human_female_legs_underpants.mesh.material
   modules/common/materials/men_human_female_torso.mesh.material
   modules/common/materials/men_human_male_head_01.mesh.material
   modules/common/materials/nat_baum_01.material
   modules/common/materials/nat_baum_03.material
   modules/common/materials/nat_baum_mittel_02.material
   modules/common/materials/nat_baum_shadix_01.material
   modules/common/materials/nat_busch_klein.material
   modules/common/materials/obj_Shortsleeve.material
   modules/common/materials/schreibtisch.material
   modules/common/materials/stuhl.material
   modules/common/materials/ver_truhe_gross01.material
   modules/common/materials/waf_kurzschwert_01.material
   modules/common/materials/wasstertest.material
   modules/intro/materials/wueste.material
   modules/kanalisation/maps/kanalisation.material
   modules/kanalisation/materials/Wassershader_Kanalisation.program
   modules/modules.cfg
   modules/ruchin/maptest.material
   modules/ruchin/materials/maptest.material
   modules/ruchin/materials/nat_TD2Fluss.material
   modules/ruchin/materials/nat_nadelbaum_02.material
   modules/ruchin/materials/nat_nadelbaum_03_lod.material
   modules/ruchin/materials/nat_nadelbaum_lod.material
   modules/ruchin/materials/nat_wasser_techdemo2.material
   modules/ruchin/materials/statue02.material
   modules/ruchin/models/Ruchin_ground.material
   modules/ruchin/models/Ruchin_inside.material
   modules/ruchin/models/Ruchin_skydome.material
   modules/ruchin/models/Ruchintest.material
   modules/ruchin/models/Stadtmauer.material
   modules/ruchin/models/Stadtwache.material
   modules/ruchin/models/Statue01.material
   modules/ruchin/models/fass.material
   modules/ruchin/models/kiste.material
   modules/ruchin/models/nat_grasplane_02.material
   modules/ruchin/models/ruchin_terrain.material
   modules/ruchin/models/temple_outside.material
   modules/techdemo/maps/techdemo_terrain.rlmap.xml
   modules/techdemo2/materials/Techdemo2.material
   modules/techdemo2/materials/Techdemo2map2.material
   modules/techdemo2/materials/men_druide.material
   modules/techdemo2/materials/nat_TD2Fluss.material
   modules/techdemo2/materials/nat_baum_shadix_03.material
   modules/techdemo2/materials/nat_nadelbaum_02.material
   modules/techdemo2/materials/nat_nadelbaum_03_lod.material
   modules/techdemo2/materials/nat_nadelbaum_lod.material
   modules/techdemo2/materials/nat_wasser_techdemo2.material
   modules/techdemo2/scripts/maps/techdemo2map1.rb
   modules/teichtest/materials/teichtest.material
   rl/trunk/engine/core/include/ListenerMovable.h
   rl/trunk/engine/core/include/MovableText.h
   rl/trunk/engine/core/include/Sound.h
   rl/trunk/engine/core/include/SoundResource.h
   rl/trunk/engine/core/include/SoundStitching.h
   rl/trunk/engine/core/src/Actor.cpp
   rl/trunk/engine/core/src/DotSceneLoader.cpp
   rl/trunk/engine/core/src/ListenerMovable.cpp
   rl/trunk/engine/core/src/MovableText.cpp
   rl/trunk/engine/core/src/PhysicalThing.cpp
   rl/trunk/engine/core/src/PhysicsManager.cpp
   rl/trunk/engine/core/src/Sound.cpp
   rl/trunk/engine/core/src/SoundResource.cpp
   rl/trunk/engine/core/src/SoundStitching.cpp
   rl/trunk/engine/script/src/PlaneNodeProcessor.cpp
   rl/trunk/engine/ui/src/DebugWindow.cpp
   rl/trunk/engine/ui/src/DialogControlState.cpp
   rl/trunk/engine/ui/src/InventoryWindow.cpp
Log:
Changes for Ogre 1.6

Modified: modules/common/materials/arc_bett_01.material
===================================================================
--- modules/common/materials/arc_bett_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_bett_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_bett_01: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arc_nachtkasten_schrank.material
===================================================================
--- modules/common/materials/arc_nachtkasten_schrank.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_nachtkasten_schrank.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material nachtkasten: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arc_regal_01.material
===================================================================
--- modules/common/materials/arc_regal_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_regal_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_regal_essen: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arc_schreibtisch_01.material
===================================================================
--- modules/common/materials/arc_schreibtisch_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_schreibtisch_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_schreibtisch_01: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arc_stuhl_01.material
===================================================================
--- modules/common/materials/arc_stuhl_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_stuhl_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_stuhl_01: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arc_tisch_01.material
===================================================================
--- modules/common/materials/arc_tisch_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_tisch_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 material arc_tisch_01: Basic_Vertex_Shader
 {
 set_texture_alias diffuse zeugs_02_schreibtisch01_tischkleinrund.dds 

Modified: modules/common/materials/arc_tisch_02.material
===================================================================
--- modules/common/materials/arc_tisch_02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arc_tisch_02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_tisch_02: Basic_Vertex_Shader
 {

Modified: modules/common/materials/arg_tisch_01.material
===================================================================
--- modules/common/materials/arg_tisch_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/arg_tisch_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arg_tisch_01: Basic_Vertex_Shader
 {

Modified: modules/common/materials/fackel.material
===================================================================
--- modules/common/materials/fackel.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/fackel.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping from Basic_Normalmapping.material
+
 material fackel/SOLID/TEX/fackel_kana.png: Basic_Normalmapping
 {
 set_texture_alias DiffuseMap fackel_kana.png

Modified: modules/common/materials/getreide.material
===================================================================
--- modules/common/materials/getreide.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/getreide.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 material ALPHA/getreide.png : windy_grass
 {
 	lod_distances 50.0

Modified: modules/common/materials/men_alrike.material
===================================================================
--- modules/common/materials/men_alrike.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_alrike.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import DiffuseSpecMapping from DiffuseSpecMapping.program
+
 
 material men_alrike/base : DiffuseSpecMapping
 {

Modified: modules/common/materials/men_human_female_armor_garethplatte.mesh.material
===================================================================
--- modules/common/materials/men_human_female_armor_garethplatte.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_armor_garethplatte.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec from Basic_Normalmapping_Spec.material
+
 
 material men_human_female_armor_garethplatte : Basic_Normalmapping_Spec
 {

Modified: modules/common/materials/men_human_female_armor_kroetenhaut.mesh.material
===================================================================
--- modules/common/materials/men_human_female_armor_kroetenhaut.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_armor_kroetenhaut.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec_mirrored from Basic_Normalmapping_Spec.material
+
 
 material men_human_female_armor_kroetenhaut : Basic_Normalmapping_Spec_mirrored
 {

Modified: modules/common/materials/men_human_female_backpack_leather_01.material
===================================================================
--- modules/common/materials/men_human_female_backpack_leather_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_backpack_leather_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping from Basic_Normalmapping.material
+
 
 material men_human_female_backpack_leather_01: Basic_Normalmapping
 {

Modified: modules/common/materials/men_human_female_cloth_short.mesh.material
===================================================================
--- modules/common/materials/men_human_female_cloth_short.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_cloth_short.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec from Basic_Normalmapping_Spec.material
+
 material men_human_female_cloth_short : Basic_Normalmapping_Spec
 {
 set_texture_alias DiffuseMap obj_shortsleeve02_diffuse.png

Modified: modules/common/materials/men_human_female_feet_boots01.mesh.material
===================================================================
--- modules/common/materials/men_human_female_feet_boots01.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_feet_boots01.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_mirrored from Basic_Normalmapping.material
+
 
 material men_human_female_feet_boots_01 : Basic_Normalmapping_mirrored
 {

Modified: modules/common/materials/men_human_female_hair_long01_normal.mesh.material
===================================================================
--- modules/common/materials/men_human_female_hair_long01_normal.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_hair_long01_normal.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec_Hair from Basic_Normalmapping_Spec.material
+
 
 material men_human_female_hair_long_01_normal : Basic_Normalmapping_Spec_Hair
 {

Modified: modules/common/materials/men_human_female_hand_nude.mesh.material
===================================================================
--- modules/common/materials/men_human_female_hand_nude.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_hand_nude.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,6 @@
+import Skin_Normalmapping from Skin_Normalmapping.material
+import Skin_Normalmapping_mirrored from Skin_Normalmapping.material
+
 
 material men_human_female_hand_nude : Skin_Normalmapping
 {

Modified: modules/common/materials/men_human_female_head02.mesh.material
===================================================================
--- modules/common/materials/men_human_female_head02.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_head02.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Face_Normalmapping_mirrored from Skin_Normalmapping.material
+
 
 material men_human_female_head_02 : Face_Normalmapping_mirrored
 {

Modified: modules/common/materials/men_human_female_leg_pants01_long.mesh.material
===================================================================
--- modules/common/materials/men_human_female_leg_pants01_long.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_leg_pants01_long.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec_mirrored from Basic_Normalmapping_Spec.material
+
 
 material men_human_female_legs_pants_01_long : Basic_Normalmapping_Spec_mirrored
 {

Modified: modules/common/materials/men_human_female_legs_underpants.mesh.material
===================================================================
--- modules/common/materials/men_human_female_legs_underpants.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_legs_underpants.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping from Basic_Normalmapping.material
+
 
 material men_human_female_legs_underpants : Basic_Normalmapping
 {

Modified: modules/common/materials/men_human_female_torso.mesh.material
===================================================================
--- modules/common/materials/men_human_female_torso.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_female_torso.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,6 @@
+import Skin_Normalmapping from Skin_Normalmapping.material
+import Skin_Normalmapping_mirrored from Skin_Normalmapping.material
+
 material men_human_female_torso : Skin_Normalmapping
 {
 set_texture_alias DiffuseMap men_human_female_diffuse.png

Modified: modules/common/materials/men_human_male_head_01.mesh.material
===================================================================
--- modules/common/materials/men_human_male_head_01.mesh.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/men_human_male_head_01.mesh.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Face_Normalmapping_mirrored from Skin_Normalmapping.material
+
 
 material men_human_male_head_01 : Face_Normalmapping_mirrored
 {

Modified: modules/common/materials/nat_baum_01.material
===================================================================
--- modules/common/materials/nat_baum_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/nat_baum_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,5 +1,7 @@
+import windy_grass from WindyGrass.program
 
 
+
 material nat_baum_01/stamm
 {
 	technique

Modified: modules/common/materials/nat_baum_03.material
===================================================================
--- modules/common/materials/nat_baum_03.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/nat_baum_03.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 
 
 material nat_baum_03/stamm

Modified: modules/common/materials/nat_baum_mittel_02.material
===================================================================
--- modules/common/materials/nat_baum_mittel_02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/nat_baum_mittel_02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 material nat_baum_mittel_02 : windy_grass
 {
 	lod_distances 75.0

Modified: modules/common/materials/nat_baum_shadix_01.material
===================================================================
--- modules/common/materials/nat_baum_shadix_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/nat_baum_shadix_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 material nat_baum_shadix_01/baumblatt : windy_grass
 {
 	lod_distances 75.0

Modified: modules/common/materials/nat_busch_klein.material
===================================================================
--- modules/common/materials/nat_busch_klein.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/nat_busch_klein.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 material nat_busch_klein : windy_grass
 {
 	lod_distances 50.0

Modified: modules/common/materials/obj_Shortsleeve.material
===================================================================
--- modules/common/materials/obj_Shortsleeve.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/obj_Shortsleeve.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec from Basic_Normalmapping_Spec.material
+
 
 material obj_Shortsleeve : Basic_Normalmapping_Spec
 {

Modified: modules/common/materials/schreibtisch.material
===================================================================
--- modules/common/materials/schreibtisch.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/schreibtisch.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 material schreibtisch: Basic_Vertex_Shader
 {
 set_texture_alias diffuse schreibtisch.dds 

Modified: modules/common/materials/stuhl.material
===================================================================
--- modules/common/materials/stuhl.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/stuhl.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 material stuhl: Basic_Vertex_Shader
 {
 set_texture_alias diffuse stuhl.dds 

Modified: modules/common/materials/ver_truhe_gross01.material
===================================================================
--- modules/common/materials/ver_truhe_gross01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/ver_truhe_gross01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 material ver_truhe_gross01: Basic_Vertex_Shader
 {
 set_texture_alias diffuse ver_truhe_gross.dds 

Modified: modules/common/materials/waf_kurzschwert_01.material
===================================================================
--- modules/common/materials/waf_kurzschwert_01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/waf_kurzschwert_01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material waf_kurzschwert_01 : Basic_Vertex_Shader
 {

Modified: modules/common/materials/wasstertest.material
===================================================================
--- modules/common/materials/wasstertest.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/common/materials/wasstertest.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Wassershader from Wassershader.program
+
 
 material wasstertest : Wassershader
 {

Modified: modules/intro/materials/wueste.material
===================================================================
--- modules/intro/materials/wueste.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/intro/materials/wueste.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Splatting3NoDetailVertexPhong from Splatting3NoDetailVertexPhong.program
+
 material wuesten_alphamap : Splatting3NoDetailVertexPhong
 {
 	receive_shadows on

Modified: modules/kanalisation/maps/kanalisation.material
===================================================================
--- modules/kanalisation/maps/kanalisation.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/kanalisation/maps/kanalisation.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,6 @@
+import Basic_Normalmapping_kana from Normalmapping.program
+import Wassershader_Kanalisation from Wassershader_Kanalisation.program
+
 material matschboden/SOLID/TEX/boden_kana.png: Basic_Normalmapping_kana
 {
 set_texture_alias DiffuseMap boden_kana.png

Modified: modules/kanalisation/materials/Wassershader_Kanalisation.program
===================================================================
--- modules/kanalisation/materials/Wassershader_Kanalisation.program	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/kanalisation/materials/Wassershader_Kanalisation.program	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Wassershader from Wassershader.program
+
 material Wassershader_Kanalisation : Wassershader
 {	
     technique hlsl

Modified: modules/modules.cfg
===================================================================
--- modules/modules.cfg	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/modules.cfg	2008-11-19 22:04:20 UTC (rev 4593)
@@ -16,4 +16,4 @@
 module=persistenztest
 module=teichtest
 
-module=editortest
+#module=editortest

Modified: modules/ruchin/maptest.material
===================================================================
--- modules/ruchin/maptest.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/maptest.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import nat_wasser_see from nat_wasser_see.program
+
 material SOLID/TEX/boden_02.png
 {
 	technique

Modified: modules/ruchin/materials/maptest.material
===================================================================
--- modules/ruchin/materials/maptest.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/maptest.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,6 @@
+import Splatting5 from Splatting5.program
+import nat_wasser_see from nat_wasser_see.program
+
 material SOLID/TEX/alpha.dds : Splatting5
 {
 	technique hlsl

Modified: modules/ruchin/materials/nat_TD2Fluss.material
===================================================================
--- modules/ruchin/materials/nat_TD2Fluss.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/nat_TD2Fluss.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import nat_wasser_see from nat_wasser_see.program
+
 material nat_TD2Fluss : nat_wasser_see
 {
     technique hlsl

Modified: modules/ruchin/materials/nat_nadelbaum_02.material
===================================================================
--- modules/ruchin/materials/nat_nadelbaum_02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/nat_nadelbaum_02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 
 material nat_nadelbaum_02/trunk
 {

Modified: modules/ruchin/materials/nat_nadelbaum_03_lod.material
===================================================================
--- modules/ruchin/materials/nat_nadelbaum_03_lod.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/nat_nadelbaum_03_lod.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import billboard_lod from OrientBillboard.program
+
 material nat_nadelbaum_03_lod : billboard_lod
 {
     technique hlsl

Modified: modules/ruchin/materials/nat_nadelbaum_lod.material
===================================================================
--- modules/ruchin/materials/nat_nadelbaum_lod.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/nat_nadelbaum_lod.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import billboard_lod from OrientBillboard.program
+
 material nat_nadelbaum_lod : billboard_lod
 {
     technique hlsl

Modified: modules/ruchin/materials/nat_wasser_techdemo2.material
===================================================================
--- modules/ruchin/materials/nat_wasser_techdemo2.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/nat_wasser_techdemo2.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import nat_wasser_see from nat_wasser_see.program
+
 material nat_wasser_techdemo2 : nat_wasser_see
 {
     technique hlsl

Modified: modules/ruchin/materials/statue02.material
===================================================================
--- modules/ruchin/materials/statue02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/materials/statue02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec from Basic_Normalmapping_Spec.material
+
 material Statue_02 : Basic_Normalmapping_Spec
 {
 	set_texture_alias DiffuseMap Statue_02_diffuse.png

Modified: modules/ruchin/models/Ruchin_ground.material
===================================================================
--- modules/ruchin/models/Ruchin_ground.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Ruchin_ground.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import TerrainVColorBlending from TerrainVColorBlending.material
+
 
 material Ruchin_ground: TerrainVColorBlending
 {

Modified: modules/ruchin/models/Ruchin_inside.material
===================================================================
--- modules/ruchin/models/Ruchin_inside.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Ruchin_inside.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,6 @@
+import Basic_Vertex_Shader_Alpha from Basic_Vertex_Shader_Alpha.material
+import Basic_Vertex_Shader_noDirectional from Basic_Vertex_Shader.program
+
 
 material Ruchin_inside_base : Basic_Vertex_Shader_noDirectional
 {

Modified: modules/ruchin/models/Ruchin_skydome.material
===================================================================
--- modules/ruchin/models/Ruchin_skydome.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Ruchin_skydome.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Skydome_shader from Skydome.material
+
 
 material Ruchin_skydome : Skydome_shader
 {

Modified: modules/ruchin/models/Ruchintest.material
===================================================================
--- modules/ruchin/models/Ruchintest.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Ruchintest.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,9 @@
+import Architecture_Normalmapping from Architecture_Normalmapping.material
+import Basic_Normalmapping from Basic_Normalmapping.material
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+import Basic_Vertex_Shader_AO from Basic_Vertex_Shader_AO.material
+import Basic_Vertex_Shader_Alpha from Basic_Vertex_Shader_Alpha.material
+
 
 material Ruchin_l/base : Basic_Vertex_Shader
 {

Modified: modules/ruchin/models/Stadtmauer.material
===================================================================
--- modules/ruchin/models/Stadtmauer.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Stadtmauer.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Architecture_Normalmapping from Architecture_Normalmapping.material
+
 
 material Ruchin_Stadtmauer : Architecture_Normalmapping
 {

Modified: modules/ruchin/models/Stadtwache.material
===================================================================
--- modules/ruchin/models/Stadtwache.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Stadtwache.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,8 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+import Ruchin/base from Ruchintest.material
+import Ruchin_Stadtmauer/Dach from Stadtmauer.material
+import Ruchin_Stadtmauer/Wand from __unkown_material_file__
+
 material Stadtwache/Wand : Ruchin_Stadtmauer/Wand
 {
 

Modified: modules/ruchin/models/Statue01.material
===================================================================
--- modules/ruchin/models/Statue01.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/Statue01.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Normalmapping_Spec from Basic_Normalmapping_Spec.material
+
 material Statue_01 : Basic_Normalmapping_Spec
 {
 			set_texture_alias NormalMap Ingrimiane_normal.png

Modified: modules/ruchin/models/fass.material
===================================================================
--- modules/ruchin/models/fass.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/fass.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_fass : Basic_Vertex_Shader
 {

Modified: modules/ruchin/models/kiste.material
===================================================================
--- modules/ruchin/models/kiste.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/kiste.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader from Basic_Vertex_Shader.program
+
 
 material arc_kiste : Basic_Vertex_Shader
 {

Modified: modules/ruchin/models/nat_grasplane_02.material
===================================================================
--- modules/ruchin/models/nat_grasplane_02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/nat_grasplane_02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Basic_Vertex_Shader_Sprite from Basic_Vertex_Shader.program
+
 
 material nat_grasplanes_02: Basic_Vertex_Shader_Sprite
 {

Modified: modules/ruchin/models/ruchin_terrain.material
===================================================================
--- modules/ruchin/models/ruchin_terrain.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/ruchin_terrain.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import TerrainVColorBlending from TerrainVColorBlending.material
+
 
 material ruchin_terrain: TerrainVColorBlending
 {

Modified: modules/ruchin/models/temple_outside.material
===================================================================
--- modules/ruchin/models/temple_outside.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/ruchin/models/temple_outside.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Architecture_Normalmapping from Architecture_Normalmapping.material
+
 
 material temple_outside: Architecture_Normalmapping
 {

Modified: modules/techdemo/maps/techdemo_terrain.rlmap.xml
===================================================================
--- modules/techdemo/maps/techdemo_terrain.rlmap.xml	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo/maps/techdemo_terrain.rlmap.xml	2008-11-19 22:04:20 UTC (rev 4593)
@@ -30569,7 +30569,7 @@
       &lt;staticgeometrygroup id=&quot;0&quot; /&gt;
       &lt;physicsproxy type=&quot;none&quot; /&gt;
     &lt;/entity&gt;
-		&lt;gameobject class=&quot;hero&quot; id=&quot;1&quot; state=&quot;IN_SCENE&quot;&gt;
+		&lt;gameobject class=&quot;mckhero&quot; id=&quot;1&quot; state=&quot;IN_SCENE&quot;&gt;
 			&lt;position x=&quot;0&quot; y=&quot;0.7&quot; z=&quot;0&quot;/&gt;
 		&lt;/gameobject&gt;
 		&lt;gameobject class=&quot;ArnolfGrossschaedel&quot; state=&quot;IN_SCENE&quot;&gt;

Modified: modules/techdemo2/materials/Techdemo2.material
===================================================================
--- modules/techdemo2/materials/Techdemo2.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/Techdemo2.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Splatting5 from Splatting5.program
+
 material Techdemo2map1 : Splatting5
 {
 	technique hlsl

Modified: modules/techdemo2/materials/Techdemo2map2.material
===================================================================
--- modules/techdemo2/materials/Techdemo2map2.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/Techdemo2map2.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Splatting5 from Splatting5.program
+
 material Techdemo2_map2 : Splatting5
 {
 	technique hlsl

Modified: modules/techdemo2/materials/men_druide.material
===================================================================
--- modules/techdemo2/materials/men_druide.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/men_druide.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import DiffuseSpecMapping from DiffuseSpecMapping.program
+
 
 material men_druide/base : DiffuseSpecMapping
 {

Modified: modules/techdemo2/materials/nat_TD2Fluss.material
===================================================================
--- modules/techdemo2/materials/nat_TD2Fluss.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_TD2Fluss.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import nat_wasser_see from nat_wasser_see.program
+
 material nat_TD2Fluss : Wassershader
 {
 set_texture_alias Cubemap desert07.dds

Modified: modules/techdemo2/materials/nat_baum_shadix_03.material
===================================================================
--- modules/techdemo2/materials/nat_baum_shadix_03.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_baum_shadix_03.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 
 material nat_baum_shadix_03/baumblatt3 : windy_grass
 {

Modified: modules/techdemo2/materials/nat_nadelbaum_02.material
===================================================================
--- modules/techdemo2/materials/nat_nadelbaum_02.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_nadelbaum_02.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import windy_grass from WindyGrass.program
+
 
 material nat_nadelbaum_02/trunk
 {

Modified: modules/techdemo2/materials/nat_nadelbaum_03_lod.material
===================================================================
--- modules/techdemo2/materials/nat_nadelbaum_03_lod.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_nadelbaum_03_lod.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import billboard_lod from OrientBillboard.program
+
 material nat_nadelbaum_03_lod : billboard_lod
 {
     technique hlsl

Modified: modules/techdemo2/materials/nat_nadelbaum_lod.material
===================================================================
--- modules/techdemo2/materials/nat_nadelbaum_lod.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_nadelbaum_lod.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import billboard_lod from OrientBillboard.program
+
 material nat_nadelbaum_lod : billboard_lod
 {
     technique hlsl

Modified: modules/techdemo2/materials/nat_wasser_techdemo2.material
===================================================================
--- modules/techdemo2/materials/nat_wasser_techdemo2.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/materials/nat_wasser_techdemo2.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import nat_wasser_see from nat_wasser_see.program
+
 material nat_wasser_techdemo2 : nat_wasser_see
 {
     technique hlsl

Modified: modules/techdemo2/scripts/maps/techdemo2map1.rb
===================================================================
--- modules/techdemo2/scripts/maps/techdemo2map1.rb	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/techdemo2/scripts/maps/techdemo2map1.rb	2008-11-19 22:04:20 UTC (rev 4593)
@@ -57,7 +57,7 @@
 $SCRIPT.log(&quot; Loopen&quot;);
 techdemoDorf.getControlledObject().setLooping( true );
 $SCRIPT.log(&quot; Laden&quot;);
-techdemoDorf.getControlledObject().load();
+#techdemoDorf.getControlledObject().load();
 $SCRIPT.log(&quot;Dorf-Thema fertig&quot;);
 
 $World.setFog( World::FOG_EXP, [0.1,0.08,0.01,0.1], 0.00503, 10.0, 100.0);
@@ -86,7 +86,7 @@
 $SCRIPT.log(&quot;Weiteres geladen&quot;);
 
 #Musik als letztes Starten
-techdemoDorf.getControlledObject().play();
+#techdemoDorf.getControlledObject().play();
 
 # Tagebucheintrag
 entry = $tagebuchtexte['dorf1']

Modified: modules/teichtest/materials/teichtest.material
===================================================================
--- modules/teichtest/materials/teichtest.material	2008-11-19 21:00:18 UTC (rev 4592)
+++ modules/teichtest/materials/teichtest.material	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,3 +1,5 @@
+import Wassershader_Kanalisation from Wassershader_Kanalisation.program
+
 material wasser/SOLID/TEX/Untitled
 {
 	technique

Modified: rl/trunk/engine/core/include/ListenerMovable.h
===================================================================
--- rl/trunk/engine/core/include/ListenerMovable.h	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/include/ListenerMovable.h	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,94 +1,98 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-
-#ifndef __ListenerMovable_H__
-#define __ListenerMovable_H__
-
-#include &quot;CorePrerequisites.h&quot;
-
-
-namespace rl {
-    
-   /** Diese Klasse dient der Interaktion mit Ogre3d und
-    * kapselt den H&#246;rer.
-    * @author Josch
-    * @date 06-29-2005
-    * @version 1.0
-    * @version 2.0
-    */
-    class _RlCoreExport ListenerMovable : public Ogre::MovableObject
-    {
-    public:
-        /// Konstruktor
-        ListenerMovable(const Ogre::String&amp; name);
-        /// Destruktor
-        virtual ~ListenerMovable() = 0;
-        /// Name zur&#252;ckgeben
-        virtual const Ogre::String&amp; getName() const;
-        /// Moveable-Typ
-        virtual const Ogre::String&amp; getMovableType() const;
-        /// Kamera informieren
-        virtual void _notifyCurrentCamera(Ogre::Camera *cam);
-        /// Unsere Bounding-Box
-        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
-        /// Bound-Radius
-        virtual Ogre::Real getBoundingRadius() const;
-        /// Rendern
-        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
-    
-        /// Gibt die Hauptlautstaerke zurueck
-        virtual const int getGain() const;
-        /// Setzt die Hauptlautstaerke.
-        virtual void setGain(const int direction);
-        /// Gibt die eingestellte Position der Soundquelle zurueck
-        virtual const Ogre::Vector3 getPosition() const;
-        /// Setzt die Position der Soundquelle.
-        virtual void setPosition(const Ogre::Vector3&amp; direction);
-        /// Gibt die Richtung der Soundquelle zurueck.
-        virtual const Ogre::Quaternion getOrientation() const;
-        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
-        virtual const Ogre::Vector3 getVelocity() const;
-        /// Setzt die Richtung der Soundquelle.
-        virtual void setOrientation(const Ogre::Quaternion &amp;orientation);
-        /// Setzt die Geschwindigkeit der Soundquelle.
-        virtual void setVelocity(const Ogre::Vector3&amp;);
-        
-        /// Ist dies der aktuelle Listener
-        bool isActive() const;
-		void setActive(bool active);
-        
-    protected:
-         /// Shared class-level name for Movable type
-        static Ogre::String msMovableType;
-        /// Alignment-Box: gebraucht von MovableObject.
-        static Ogre::AxisAlignedBox msAABox;
-        /// Position
-        Ogre::Vector3 mPosition;
-        /// Geschwindigkeit
-        Ogre::Vector3 mVelocity;
-        /// Orientierung
-        Ogre::Quaternion mOrientation;
-        /// Hauptlautst&#228;rke
-        int mGain;
-
-    private:
-        /// Der Name des ListenerMovable
-        Ogre::String mName;
-		bool mActive;
-    };
-
-}
-#endif
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+* 
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+
+#ifndef __ListenerMovable_H__
+#define __ListenerMovable_H__
+
+#include &quot;CorePrerequisites.h&quot;
+
+
+namespace rl {
+    
+   /** Diese Klasse dient der Interaktion mit Ogre3d und
+    * kapselt den H&#246;rer.
+    * @author Josch
+    * @date 06-29-2005
+    * @version 1.0
+    * @version 2.0
+    */
+    class _RlCoreExport ListenerMovable : public Ogre::MovableObject
+    {
+    public:
+        /// Konstruktor
+        ListenerMovable(const Ogre::String&amp; name);
+        /// Destruktor
+        virtual ~ListenerMovable() = 0;
+        /// Name zur&#252;ckgeben
+        virtual const Ogre::String&amp; getName() const;
+        /// Moveable-Typ
+        virtual const Ogre::String&amp; getMovableType() const;
+        /// Kamera informieren
+        virtual void _notifyCurrentCamera(Ogre::Camera *cam);
+        /// Unsere Bounding-Box
+        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
+        /// Bound-Radius
+        virtual Ogre::Real getBoundingRadius() const;
+        /// Rendern
+        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
+    
+        /// Gibt die Hauptlautstaerke zurueck
+        virtual const int getGain() const;
+        /// Setzt die Hauptlautstaerke.
+        virtual void setGain(const int direction);
+        /// Gibt die eingestellte Position der Soundquelle zurueck
+        virtual const Ogre::Vector3 getPosition() const;
+        /// Setzt die Position der Soundquelle.
+        virtual void setPosition(const Ogre::Vector3&amp; direction);
+        /// Gibt die Richtung der Soundquelle zurueck.
+        virtual const Ogre::Quaternion getOrientation() const;
+        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
+        virtual const Ogre::Vector3 getVelocity() const;
+        /// Setzt die Richtung der Soundquelle.
+        virtual void setOrientation(const Ogre::Quaternion &amp;orientation);
+        /// Setzt die Geschwindigkeit der Soundquelle.
+        virtual void setVelocity(const Ogre::Vector3&amp;);
+        
+        /// Ist dies der aktuelle Listener
+        bool isActive() const;
+		void setActive(bool active);
+
+		/// From MovableObject
+		virtual void visitRenderables(Ogre::Renderable::Visitor* visitor, 
+			bool debugRenderables = false);
+        
+    protected:
+         /// Shared class-level name for Movable type
+        static Ogre::String msMovableType;
+        /// Alignment-Box: gebraucht von MovableObject.
+        static Ogre::AxisAlignedBox msAABox;
+        /// Position
+        Ogre::Vector3 mPosition;
+        /// Geschwindigkeit
+        Ogre::Vector3 mVelocity;
+        /// Orientierung
+        Ogre::Quaternion mOrientation;
+        /// Hauptlautst&#228;rke
+        int mGain;
+
+    private:
+        /// Der Name des ListenerMovable
+        Ogre::String mName;
+		bool mActive;
+    };
+
+}
+#endif

Modified: rl/trunk/engine/core/include/MovableText.h
===================================================================
--- rl/trunk/engine/core/include/MovableText.h	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/include/MovableText.h	2008-11-19 22:04:20 UTC (rev 4593)
@@ -63,6 +63,7 @@
         const Ogre::String&amp; getMovableType(void) const { return msType; }
         Ogre::Real getBoundingRadius(void) const {return mRadius;}
         Ogre::Real getSquaredViewDepth(const Ogre::Camera* cam) const { return 0; }
+		void visitRenderables(Ogre::Renderable::Visitor* visitor,  bool debugRenderables = false);
  
         // from renderable
         void getRenderOperation(Ogre::RenderOperation &amp;op);

Modified: rl/trunk/engine/core/include/Sound.h
===================================================================
--- rl/trunk/engine/core/include/Sound.h	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/include/Sound.h	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,163 +1,167 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-
-#ifndef __Sound_H__
-#define __Sound_H__
-
-#include &quot;CorePrerequisites.h&quot;
-#include &lt;set&gt;
-
-#include &quot;Exception.h&quot;
-#include &quot;EventCaster.h&quot;
-#include &quot;SoundEvents.h&quot;
-#include &quot;SoundResource.h&quot;
-
-namespace rl {
-
-    class SoundDriver;
-
-   /** Diese Klasse dient der Interaktion mit dem jeweiligen Soundsystem
-    * ein Objekt stellt eine einzelne Sounddatei oder einen Stream dar
-    * @author Josch
-    * @date 06-29-2005
-    * @version 1.0
-    * @version 2.0
-    */
-    class _RlCoreExport Sound : public Ogre::MovableObject, 
-        public EventCaster&lt;SoundEvent&gt;, public EventSource
-    {
-    public:
-        // Einige Standardwerte f&#195;&#188;r Soundpriorit&#195;&#164;ten.
-        enum SOUND_PRIORITY {
-            PRIO_SPEECH = 30,
-            PRIO_MUSIC = 75,
-            PRIO_SFX_ENVIRONMENT = 128,
-            PRIO_SFX_OTHER = 175,
-            PRIO_OTHER = 220
-        };
-
-        /// Konstruktor
-        Sound(const SoundResourcePtr&amp; soundres, SoundDriver* creator);
-        /// Destruktor
-        virtual ~Sound();
-          
-        /// Laedt den Sound.
-        virtual void load() throw (RuntimeException) = 0;
-        /// Entlaedt den Sound.
-        virtual void unload() throw (RuntimeException) = 0;
-
-        // SoundResource zurueckgeben.
-        const SoundResourcePtr&amp; getSoundResource() const;
-        // Wollen wir 3D?
-        bool is3d() const;
-        // Setzen des 3D-Flags.
-        void set3d(bool is3d);
-        // Sind wir gueltig
-        virtual bool isValid() const throw (RuntimeException) = 0;
-        
-        // Sollen der Sound wiederholt werden?
-        bool isLooping() const;
-        // Setzen des Loop-Flags.
-        void setLooping(bool looping);
-
-        virtual float getLength() const = 0;
-
-        /// Unsere Bounding-Box
-        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
-        /// Bound-Radius
-        virtual Ogre::Real getBoundingRadius() const;
-        /// Rendern
-        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
-
-
-        /// Gibt die eingestellte Position der Soundquelle zurueck
-        virtual const Ogre::Vector3 getPosition() const = 0;
-        /// Setzt die Position der Soundquelle.
-        virtual void setPosition(const Ogre::Vector3&amp; direction) = 0;
-        /// Gibt die eingestellte relative Lautstaerke der Soundquelle zurueck (0.0 ... 1.0)
-	    virtual const Ogre::Real getVolume() const = 0; 
-        /// Setzt die relative Lautstaerke der Soundquelle (0.0 .. 1.0).
-	    virtual void setVolume(const Ogre::Real gain) = 0;
-        /// Gibt die Richtung der Soundquelle zurueck.
-        virtual const Ogre::Quaternion getDirection() const = 0;
-        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
-        virtual const Ogre::Vector3 getVelocity() const = 0;
-        /// Setzt die Richtung der Soundquelle.
-        virtual void setDirection(const Ogre::Quaternion&amp;) = 0;
-        /// Setzt die Geschwindigkeit der Soundquelle.
-        virtual void setVelocity(const Ogre::Vector3&amp;) = 0;
-	    /// Setzt die Entfernung, ab der ein 3D-Sound leiser wird
-	    virtual void setRolloffStartDistance(const Ogre::Real&amp;);
-	    virtual const Ogre::Real getRolloffStartDistance() const;
-	    /// Setzt die Entfernung, ab der ein 3D-Sound nicht mehr leiser wird
-	    virtual void setRolloffEndDistance(const Ogre::Real&amp;);
-	    virtual const Ogre::Real getRolloffEndDistance() const;
-        // Sets the priority of this sound
-        virtual void setPriority(const int priority) = 0;
-        // Gets the priority of this sound
-        virtual const int getPriority() const = 0;
-
-        /// Spielt den Sound ab.
-        virtual void play(bool destroyWhenDone=false) = 0;
-        /// Pausiert den Sound.
-        virtual void pause(bool pausing) = 0;
-        /// Ist der Sound pausiert?
-        virtual bool isPaused() = 0;
-        /// Stoppt den Sound.
-        virtual void stop() = 0;
-        /// Zurueck auf Anfang.
-    //        virtual void rewind() throw (RuntimeException) = 0;
-        /// Laeuft der Sound noch
-        virtual const bool isPlaying() const = 0;
-
-    protected:
-        SoundDriver* mCreator;
-
-        /// Die Lautstaerke
-	    Ogre::Real mVolume;
-        /// Die Position
-        Ogre::Vector3 mPosition;
-        /// Die Richtung
-        Ogre::Quaternion mDirection;
-        /// Die Geschwindigkeit
-        Ogre::Vector3 mVelocity;
-        /// The priority of this sound
-        int mPriority;
-
-	    Ogre::Real mRolloffStartDistance;
-	    Ogre::Real mRolloffEndDistance;
-
-    private:
-        /// Shared class-level name for Movable type
-        static Ogre::AxisAlignedBox msAABox;
-
-        /// Der Soundresource, auf den wir verweisen.
-        SoundResourcePtr mSoundResource;
-
-        // Damit die Timings alle 0.5 sek. abgeschickt werden.
-        int mTicks;
-        // Ob dieser Sound 3D sein soll.
-        bool mIs3d;
-        // Ob dieser Sound loopen soll.
-        bool mIsLooping;
-        
-    }; 
-
-
-    typedef std::set&lt;Sound*&gt; SoundSet;
-
-}
-#endif
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+* 
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+
+#ifndef __Sound_H__
+#define __Sound_H__
+
+#include &quot;CorePrerequisites.h&quot;
+#include &lt;set&gt;
+
+#include &quot;Exception.h&quot;
+#include &quot;EventCaster.h&quot;
+#include &quot;SoundEvents.h&quot;
+#include &quot;SoundResource.h&quot;
+
+namespace rl {
+
+    class SoundDriver;
+
+   /** Diese Klasse dient der Interaktion mit dem jeweiligen Soundsystem
+    * ein Objekt stellt eine einzelne Sounddatei oder einen Stream dar
+    * @author Josch
+    * @date 06-29-2005
+    * @version 1.0
+    * @version 2.0
+    */
+    class _RlCoreExport Sound : public Ogre::MovableObject, 
+        public EventCaster&lt;SoundEvent&gt;, public EventSource
+    {
+    public:
+        // Einige Standardwerte f&#195;&#188;r Soundpriorit&#195;&#164;ten.
+        enum SOUND_PRIORITY {
+            PRIO_SPEECH = 30,
+            PRIO_MUSIC = 75,
+            PRIO_SFX_ENVIRONMENT = 128,
+            PRIO_SFX_OTHER = 175,
+            PRIO_OTHER = 220
+        };
+
+        /// Konstruktor
+        Sound(const SoundResourcePtr&amp; soundres, SoundDriver* creator);
+        /// Destruktor
+        virtual ~Sound();
+          
+        /// Laedt den Sound.
+        virtual void load() throw (RuntimeException) = 0;
+        /// Entlaedt den Sound.
+        virtual void unload() throw (RuntimeException) = 0;
+
+        // SoundResource zurueckgeben.
+        const SoundResourcePtr&amp; getSoundResource() const;
+        // Wollen wir 3D?
+        bool is3d() const;
+        // Setzen des 3D-Flags.
+        void set3d(bool is3d);
+        // Sind wir gueltig
+        virtual bool isValid() const throw (RuntimeException) = 0;
+        
+        // Sollen der Sound wiederholt werden?
+        bool isLooping() const;
+        // Setzen des Loop-Flags.
+        void setLooping(bool looping);
+
+        virtual float getLength() const = 0;
+
+        /// Unsere Bounding-Box
+        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
+        /// Bound-Radius
+        virtual Ogre::Real getBoundingRadius() const;
+        /// Rendern
+        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
+
+
+        /// Gibt die eingestellte Position der Soundquelle zurueck
+        virtual const Ogre::Vector3 getPosition() const = 0;
+        /// Setzt die Position der Soundquelle.
+        virtual void setPosition(const Ogre::Vector3&amp; direction) = 0;
+        /// Gibt die eingestellte relative Lautstaerke der Soundquelle zurueck (0.0 ... 1.0)
+	    virtual const Ogre::Real getVolume() const = 0; 
+        /// Setzt die relative Lautstaerke der Soundquelle (0.0 .. 1.0).
+	    virtual void setVolume(const Ogre::Real gain) = 0;
+        /// Gibt die Richtung der Soundquelle zurueck.
+        virtual const Ogre::Quaternion getDirection() const = 0;
+        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
+        virtual const Ogre::Vector3 getVelocity() const = 0;
+        /// Setzt die Richtung der Soundquelle.
+        virtual void setDirection(const Ogre::Quaternion&amp;) = 0;
+        /// Setzt die Geschwindigkeit der Soundquelle.
+        virtual void setVelocity(const Ogre::Vector3&amp;) = 0;
+	    /// Setzt die Entfernung, ab der ein 3D-Sound leiser wird
+	    virtual void setRolloffStartDistance(const Ogre::Real&amp;);
+	    virtual const Ogre::Real getRolloffStartDistance() const;
+	    /// Setzt die Entfernung, ab der ein 3D-Sound nicht mehr leiser wird
+	    virtual void setRolloffEndDistance(const Ogre::Real&amp;);
+	    virtual const Ogre::Real getRolloffEndDistance() const;
+        // Sets the priority of this sound
+        virtual void setPriority(const int priority) = 0;
+        // Gets the priority of this sound
+        virtual const int getPriority() const = 0;
+
+        /// Spielt den Sound ab.
+        virtual void play(bool destroyWhenDone=false) = 0;
+        /// Pausiert den Sound.
+        virtual void pause(bool pausing) = 0;
+        /// Ist der Sound pausiert?
+        virtual bool isPaused() = 0;
+        /// Stoppt den Sound.
+        virtual void stop() = 0;
+        /// Zurueck auf Anfang.
+    //        virtual void rewind() throw (RuntimeException) = 0;
+        /// Laeuft der Sound noch
+        virtual const bool isPlaying() const = 0;
+
+	/// From MovableObject
+		virtual void visitRenderables(Ogre::Renderable::Visitor* visitor, 
+			bool debugRenderables = false);
+	
+	protected:
+        SoundDriver* mCreator;
+
+        /// Die Lautstaerke
+	    Ogre::Real mVolume;
+        /// Die Position
+        Ogre::Vector3 mPosition;
+        /// Die Richtung
+        Ogre::Quaternion mDirection;
+        /// Die Geschwindigkeit
+        Ogre::Vector3 mVelocity;
+        /// The priority of this sound
+        int mPriority;
+
+	    Ogre::Real mRolloffStartDistance;
+	    Ogre::Real mRolloffEndDistance;
+
+    private:
+        /// Shared class-level name for Movable type
+        static Ogre::AxisAlignedBox msAABox;
+
+        /// Der Soundresource, auf den wir verweisen.
+        SoundResourcePtr mSoundResource;
+
+        // Damit die Timings alle 0.5 sek. abgeschickt werden.
+        int mTicks;
+        // Ob dieser Sound 3D sein soll.
+        bool mIs3d;
+        // Ob dieser Sound loopen soll.
+        bool mIsLooping;
+        
+    }; 
+
+
+    typedef std::set&lt;Sound*&gt; SoundSet;
+
+}
+#endif

Modified: rl/trunk/engine/core/include/SoundResource.h
===================================================================
--- rl/trunk/engine/core/include/SoundResource.h	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/include/SoundResource.h	2008-11-19 22:04:20 UTC (rev 4593)
@@ -33,10 +33,6 @@
  */
 class _RlCoreExport SoundResource: public Ogre::Resource
 {
-    private:
-        /// Unsere Daten von Ogres ResourceManager.
-        Ogre::DataStreamPtr mDataStream;
-                       
     public:
         /// Der Standardkonstruktor
         SoundResource(Ogre::ResourceManager* creator, const Ogre::String&amp; name, 
@@ -44,10 +40,8 @@
             Ogre::ManualResourceLoader* loader);
         /// Der Destruktor
         virtual ~SoundResource();
-        /// Den Datenstrom zur&#239;&#191;&#189;ckgeben
+        /// Den Datenstrom zurueckgeben
         const Ogre::DataStreamPtr &amp;getDataStream() const;
-        /// Groesse zurueckgeben.
-        int getSize() const;
 
     protected:
 		/// Laedt die Soundquelle.
@@ -57,6 +51,10 @@
 		/// Bestimmt die Groesse im Speicher (wird erst nach dem Laden aufgerufen)
 		virtual size_t calculateSize() const;        
         
+
+	private:
+        /// Unsere Daten von Ogres ResourceManager.
+        Ogre::DataStreamPtr mDataStream;
 };
 
 class _RlCoreExport SoundResourcePtr :

Modified: rl/trunk/engine/core/include/SoundStitching.h
===================================================================
--- rl/trunk/engine/core/include/SoundStitching.h	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/include/SoundStitching.h	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,178 +1,182 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-* 
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-
-#ifndef __SoundStitching_H__
-#define __SoundStitching_H__
-
-#include &quot;CorePrerequisites.h&quot;
-#include &lt;set&gt;
-
-#include &quot;Exception.h&quot;
-#include &quot;EventCaster.h&quot;
-#include &quot;SoundEvents.h&quot;
-#include &quot;SoundResource.h&quot;
-
-namespace rl {
-
-    class SoundDriver;
-
-    typedef std::map&lt;CeGuiString, SoundResourcePtr&gt; SoundCache;
-
-   /** Diese Klasse dient der Interaktion mit dem jeweiligen Soundsystem
-    * ein Objekt stellt eine einzelne Sounddatei oder einen Stream dar
-    * @author Josch
-    * @date 06-29-2005
-    * @version 1.0
-    * @version 2.0
-    */
-    class _RlCoreExport SoundStitching : public Ogre::MovableObject, 
-        public EventCaster&lt;SoundEvent&gt;, public EventSource
-    {
-    public:
-        // Einige Standardwerte f&#195;&#188;r Soundpriorit&#195;&#164;ten.
-        enum SOUND_PRIORITY {
-            PRIO_SPEECH = 30,
-            PRIO_MUSIC = 75,
-            PRIO_SFX_ENVIRONMENT = 128,
-            PRIO_SFX_OTHER = 175,
-            PRIO_OTHER = 220
-        };
-
-        /// Konstruktor
-        SoundStitching(unsigned int numSlots, const CeGuiString&amp; name, SoundDriver* creator);
-        /// Destruktor
-        virtual ~SoundStitching();
-          
-        /// Laedt den Sound.
-        virtual void load() throw (RuntimeException) = 0;
-        /// Entlaedt den Sound.
-        virtual void unload() throw (RuntimeException) = 0;
-
-        virtual float getLength() const;
-
-        // SoundResource zurueckgeben.
-        const SoundResourcePtr&amp; getSoundResource() const;
-        // Wollen wir 3D?
-        bool is3d() const;
-        // Setzen des 3D-Flags.
-        void set3d(bool is3d);
-        // Sind wir gueltig
-        virtual bool isValid() const throw (RuntimeException) = 0;
-        
-        // Sollen der Sound wiederholt werden?
-        bool isLooping() const;
-        // Setzen des Loop-Flags.
-        void setLooping(bool looping);
-
-        /// Unsere Bounding-Box
-        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
-        /// Bound-Radius
-        virtual Ogre::Real getBoundingRadius() const;
-        /// Rendern
-        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
-
-        /// Count of configured slots.
-        unsigned int getNumSlots();
-        /// Add a sound resource to the cache overwritting existing sound resource.
-        virtual void addSoundToCache(CeGuiString label, SoundResourcePtr sound);
-        /// Assign a sound recource to a slot.
-        virtual void putSoundIntoSlot(unsigned int, CeGuiString label) = 0;
-        /// Get the slot of the plaing sound.
-        virtual unsigned int getPlayingSlot() = 0;
-
-        /// Gibt die eingestellte Position der Soundquelle zurueck
-        virtual const Ogre::Vector3 getPosition() const = 0;
-        /// Setzt die Position der Soundquelle.
-        virtual void setPosition(const Ogre::Vector3&amp; direction) = 0;
-        /// Gibt die eingestellte relative Lautstaerke der Soundquelle zurueck (0.0 ... 1.0)
-	    virtual const Ogre::Real getVolume() const = 0; 
-        /// Setzt die relative Lautstaerke der Soundquelle (0.0 .. 1.0).
-	    virtual void setVolume(const Ogre::Real gain) = 0;
-        /// Gibt die Richtung der Soundquelle zurueck.
-        virtual const Ogre::Quaternion getDirection() const = 0;
-        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
-        virtual const Ogre::Vector3 getVelocity() const = 0;
-        /// Setzt die Richtung der Soundquelle.
-        virtual void setDirection(const Ogre::Quaternion&amp;) = 0;
-        /// Setzt die Geschwindigkeit der Soundquelle.
-        virtual void setVelocity(const Ogre::Vector3&amp;) = 0;
-	    /// Setzt die Entfernung, ab der ein 3D-Sound leiser wird
-	    virtual void setRolloffStartDistance(const Ogre::Real&amp;);
-	    virtual const Ogre::Real getRolloffStartDistance() const;
-	    /// Setzt die Entfernung, ab der ein 3D-Sound nicht mehr leiser wird
-	    virtual void setRolloffEndDistance(const Ogre::Real&amp;);
-	    virtual const Ogre::Real getRolloffEndDistance() const;
-        // Sets the priority of this sound
-        virtual void setPriority(const int priority) = 0;
-        // Gets the priority of this sound
-        virtual const int getPriority() const = 0;
-
-        /// Spielt den Sound ab.
-        virtual void play(bool destroyWhenDone=false) = 0;
-        /// Pausiert den Sound.
-        virtual void pause(bool pausing) = 0;
-        /// Ist der Sound pausiert?
-        virtual bool isPaused() = 0;
-        /// Stoppt den Sound.
-        virtual void stop() = 0;
-        /// Laeuft der Sound noch
-        virtual const bool isPlaying() const = 0;
-
-    protected:
-        SoundDriver* mCreator;
-
-        /// Die Lautstaerke
-	    Ogre::Real mVolume;
-        /// Die Position
-        Ogre::Vector3 mPosition;
-        /// Die Richtung
-        Ogre::Quaternion mDirection;
-        /// Die Geschwindigkeit
-        Ogre::Vector3 mVelocity;
-        /// The priority of this sound
-        int mPriority;
-
-	    Ogre::Real mRolloffStartDistance;
-	    Ogre::Real mRolloffEndDistance;
-
-        // Sound-Cache
-        SoundCache mSoundCache;
-
-    private:
-        /// Shared class-level name for Movable type
-        static Ogre::AxisAlignedBox msAABox;
-
-        /// Der Soundresource, auf den wir verweisen.
-        SoundResourcePtr mSoundResource;
-
-        // Damit die Timings alle 0.5 sek. abgeschickt werden.
-        int mTicks;
-        // Ob dieser Sound 3D sein soll.
-        bool mIs3d;
-        // Ob dieser Sound loopen soll.
-        bool mIsLooping;
-
-        // Anzahl der Soundslots
-        unsigned int mNumSlots;
-
-        // Name
-        CeGuiString mName;
-        
-    }; 
-
-}
-#endif
-
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+* 
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+
+#ifndef __SoundStitching_H__
+#define __SoundStitching_H__
+
+#include &quot;CorePrerequisites.h&quot;
+#include &lt;set&gt;
+
+#include &quot;Exception.h&quot;
+#include &quot;EventCaster.h&quot;
+#include &quot;SoundEvents.h&quot;
+#include &quot;SoundResource.h&quot;
+
+namespace rl {
+
+    class SoundDriver;
+
+    typedef std::map&lt;CeGuiString, SoundResourcePtr&gt; SoundCache;
+
+   /** Diese Klasse dient der Interaktion mit dem jeweiligen Soundsystem
+    * ein Objekt stellt eine einzelne Sounddatei oder einen Stream dar
+    * @author Josch
+    * @date 06-29-2005
+    * @version 1.0
+    * @version 2.0
+    */
+    class _RlCoreExport SoundStitching : public Ogre::MovableObject, 
+        public EventCaster&lt;SoundEvent&gt;, public EventSource
+    {
+    public:
+        // Einige Standardwerte f&#195;&#188;r Soundpriorit&#195;&#164;ten.
+        enum SOUND_PRIORITY {
+            PRIO_SPEECH = 30,
+            PRIO_MUSIC = 75,
+            PRIO_SFX_ENVIRONMENT = 128,
+            PRIO_SFX_OTHER = 175,
+            PRIO_OTHER = 220
+        };
+
+        /// Konstruktor
+        SoundStitching(unsigned int numSlots, const CeGuiString&amp; name, SoundDriver* creator);
+        /// Destruktor
+        virtual ~SoundStitching();
+          
+        /// Laedt den Sound.
+        virtual void load() throw (RuntimeException) = 0;
+        /// Entlaedt den Sound.
+        virtual void unload() throw (RuntimeException) = 0;
+
+        virtual float getLength() const;
+
+        // SoundResource zurueckgeben.
+        const SoundResourcePtr&amp; getSoundResource() const;
+        // Wollen wir 3D?
+        bool is3d() const;
+        // Setzen des 3D-Flags.
+        void set3d(bool is3d);
+        // Sind wir gueltig
+        virtual bool isValid() const throw (RuntimeException) = 0;
+        
+        // Sollen der Sound wiederholt werden?
+        bool isLooping() const;
+        // Setzen des Loop-Flags.
+        void setLooping(bool looping);
+
+        /// Unsere Bounding-Box
+        virtual const Ogre::AxisAlignedBox&amp; getBoundingBox(void) const;
+        /// Bound-Radius
+        virtual Ogre::Real getBoundingRadius() const;
+        /// Rendern
+        virtual void _updateRenderQueue(Ogre::RenderQueue *queue);
+
+        /// Count of configured slots.
+        unsigned int getNumSlots();
+        /// Add a sound resource to the cache overwritting existing sound resource.
+        virtual void addSoundToCache(CeGuiString label, SoundResourcePtr sound);
+        /// Assign a sound recource to a slot.
+        virtual void putSoundIntoSlot(unsigned int, CeGuiString label) = 0;
+        /// Get the slot of the plaing sound.
+        virtual unsigned int getPlayingSlot() = 0;
+
+        /// Gibt die eingestellte Position der Soundquelle zurueck
+        virtual const Ogre::Vector3 getPosition() const = 0;
+        /// Setzt die Position der Soundquelle.
+        virtual void setPosition(const Ogre::Vector3&amp; direction) = 0;
+        /// Gibt die eingestellte relative Lautstaerke der Soundquelle zurueck (0.0 ... 1.0)
+	    virtual const Ogre::Real getVolume() const = 0; 
+        /// Setzt die relative Lautstaerke der Soundquelle (0.0 .. 1.0).
+	    virtual void setVolume(const Ogre::Real gain) = 0;
+        /// Gibt die Richtung der Soundquelle zurueck.
+        virtual const Ogre::Quaternion getDirection() const = 0;
+        /// Gibt die Geschwindigkeit der Soundquelle zurueck.
+        virtual const Ogre::Vector3 getVelocity() const = 0;
+        /// Setzt die Richtung der Soundquelle.
+        virtual void setDirection(const Ogre::Quaternion&amp;) = 0;
+        /// Setzt die Geschwindigkeit der Soundquelle.
+        virtual void setVelocity(const Ogre::Vector3&amp;) = 0;
+	    /// Setzt die Entfernung, ab der ein 3D-Sound leiser wird
+	    virtual void setRolloffStartDistance(const Ogre::Real&amp;);
+	    virtual const Ogre::Real getRolloffStartDistance() const;
+	    /// Setzt die Entfernung, ab der ein 3D-Sound nicht mehr leiser wird
+	    virtual void setRolloffEndDistance(const Ogre::Real&amp;);
+	    virtual const Ogre::Real getRolloffEndDistance() const;
+        // Sets the priority of this sound
+        virtual void setPriority(const int priority) = 0;
+        // Gets the priority of this sound
+        virtual const int getPriority() const = 0;
+
+        /// Spielt den Sound ab.
+        virtual void play(bool destroyWhenDone=false) = 0;
+        /// Pausiert den Sound.
+        virtual void pause(bool pausing) = 0;
+        /// Ist der Sound pausiert?
+        virtual bool isPaused() = 0;
+        /// Stoppt den Sound.
+        virtual void stop() = 0;
+        /// Laeuft der Sound noch
+        virtual const bool isPlaying() const = 0;
+
+		/// From MovableObject
+		virtual void visitRenderables(Ogre::Renderable::Visitor* visitor, 
+			bool debugRenderables = false);
+
+    protected:
+        SoundDriver* mCreator;
+
+        /// Die Lautstaerke
+	    Ogre::Real mVolume;
+        /// Die Position
+        Ogre::Vector3 mPosition;
+        /// Die Richtung
+        Ogre::Quaternion mDirection;
+        /// Die Geschwindigkeit
+        Ogre::Vector3 mVelocity;
+        /// The priority of this sound
+        int mPriority;
+
+	    Ogre::Real mRolloffStartDistance;
+	    Ogre::Real mRolloffEndDistance;
+
+        // Sound-Cache
+        SoundCache mSoundCache;
+
+    private:
+        /// Shared class-level name for Movable type
+        static Ogre::AxisAlignedBox msAABox;
+
+        /// Der Soundresource, auf den wir verweisen.
+        SoundResourcePtr mSoundResource;
+
+        // Damit die Timings alle 0.5 sek. abgeschickt werden.
+        int mTicks;
+        // Ob dieser Sound 3D sein soll.
+        bool mIs3d;
+        // Ob dieser Sound loopen soll.
+        bool mIsLooping;
+
+        // Anzahl der Soundslots
+        unsigned int mNumSlots;
+
+        // Name
+        CeGuiString mName;
+        
+    }; 
+
+}
+#endif
+

Modified: rl/trunk/engine/core/src/Actor.cpp
===================================================================
--- rl/trunk/engine/core/src/Actor.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/Actor.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -434,17 +434,17 @@
             node-&gt;setScale( vec );
 
             // Falls es sich um ein Mesh handelt ...
-            if( getControlledObject()-&gt;isMeshObject() )
+/*            if( getControlledObject()-&gt;isMeshObject() )
             {
                 MeshObject* meshObj = dynamic_cast&lt;MeshObject*&gt;( getControlledObject() );
 
                 // ... und gr&#246;&#223;er/kleiner als normal skaliert wird ...
                 if( vec != Vector3(1,1,1) )
                     // ... m&#252;ssen die Normalen neu berechnet werden.
-                    meshObj-&gt;getEntity()-&gt;setNormaliseNormals( true );
+					meshObj-&gt;getEntity()-&gt;setNormaliseNormals( true );
                 else
                     meshObj-&gt;getEntity()-&gt;setNormaliseNormals( false );
-            }
+            }*/
         }
     }
 

Modified: rl/trunk/engine/core/src/DotSceneLoader.cpp
===================================================================
--- rl/trunk/engine/core/src/DotSceneLoader.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/DotSceneLoader.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -771,8 +771,10 @@
               return;
         }
 
-        if (parentNode-&gt;getScale() != Vector3::UNIT_SCALE)
+        /*if (parentNode-&gt;getScale() != Vector3::UNIT_SCALE) 
+		{
             newEnt-&gt;setNormaliseNormals(true);
+		}*/
 
         parentNode-&gt;attachObject(newEnt);
 

Modified: rl/trunk/engine/core/src/ListenerMovable.cpp
===================================================================
--- rl/trunk/engine/core/src/ListenerMovable.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/ListenerMovable.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -203,4 +203,9 @@
 	mActive = active;
 }
 
+void ListenerMovable::visitRenderables(Renderable::Visitor* visitor, 
+			bool debugRenderables)
+{
 }
+
+}

Modified: rl/trunk/engine/core/src/MovableText.cpp
===================================================================
--- rl/trunk/engine/core/src/MovableText.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/MovableText.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -554,4 +554,11 @@
     {
         return mAlignment;
     }
+
+    /************************************************************************/
+	void MovableText::visitRenderables(Renderable::Visitor* visitor, 
+			bool debugRenderables)
+	{
+		visitor-&gt;visit(this, 0, debugRenderables);
+	}
 }

Modified: rl/trunk/engine/core/src/PhysicalThing.cpp
===================================================================
--- rl/trunk/engine/core/src/PhysicalThing.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/PhysicalThing.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -130,8 +130,8 @@
 		if (mBody &amp;&amp; mActor)
 		{
 			mBody-&gt;setPositionOrientation(
-				mActor-&gt;_getSceneNode()-&gt;getWorldPosition(),
-				mActor-&gt;_getSceneNode()-&gt;getWorldOrientation());
+				mActor-&gt;_getSceneNode()-&gt;_getDerivedPosition(),
+				mActor-&gt;_getSceneNode()-&gt;_getDerivedOrientation());
 			mActor-&gt;_update(Actor::UF_ALL &amp; ~Actor::UF_PHYSICAL_THING);
 		}
     }

Modified: rl/trunk/engine/core/src/PhysicsManager.cpp
===================================================================
--- rl/trunk/engine/core/src/PhysicsManager.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/PhysicsManager.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -315,8 +315,8 @@
 
 
             body-&gt;attachToNode(node);
-            body-&gt;setPositionOrientation(node-&gt;getWorldPosition(),
-                node-&gt;getWorldOrientation());
+            body-&gt;setPositionOrientation(node-&gt;_getDerivedPosition(),
+                node-&gt;_getDerivedOrientation());
             body-&gt;setMaterialGroupID(getMaterialID(&quot;level&quot;));
 
 			mLevelBodiesQuadTree.add(body);

Modified: rl/trunk/engine/core/src/Sound.cpp
===================================================================
--- rl/trunk/engine/core/src/Sound.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/Sound.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,148 +1,153 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-*
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-#include &quot;stdinc.h&quot; //precompiled header
-
-#include &quot;Sound.h&quot;
-#include &quot;SoundDriver.h&quot;
-
-using namespace Ogre;
-
-namespace rl
-{
-
-AxisAlignedBox Sound::msAABox = Ogre::AxisAlignedBox(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
-
-Sound::Sound(const SoundResourcePtr &amp;soundres, SoundDriver* creator)
-: MovableObject(soundres-&gt;getName()),
-   EventSource(),
-   EventCaster&lt;SoundEvent&gt;(),
-   mCreator(creator),
-   mVolume(1.0),
-   mSoundResource(soundres),
-   mIsLooping(false),
-   mIs3d(false),
-   mTicks(0),
-   mPosition(Vector3::ZERO),
-   mDirection(Quaternion::IDENTITY),
-   mVelocity(Vector3::ZERO),
-   mPriority(128),
-   mRolloffStartDistance(1.0),
-   mRolloffEndDistance(10000.0)
-{
-}
-
-Sound::~Sound()
-{
-}
-
-/**
- * @return Ob der Sound wiederholt werden soll
- * @author JoSch
- * @date 08-08-2005
- */
-bool Sound::isLooping() const
-{
-    return mIsLooping;
-}
-
-/**
- * @param looping Ob der Sound wiederholt werden soll
- * @author JoSch
- * @date 08-08-2005
- */
-void Sound::setLooping(bool looping)
-{
-    mIsLooping = looping;
-}
-
-/**
- * @return Ob der Sound ein 3D-Sound ist.
- * @author JoSch
- * @date 08-08-2005
- */
-bool Sound::is3d() const
-{
-    return mIs3d;
-}
-
-/**
- * @param is3d Ob der Sound ein 3D-Sound ist.
- * @author JoSch
- * @date 08-08-2005
- */
-void Sound::set3d(bool is3d)
-{
-    mIs3d = is3d;
-}
-
-/** SoundResource zur&#252;ckgeben.
- * @return Der Pointer auf die zugeh&#246;rige Soundresource.
- * @author JoSch
- * @date 08-08-2005
- */
-const SoundResourcePtr &amp;Sound::getSoundResource() const
-{
-    return mSoundResource;
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-const AxisAlignedBox&amp; Sound::getBoundingBox() const
-{
-    return msAABox;
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-Real Sound::getBoundingRadius (void) const
-{
-    return 0.0f; // SQRT(3*SQR(0.0)) to fit with AABB
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-void Sound::_updateRenderQueue(RenderQueue *queue)
-{
-    // Brauchen wir nicht
-}
-
-void Sound::setRolloffStartDistance(const Ogre::Real&amp; distance)
-{
-	mRolloffStartDistance = distance;
-}
-
-const Ogre::Real Sound::getRolloffStartDistance() const
-{
-	return mRolloffStartDistance;
-}
-
-void Sound::setRolloffEndDistance(const Ogre::Real&amp; distance)
-{
-	mRolloffEndDistance = distance;
-}
-
-const Ogre::Real Sound::getRolloffEndDistance() const
-{
-	return mRolloffEndDistance;
-}
-
-};
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+*
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+#include &quot;stdinc.h&quot; //precompiled header
+
+#include &quot;Sound.h&quot;
+#include &quot;SoundDriver.h&quot;
+
+using namespace Ogre;
+
+namespace rl
+{
+
+AxisAlignedBox Sound::msAABox = Ogre::AxisAlignedBox(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
+
+Sound::Sound(const SoundResourcePtr &amp;soundres, SoundDriver* creator)
+: MovableObject(soundres-&gt;getName()),
+   EventSource(),
+   EventCaster&lt;SoundEvent&gt;(),
+   mCreator(creator),
+   mVolume(1.0),
+   mSoundResource(soundres),
+   mIsLooping(false),
+   mIs3d(false),
+   mTicks(0),
+   mPosition(Vector3::ZERO),
+   mDirection(Quaternion::IDENTITY),
+   mVelocity(Vector3::ZERO),
+   mPriority(128),
+   mRolloffStartDistance(1.0),
+   mRolloffEndDistance(10000.0)
+{
+}
+
+Sound::~Sound()
+{
+}
+
+/**
+ * @return Ob der Sound wiederholt werden soll
+ * @author JoSch
+ * @date 08-08-2005
+ */
+bool Sound::isLooping() const
+{
+    return mIsLooping;
+}
+
+/**
+ * @param looping Ob der Sound wiederholt werden soll
+ * @author JoSch
+ * @date 08-08-2005
+ */
+void Sound::setLooping(bool looping)
+{
+    mIsLooping = looping;
+}
+
+/**
+ * @return Ob der Sound ein 3D-Sound ist.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+bool Sound::is3d() const
+{
+    return mIs3d;
+}
+
+/**
+ * @param is3d Ob der Sound ein 3D-Sound ist.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+void Sound::set3d(bool is3d)
+{
+    mIs3d = is3d;
+}
+
+/** SoundResource zur&#252;ckgeben.
+ * @return Der Pointer auf die zugeh&#246;rige Soundresource.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+const SoundResourcePtr &amp;Sound::getSoundResource() const
+{
+    return mSoundResource;
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+const AxisAlignedBox&amp; Sound::getBoundingBox() const
+{
+    return msAABox;
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+Real Sound::getBoundingRadius (void) const
+{
+    return 0.0f; // SQRT(3*SQR(0.0)) to fit with AABB
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+void Sound::_updateRenderQueue(RenderQueue *queue)
+{
+    // Brauchen wir nicht
+}
+
+void Sound::setRolloffStartDistance(const Ogre::Real&amp; distance)
+{
+	mRolloffStartDistance = distance;
+}
+
+const Ogre::Real Sound::getRolloffStartDistance() const
+{
+	return mRolloffStartDistance;
+}
+
+void Sound::setRolloffEndDistance(const Ogre::Real&amp; distance)
+{
+	mRolloffEndDistance = distance;
+}
+
+const Ogre::Real Sound::getRolloffEndDistance() const
+{
+	return mRolloffEndDistance;
+}
+
+void Sound::visitRenderables(Renderable::Visitor* visitor, 
+			bool debugRenderables)
+{
+}
+
+};

Modified: rl/trunk/engine/core/src/SoundResource.cpp
===================================================================
--- rl/trunk/engine/core/src/SoundResource.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/SoundResource.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -85,15 +85,6 @@
 }
 
 /**
- * @author JoSch
- * @date 03-14-2005
- */
-int SoundResource::getSize() const
-{
-    return calculateSize();
-}
-
-/**
  * @author Blakharaz
  * @date 03-14-2005
  */

Modified: rl/trunk/engine/core/src/SoundStitching.cpp
===================================================================
--- rl/trunk/engine/core/src/SoundStitching.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/core/src/SoundStitching.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -1,166 +1,171 @@
-/* This source file is part of Rastullahs Lockenpracht.
-* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
-*
-*  This program is free software; you can redistribute it and/or modify
-*  it under the terms of the Clarified Artistic License.
-*
-*  This program is distributed in the hope that it will be useful,
-*  but WITHOUT ANY WARRANTY; without even the implied warranty of
-*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-*  Clarified Artistic License for more details.
-*
-*  You should have received a copy of the Clarified Artistic License
-*  along with this program; if not you can get it here
-*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
-*/
-#include &quot;stdinc.h&quot; //precompiled header
-
-#include &quot;SoundStitching.h&quot;
-#include &quot;SoundDriver.h&quot;
-
-using namespace Ogre;
-
-namespace rl
-{
-
-AxisAlignedBox SoundStitching::msAABox = Ogre::AxisAlignedBox(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
-
-SoundStitching::SoundStitching(unsigned int numSlots, const CeGuiString&amp; name, SoundDriver* creator)
-:  MovableObject(name.c_str()),
-   EventSource(),
-   EventCaster&lt;SoundEvent&gt;(),
-   mCreator(creator),
-   mVolume(1.0),
-   mName(name),
-   mIsLooping(true),
-   mIs3d(false),
-   mTicks(0),
-   mPosition(Vector3::ZERO),
-   mDirection(Quaternion::IDENTITY),
-   mVelocity(Vector3::ZERO),
-   mPriority(128),
-   mRolloffStartDistance(1.0),
-   mRolloffEndDistance(10000.0),
-   mNumSlots(numSlots)
-{
-}
-
-SoundStitching::~SoundStitching()
-{
-}
-
-/**
- * @return Ob der Sound wiederholt werden soll
- * @author JoSch
- * @date 08-08-2005
- */
-bool SoundStitching::isLooping() const
-{
-    return mIsLooping;
-}
-
-/**
- * @param looping Ob der Sound wiederholt werden soll
- * @author JoSch
- * @date 08-08-2005
- */
-void SoundStitching::setLooping(bool looping)
-{
-    mIsLooping = looping;
-}
-
-/**
- * @return Ob der Sound ein 3D-Sound ist.
- * @author JoSch
- * @date 08-08-2005
- */
-bool SoundStitching::is3d() const
-{
-    return mIs3d;
-}
-
-/**
- * @param is3d Ob der Sound ein 3D-Sound ist.
- * @author JoSch
- * @date 08-08-2005
- */
-void SoundStitching::set3d(bool is3d)
-{
-    mIs3d = is3d;
-}
-
-/** SoundResource zur&#252;ckgeben.
- * @return Der Pointer auf die zugeh&#246;rige Soundresource.
- * @author JoSch
- * @date 08-08-2005
- */
-const SoundResourcePtr &amp;SoundStitching::getSoundResource() const
-{
-    return mSoundResource;
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-const AxisAlignedBox&amp; SoundStitching::getBoundingBox() const
-{
-    return msAABox;
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-Real SoundStitching::getBoundingRadius (void) const
-{
-    return 0.0f; // SQRT(3*SQR(0.0)) to fit with AABB
-}
-
-/**
- * @author JoSch
- * @date 03-11-2005
- */
-void SoundStitching::_updateRenderQueue(RenderQueue *queue)
-{
-    // Brauchen wir nicht
-}
-
-void SoundStitching::setRolloffStartDistance(const Ogre::Real&amp; distance)
-{
-	mRolloffStartDistance = distance;
-}
-
-const Ogre::Real SoundStitching::getRolloffStartDistance() const
-{
-	return mRolloffStartDistance;
-}
-
-void SoundStitching::setRolloffEndDistance(const Ogre::Real&amp; distance)
-{
-	mRolloffEndDistance = distance;
-}
-
-const Ogre::Real SoundStitching::getRolloffEndDistance() const
-{
-	return mRolloffEndDistance;
-}
-
-
-void SoundStitching::addSoundToCache(CeGuiString label, SoundResourcePtr sound)
-{
-    mSoundCache[label] = sound;
-}
-
-unsigned int SoundStitching::getNumSlots()
-{
-    return mNumSlots;
-}
-
-float SoundStitching::getLength() const
-{
-    return 0.0f;
-}
-
-};
-
+/* This source file is part of Rastullahs Lockenpracht.
+* Copyright (C) 2003-2008 Team Pantheon. <A HREF="http://www.team-pantheon.de">http://www.team-pantheon.de</A>
+*
+*  This program is free software; you can redistribute it and/or modify
+*  it under the terms of the Clarified Artistic License.
+*
+*  This program is distributed in the hope that it will be useful,
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*  Clarified Artistic License for more details.
+*
+*  You should have received a copy of the Clarified Artistic License
+*  along with this program; if not you can get it here
+*  <A HREF="http://www.jpaulmorrison.com/fbp/artistic2.htm.">http://www.jpaulmorrison.com/fbp/artistic2.htm.</A>
+*/
+#include &quot;stdinc.h&quot; //precompiled header
+
+#include &quot;SoundStitching.h&quot;
+#include &quot;SoundDriver.h&quot;
+
+using namespace Ogre;
+
+namespace rl
+{
+
+AxisAlignedBox SoundStitching::msAABox = Ogre::AxisAlignedBox(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
+
+SoundStitching::SoundStitching(unsigned int numSlots, const CeGuiString&amp; name, SoundDriver* creator)
+:  MovableObject(name.c_str()),
+   EventSource(),
+   EventCaster&lt;SoundEvent&gt;(),
+   mCreator(creator),
+   mVolume(1.0),
+   mName(name),
+   mIsLooping(true),
+   mIs3d(false),
+   mTicks(0),
+   mPosition(Vector3::ZERO),
+   mDirection(Quaternion::IDENTITY),
+   mVelocity(Vector3::ZERO),
+   mPriority(128),
+   mRolloffStartDistance(1.0),
+   mRolloffEndDistance(10000.0),
+   mNumSlots(numSlots)
+{
+}
+
+SoundStitching::~SoundStitching()
+{
+}
+
+/**
+ * @return Ob der Sound wiederholt werden soll
+ * @author JoSch
+ * @date 08-08-2005
+ */
+bool SoundStitching::isLooping() const
+{
+    return mIsLooping;
+}
+
+/**
+ * @param looping Ob der Sound wiederholt werden soll
+ * @author JoSch
+ * @date 08-08-2005
+ */
+void SoundStitching::setLooping(bool looping)
+{
+    mIsLooping = looping;
+}
+
+/**
+ * @return Ob der Sound ein 3D-Sound ist.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+bool SoundStitching::is3d() const
+{
+    return mIs3d;
+}
+
+/**
+ * @param is3d Ob der Sound ein 3D-Sound ist.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+void SoundStitching::set3d(bool is3d)
+{
+    mIs3d = is3d;
+}
+
+/** SoundResource zur&#252;ckgeben.
+ * @return Der Pointer auf die zugeh&#246;rige Soundresource.
+ * @author JoSch
+ * @date 08-08-2005
+ */
+const SoundResourcePtr &amp;SoundStitching::getSoundResource() const
+{
+    return mSoundResource;
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+const AxisAlignedBox&amp; SoundStitching::getBoundingBox() const
+{
+    return msAABox;
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+Real SoundStitching::getBoundingRadius (void) const
+{
+    return 0.0f; // SQRT(3*SQR(0.0)) to fit with AABB
+}
+
+/**
+ * @author JoSch
+ * @date 03-11-2005
+ */
+void SoundStitching::_updateRenderQueue(RenderQueue *queue)
+{
+    // Brauchen wir nicht
+}
+
+void SoundStitching::setRolloffStartDistance(const Ogre::Real&amp; distance)
+{
+	mRolloffStartDistance = distance;
+}
+
+const Ogre::Real SoundStitching::getRolloffStartDistance() const
+{
+	return mRolloffStartDistance;
+}
+
+void SoundStitching::setRolloffEndDistance(const Ogre::Real&amp; distance)
+{
+	mRolloffEndDistance = distance;
+}
+
+const Ogre::Real SoundStitching::getRolloffEndDistance() const
+{
+	return mRolloffEndDistance;
+}
+
+
+void SoundStitching::addSoundToCache(CeGuiString label, SoundResourcePtr sound)
+{
+    mSoundCache[label] = sound;
+}
+
+unsigned int SoundStitching::getNumSlots()
+{
+    return mNumSlots;
+}
+
+float SoundStitching::getLength() const
+{
+    return 0.0f;
+}
+
+void SoundStitching::visitRenderables(Renderable::Visitor* visitor, 
+			bool debugRenderables)
+{
+}
+
+};
+

Modified: rl/trunk/engine/script/src/PlaneNodeProcessor.cpp
===================================================================
--- rl/trunk/engine/script/src/PlaneNodeProcessor.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/script/src/PlaneNodeProcessor.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -222,8 +222,8 @@
 
 	void PlaneReflectionTextureListener::preRenderTargetUpdate(const RenderTargetEvent &amp;evt)
 	{
-		mCamera-&gt;setPosition(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getWorldPosition());
-		mCamera-&gt;setOrientation(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getWorldOrientation());
+		mCamera-&gt;setPosition(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getDerivedPosition());
+		mCamera-&gt;setOrientation(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getDerivedOrientation());
 		mEntity-&gt;setVisible(false);
 		mCamera-&gt;enableReflection((MovablePlane*)mPlane);
 	}
@@ -242,8 +242,8 @@
 
 	void PlaneRefractionTextureListener::preRenderTargetUpdate(const Ogre::RenderTargetEvent&amp; evt)
 	{
-		mCamera-&gt;setPosition(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getWorldPosition());
-		mCamera-&gt;setOrientation(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getWorldOrientation());
+		mCamera-&gt;setPosition(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getDerivedPosition());
+		mCamera-&gt;setOrientation(CoreSubsystem::getSingleton().getWorld()-&gt;getActiveCamera()-&gt;getDerivedOrientation());
 		mEntity-&gt;setVisible(false);
 	}
 

Modified: rl/trunk/engine/ui/src/DebugWindow.cpp
===================================================================
--- rl/trunk/engine/ui/src/DebugWindow.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/ui/src/DebugWindow.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -186,8 +186,8 @@
 
             if( charObj != NULL )
             {
-                Ogre::Vector3 pos = charObj-&gt;getMovableObject()-&gt;getParentNode()-&gt;getWorldPosition();
-                Ogre::Quaternion ori = charObj-&gt;getMovableObject()-&gt;getParentNode()-&gt;getWorldOrientation();
+                Ogre::Vector3 pos = charObj-&gt;getMovableObject()-&gt;getParentNode()-&gt;_getDerivedPosition();
+                Ogre::Quaternion ori = charObj-&gt;getMovableObject()-&gt;getParentNode()-&gt;_getDerivedOrientation();
 
                 textSt += &quot;\nPlayer Position [ &quot;
                     + StringConverter::toString(pos.x,2,0,32,std::ios_base::fixed)+&quot;, &quot;

Modified: rl/trunk/engine/ui/src/DialogControlState.cpp
===================================================================
--- rl/trunk/engine/ui/src/DialogControlState.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/ui/src/DialogControlState.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -220,8 +220,8 @@
 
         // Weltkoordinaten in lokale umwandeln
         mTargetCameraPosition =
-            -1*(mCameraActor-&gt;_getSceneNode()-&gt;getParentSceneNode()-&gt;getWorldOrientation().Inverse()*
-            (mCameraActor-&gt;_getSceneNode()-&gt;getParentSceneNode()-&gt;getWorldPosition() - globalCameraPosition));
+            -1*(mCameraActor-&gt;_getSceneNode()-&gt;getParentSceneNode()-&gt;_getDerivedOrientation().Inverse()*
+            (mCameraActor-&gt;_getSceneNode()-&gt;getParentSceneNode()-&gt;_getDerivedPosition() - globalCameraPosition));
 
         mTargetCameraDirection = (listenerEyes - mTargetCameraPosition).normalisedCopy();
     }

Modified: rl/trunk/engine/ui/src/InventoryWindow.cpp
===================================================================
--- rl/trunk/engine/ui/src/InventoryWindow.cpp	2008-11-19 21:00:18 UTC (rev 4592)
+++ rl/trunk/engine/ui/src/InventoryWindow.cpp	2008-11-19 22:04:20 UTC (rev 4593)
@@ -448,7 +448,7 @@
 		mousePos.d_y /= getRoot()-&gt;getPixelSize().d_height;
 		Ogre::Ray camToWorld = camera-&gt;getCameraToViewportRay(
 			mousePos.d_x, mousePos.d_y);
-		Ogre::Vector3 rayStart = camera-&gt;getCamera()-&gt;getWorldPosition();
+		Ogre::Vector3 rayStart = camera-&gt;getCamera()-&gt;getDerivedPosition();
 		Ogre::Vector3 rayDir = camera-&gt;getDirectionFromScreenPosition(
 			mousePos.d_x, mousePos.d_y);
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001649.html">[Dsa-hl-svn] r4592 - rl/trunk/plugins/fmod4driver/src
</A></li>
	<LI>Next message: <A HREF="001651.html">[Dsa-hl-svn] r4594 - modules/common/materials/particle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1650">[ date ]</a>
              <a href="thread.html#1650">[ thread ]</a>
              <a href="subject.html#1650">[ subject ]</a>
              <a href="author.html#1650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
