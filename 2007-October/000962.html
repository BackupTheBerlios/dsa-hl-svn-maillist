<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r3891 - rl/trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3891%20-%20rl/trunk&In-Reply-To=%3C200710081927.l98JR6W9013892%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000961.html">
   <LINK REL="Next"  HREF="000963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r3891 - rl/trunk</H1>
    <B>chrber at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3891%20-%20rl/trunk&In-Reply-To=%3C200710081927.l98JR6W9013892%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r3891 - rl/trunk">chrber at mail.berlios.de
       </A><BR>
    <I>Mon Oct  8 21:27:06 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000961.html">[Dsa-hl-svn] r3890 - rl/trunk
</A></li>
        <LI>Next message: <A HREF="000963.html">[Dsa-hl-svn] r3892 - rl/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#962">[ date ]</a>
              <a href="thread.html#962">[ thread ]</a>
              <a href="subject.html#962">[ subject ]</a>
              <a href="author.html#962">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: chrber
Date: 2007-10-08 21:27:04 +0200 (Mon, 08 Oct 2007)
New Revision: 3891

Modified:
   rl/trunk/configure.in
Log:
Reverted the check for OGRE back to 1.4.0
Added a notice recommending 1.4.5 if user has a lesser version


Modified: rl/trunk/configure.in
===================================================================
--- rl/trunk/configure.in	2007-10-06 13:14:10 UTC (rev 3890)
+++ rl/trunk/configure.in	2007-10-08 19:27:04 UTC (rev 3891)
@@ -85,7 +85,7 @@
       ])
 
 # Ogre
-PKG_CHECK_MODULES([OGRE], [OGRE &gt;= 1.4.5])
+PKG_CHECK_MODULES([OGRE], [OGRE &gt;= 1.4.0], [OGRE_VERSION=`pkg-config OGRE --modversion`])
 AC_ARG_WITH([ogre-plugins], [AS_HELP_STRING([--with-ogre-plugins=@&lt;:@=DIR@:&gt;@], [set location of Ogre plugins])] ,[OGRE_PLUGINDIR=&quot;$withval&quot;], [OGRE_PLUGINDIR=`pkg-config OGRE --variable=plugindir`])
 AC_SUBST(OGRE_PLUGINDIR)
 
@@ -209,4 +209,15 @@
 echo &quot;       rastullah binary will be placed in: ${RL_GAMEDIR}&quot;
 echo &quot;       Module directory:                   ${RL_MODULEDIR}&quot;
 echo
+
+# Remove dots from version to allow integer comparision
+OGRE_INTVERSION=`echo $OGRE_VERSION | sed -r &quot;s@\.@@g&quot;`
+if [[ $OGRE_INTVERSION -lt 145 ]]; then
+    echo &quot;Your OGRE version is $OGRE_VERSION. The Rastullah team recommends&quot;
+    echo &quot;using version 1.4.5, which supports LiSPSM Shadows.&quot;
+    echo &quot;Rastullah will run nevertheless, but the shadow's quality&quot;
+    echo &quot;will be decreased.&quot;
+fi
+
+echo
 echo &quot;Type make &amp;&amp; make install and pray!&quot;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000961.html">[Dsa-hl-svn] r3890 - rl/trunk
</A></li>
	<LI>Next message: <A HREF="000963.html">[Dsa-hl-svn] r3892 - rl/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#962">[ date ]</a>
              <a href="thread.html#962">[ thread ]</a>
              <a href="subject.html#962">[ subject ]</a>
              <a href="author.html#962">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
