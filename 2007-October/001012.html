<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Dsa-hl-svn] r3941 - in rl/trunk/engine: common/include common/src	core/include core/src rules/include rules/src script/swig	startup/src ui/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/dsa-hl-svn/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3941%20-%20in%20rl/trunk/engine%3A%20common/include%20common/src%0A%09core/include%20core/src%20rules/include%20rules/src%20script/swig%0A%09startup/src%20ui/src&In-Reply-To=%3C200710211119.l9LBJ1H6025234%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001011.html">
   <LINK REL="Next"  HREF="001013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Dsa-hl-svn] r3941 - in rl/trunk/engine: common/include common/src	core/include core/src rules/include rules/src script/swig	startup/src ui/src</H1>
    <B>blakharaz at mail.berlios.de</B> 
    <A HREF="mailto:dsa-hl-svn%40lists.berlios.de?Subject=Re%3A%20%5BDsa-hl-svn%5D%20r3941%20-%20in%20rl/trunk/engine%3A%20common/include%20common/src%0A%09core/include%20core/src%20rules/include%20rules/src%20script/swig%0A%09startup/src%20ui/src&In-Reply-To=%3C200710211119.l9LBJ1H6025234%40sheep.berlios.de%3E"
       TITLE="[Dsa-hl-svn] r3941 - in rl/trunk/engine: common/include common/src	core/include core/src rules/include rules/src script/swig	startup/src ui/src">blakharaz at mail.berlios.de
       </A><BR>
    <I>Sun Oct 21 13:19:01 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001011.html">[Dsa-hl-svn] r3940 - in rl/trunk/engine/common: include src
</A></li>
        <LI>Next message: <A HREF="001013.html">[Dsa-hl-svn] r3942 - rl/trunk/engine/rules/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1012">[ date ]</a>
              <a href="thread.html#1012">[ thread ]</a>
              <a href="subject.html#1012">[ subject ]</a>
              <a href="author.html#1012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: blakharaz
Date: 2007-10-21 13:18:38 +0200 (Sun, 21 Oct 2007)
New Revision: 3941

Modified:
   rl/trunk/engine/common/include/Properties.h
   rl/trunk/engine/common/include/XmlPropertyReader.h
   rl/trunk/engine/common/include/XmlPropertyWriter.h
   rl/trunk/engine/common/src/Properties.cpp
   rl/trunk/engine/common/src/XmlPropertyReader.cpp
   rl/trunk/engine/common/src/XmlPropertyWriter.cpp
   rl/trunk/engine/core/include/SaveGameFile.h
   rl/trunk/engine/core/include/Trigger.h
   rl/trunk/engine/core/src/SaveGameFile.cpp
   rl/trunk/engine/core/src/SaveGameFileReader.cpp
   rl/trunk/engine/core/src/SaveGameFileWriter.cpp
   rl/trunk/engine/core/src/Trigger.cpp
   rl/trunk/engine/rules/include/Armor.h
   rl/trunk/engine/rules/include/Container.h
   rl/trunk/engine/rules/include/Creature.h
   rl/trunk/engine/rules/include/GameObject.h
   rl/trunk/engine/rules/include/GameObjectManager.h
   rl/trunk/engine/rules/include/Inventory.h
   rl/trunk/engine/rules/include/Item.h
   rl/trunk/engine/rules/include/Quest.h
   rl/trunk/engine/rules/include/QuestBook.h
   rl/trunk/engine/rules/include/Weapon.h
   rl/trunk/engine/rules/src/Armor.cpp
   rl/trunk/engine/rules/src/Container.cpp
   rl/trunk/engine/rules/src/Creature.cpp
   rl/trunk/engine/rules/src/GameObject.cpp
   rl/trunk/engine/rules/src/GameObjectManager.cpp
   rl/trunk/engine/rules/src/Inventory.cpp
   rl/trunk/engine/rules/src/Item.cpp
   rl/trunk/engine/rules/src/Quest.cpp
   rl/trunk/engine/rules/src/QuestBook.cpp
   rl/trunk/engine/rules/src/Weapon.cpp
   rl/trunk/engine/script/swig/RlCore.swig
   rl/trunk/engine/script/swig/RlRules.swig
   rl/trunk/engine/startup/src/RastullahMain.cpp
   rl/trunk/engine/ui/src/PropertiesWindow.cpp
Log:
* Renamed PropertySet to PropertyRecord to avoid confusion with std::set


Modified: rl/trunk/engine/common/include/Properties.h
===================================================================
--- rl/trunk/engine/common/include/Properties.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/include/Properties.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -21,50 +21,56 @@
  
 namespace rl {
 
-    class PropertySet;
-    class PropertySetPtr;
+    class PropertyRecord;
+    class PropertyRecordPtr;
 
-    typedef std::map&lt;const Ogre::String, Property&gt; PropertySetMap;
+    typedef std::map&lt;const Ogre::String, Property&gt; PropertyRecordMap;
 
+    /**
+     * This is the base class of all objects having Propertys
+     */
     class _RlCommonExport PropertyHolder
     {
     public:
         virtual const Property getProperty(const Ogre::String&amp; key) const = 0;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value) = 0;
-        virtual PropertySet* getAllProperties() const = 0;
-        void setProperties(const PropertySet* props);
+        virtual PropertyRecord* getAllProperties() const = 0;
+        void setProperties(const PropertyRecord* props);
         void setProperties(const PropertyMap&amp; propmap);
     };
 
-    class _RlCommonExport PropertySet : public PropertyHolder
+    /**
+     * A PropertyRecord holds all Propertys of one object,
+     */
+    class _RlCommonExport PropertyRecord : public PropertyHolder
     {
 	public:
-        PropertySet();
-        PropertySet(const PropertySet* ps);
-        PropertySet(const PropertyMap&amp; propmap);
+        PropertyRecord();
+        PropertyRecord(const PropertyRecord* ps);
+        PropertyRecord(const PropertyMap&amp; propmap);
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
         bool hasProperty(const Ogre::String&amp; key) const;
-        virtual PropertySet* getAllProperties() const;
-        const PropertySetMap::const_iterator begin() const;
-        const PropertySetMap::const_iterator end() const;
+        virtual PropertyRecord* getAllProperties() const;
+        const PropertyRecordMap::const_iterator begin() const;
+        const PropertyRecordMap::const_iterator end() const;
         PropertyMap toPropertyMap() const;
         
     private:
-        PropertySetMap mProperties;
+        PropertyRecordMap mProperties;
 	};
 
-    class _RlCommonExport PropertySetPtr :
-        public Ogre::SharedPtr&lt;PropertySet&gt;
+    class _RlCommonExport PropertyRecordPtr :
+        public Ogre::SharedPtr&lt;PropertyRecord&gt;
     {
     public:
-        PropertySetPtr() : Ogre::SharedPtr&lt;PropertySet&gt;() {}
-        explicit PropertySetPtr(PropertySet* rep) : Ogre::SharedPtr&lt;PropertySet&gt;(rep) {}
-        PropertySetPtr(const PropertySetPtr&amp; res) : Ogre::SharedPtr&lt;PropertySet&gt;(res) {}
+        PropertyRecordPtr() : Ogre::SharedPtr&lt;PropertyRecord&gt;() {}
+        explicit PropertyRecordPtr(PropertyRecord* rep) : Ogre::SharedPtr&lt;PropertyRecord&gt;(rep) {}
+        PropertyRecordPtr(const PropertyRecordPtr&amp; res) : Ogre::SharedPtr&lt;PropertyRecord&gt;(res) {}
     
     protected:
-        void destroy() { Ogre::SharedPtr&lt;PropertySet&gt;::destroy(); }
+        void destroy() { Ogre::SharedPtr&lt;PropertyRecord&gt;::destroy(); }
     };
 
 }

Modified: rl/trunk/engine/common/include/XmlPropertyReader.h
===================================================================
--- rl/trunk/engine/common/include/XmlPropertyReader.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/include/XmlPropertyReader.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -28,7 +28,7 @@
 namespace rl 
 {
     class Property;
-    class PropertySet;
+    class PropertyRecord;
 
     typedef std::pair&lt;Ogre::String, Property&gt; PropertyEntry;
 
@@ -39,14 +39,14 @@
         XmlPropertyReader();
 
         void parseGameObjectFile(Ogre::DataStreamPtr &amp;stream, const Ogre::String &amp;groupName);
-        std::vector&lt;PropertySet*&gt; getPropertySets();
+        std::vector&lt;PropertyRecord*&gt; getPropertyRecords();
 
         PropertyEntry processProperty(XERCES_CPP_NAMESPACE::DOMElement* domElem) const;
 		PropertyEntry processProperty(XERCES_CPP_NAMESPACE::DOMAttr* domAttr) const;
 
-        virtual PropertySet getPropertiesAsSet(XERCES_CPP_NAMESPACE::DOMElement* parent);
+        virtual PropertyRecord getPropertiesAsSet(XERCES_CPP_NAMESPACE::DOMElement* parent);
     private:
-        std::vector&lt;PropertySet*&gt; mPropertySets;
+        std::vector&lt;PropertyRecord*&gt; mPropertyRecords;
 
         Property getProperty(const Ogre::String&amp; key, const CeGuiString&amp; value);
     };

Modified: rl/trunk/engine/common/include/XmlPropertyWriter.h
===================================================================
--- rl/trunk/engine/common/include/XmlPropertyWriter.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/include/XmlPropertyWriter.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -30,7 +30,7 @@
 namespace rl 
 {
     class Property;
-    class PropertySet;
+    class PropertyRecord;
 
     typedef std::pair&lt;Ogre::String, Property&gt; PropertyEntry;
 
@@ -43,18 +43,18 @@
 
         XERCES_CPP_NAMESPACE::DOMDocument* getDocument();
 
-        std::vector&lt;PropertySet*&gt; getPropertySets();
-        void setPropertySets(std::vector&lt;PropertySet*&gt; sets);
-        void addPropertySet(PropertySet* set);
+        std::vector&lt;PropertyRecord*&gt; getPropertyRecords();
+        void setPropertyRecords(std::vector&lt;PropertyRecord*&gt; sets);
+        void addPropertyRecord(PropertyRecord* set);
 
         XERCES_CPP_NAMESPACE::DOMElement* processProperty(XERCES_CPP_NAMESPACE::DOMElement* parent, PropertyEntry entry);
-        XERCES_CPP_NAMESPACE::DOMElement* processPropertySet(XERCES_CPP_NAMESPACE::DOMElement* parent, const char* const name, PropertySet set);
+        XERCES_CPP_NAMESPACE::DOMElement* processPropertyRecord(XERCES_CPP_NAMESPACE::DOMElement* parent, const char* const name, PropertyRecord set);
         XERCES_CPP_NAMESPACE::DOMElement* processPropertyArray(XERCES_CPP_NAMESPACE::DOMElement* parent, const char* const name, PropertyVector vector);
         XERCES_CPP_NAMESPACE::DOMElement* processPropertyMap(XERCES_CPP_NAMESPACE::DOMElement* parent, const char* const name, PropertyMap map);
 
         void writeEachProperty(XERCES_CPP_NAMESPACE::DOMElement* parent, const PropertyMap &amp;map);
     protected:
-        std::vector&lt;PropertySet*&gt; mPropertySets;
+        std::vector&lt;PropertyRecord*&gt; mPropertyRecords;
 
         XERCES_CPP_NAMESPACE::DOMDocument* mDocument;
         XERCES_CPP_NAMESPACE::DOMImplementation* mImplementation;

Modified: rl/trunk/engine/common/src/Properties.cpp
===================================================================
--- rl/trunk/engine/common/src/Properties.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/src/Properties.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -25,9 +25,9 @@
 
 namespace rl {
 
-    void PropertyHolder::setProperties(const PropertySet* props)
+    void PropertyHolder::setProperties(const PropertyRecord* props)
     {
-        for (PropertySetMap::const_iterator it = props-&gt;begin();
+        for (PropertyRecordMap::const_iterator it = props-&gt;begin();
             it != props-&gt;end(); it++)
         {
             setProperty((*it).first, (*it).second);
@@ -43,29 +43,29 @@
         }
     }
 
-    PropertySet::PropertySet()
+    PropertyRecord::PropertyRecord()
         : PropertyHolder()
     {
         mProperties.clear();
     }
 
-    PropertySet::PropertySet(const PropertySet* ps)
+    PropertyRecord::PropertyRecord(const PropertyRecord* ps)
         : PropertyHolder()
     {
         mProperties.clear();
         setProperties(ps);
     }
 
-    PropertySet::PropertySet(const PropertyMap&amp; propmap)
+    PropertyRecord::PropertyRecord(const PropertyMap&amp; propmap)
         : PropertyHolder()
     {
         mProperties.clear();
         convertToMap(propmap, mProperties);
     }
 
-    const Property PropertySet::getProperty(const Ogre::String&amp; key) const
+    const Property PropertyRecord::getProperty(const Ogre::String&amp; key) const
     {
-        PropertySetMap::const_iterator it = mProperties.find(key);
+        PropertyRecordMap::const_iterator it = mProperties.find(key);
         if (it == mProperties.end())
         {
             Throw(rl::RuntimeException, &quot;Property &quot;+key+&quot; not found.&quot;);
@@ -74,32 +74,32 @@
         return (*it).second;
     }
 
-    bool PropertySet::hasProperty(const Ogre::String&amp; key) const
+    bool PropertyRecord::hasProperty(const Ogre::String&amp; key) const
     {
         return mProperties.find(key) != mProperties.end();
     }
 
-    void PropertySet::setProperty(const Ogre::String&amp; key, const Property&amp; value)
+    void PropertyRecord::setProperty(const Ogre::String&amp; key, const Property&amp; value)
     {
         mProperties[key] = value;
     }
 
-    PropertySet* PropertySet::getAllProperties() const
+    PropertyRecord* PropertyRecord::getAllProperties() const
     {
-        return new PropertySet(this);
+        return new PropertyRecord(this);
     }
 
-    const PropertySetMap::const_iterator PropertySet::begin() const
+    const PropertyRecordMap::const_iterator PropertyRecord::begin() const
     {
         return mProperties.begin();
     }
 
-    const PropertySetMap::const_iterator PropertySet::end() const
+    const PropertyRecordMap::const_iterator PropertyRecord::end() const
     {
         return mProperties.end();
     }
 
-    PropertyMap PropertySet::toPropertyMap() const
+    PropertyMap PropertyRecord::toPropertyMap() const
     {
         return convertToPropertyMap(mProperties);
     }

Modified: rl/trunk/engine/common/src/XmlPropertyReader.cpp
===================================================================
--- rl/trunk/engine/common/src/XmlPropertyReader.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/src/XmlPropertyReader.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -45,7 +45,7 @@
     DOMNodeList* godefsXml = doc-&gt;getDocumentElement()-&gt;getElementsByTagName(AutoXMLCh(&quot;gameobjectclass&quot;).data());
     for (unsigned int idx = 0; idx &lt; godefsXml-&gt;getLength(); idx++)
     {
-		PropertySet* ps = new PropertySet();
+		PropertyRecord* ps = new PropertyRecord();
 		DOMElement* curNode = static_cast&lt;DOMElement*&gt;(godefsXml-&gt;item(idx));
 		
 		const DOMNamedNodeMap* godefAttrs = curNode-&gt;getAttributes();
@@ -71,7 +71,7 @@
                 }
             }
         }
-        mPropertySets.push_back(ps);
+        mPropertyRecords.push_back(ps);
     }
 	
 	doc-&gt;release();
@@ -79,9 +79,9 @@
     shutdownXml();
 }
 
-std::vector&lt;PropertySet*&gt; XmlPropertyReader::getPropertySets()
+std::vector&lt;PropertyRecord*&gt; XmlPropertyReader::getPropertyRecords()
 {
-    return mPropertySets;
+    return mPropertyRecords;
 }
 
 PropertyEntry XmlPropertyReader::processProperty(XERCES_CPP_NAMESPACE::DOMAttr* domAttr) const
@@ -241,9 +241,9 @@
     return std::make_pair(key, prop);
 }
 
-PropertySet XmlPropertyReader::getPropertiesAsSet(DOMElement *parent)
+PropertyRecord XmlPropertyReader::getPropertiesAsSet(DOMElement *parent)
 {
-    PropertySet ps;
+    PropertyRecord ps;
 
     DOMNodeList* propertyDefChildren = parent-&gt;getChildNodes();
     for (XMLSize_t childIdx = 0; childIdx &lt; propertyDefChildren-&gt;getLength(); childIdx++)

Modified: rl/trunk/engine/common/src/XmlPropertyWriter.cpp
===================================================================
--- rl/trunk/engine/common/src/XmlPropertyWriter.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/common/src/XmlPropertyWriter.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -43,14 +43,14 @@
         return mDocument;
     }
 
-    void XmlPropertyWriter::setPropertySets(std::vector&lt;PropertySet*&gt; sets)
+    void XmlPropertyWriter::setPropertyRecords(std::vector&lt;PropertyRecord*&gt; sets)
     {
-        mPropertySets = sets;
+        mPropertyRecords = sets;
     }
 
-    void XmlPropertyWriter::addPropertySet(PropertySet* set)
+    void XmlPropertyWriter::addPropertyRecord(PropertyRecord* set)
     {
-        mPropertySets.push_back(set);
+        mPropertyRecords.push_back(set);
     }
 
     DOMElement* XmlPropertyWriter::processProperty(DOMElement* parent, PropertyEntry entry)
@@ -98,7 +98,7 @@
         return element;
     }
 
-    DOMElement* XmlPropertyWriter::processPropertySet(DOMElement* parent, const char* const name, PropertySet set)
+    DOMElement* XmlPropertyWriter::processPropertyRecord(DOMElement* parent, const char* const name, PropertyRecord set)
     {
         PropertyMap map = set.toPropertyMap();
 

Modified: rl/trunk/engine/core/include/SaveGameFile.h
===================================================================
--- rl/trunk/engine/core/include/SaveGameFile.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/include/SaveGameFile.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -47,9 +47,9 @@
         virtual void parseScript(Ogre::DataStreamPtr &amp;stream, const Ogre::String &amp;groupName);
         virtual Ogre::Real getLoadingOrder(void) const;
 
-        virtual const Property getProperty(const Ogre::String&amp; key) const;
-        virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual const Property getProperty(const Ogre::String&amp; key) const;
+        virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
+        virtual PropertyRecord* getAllProperties() const;
     protected:
         CeGuiString mName;
         CeGuiString mModuleID;

Modified: rl/trunk/engine/core/include/Trigger.h
===================================================================
--- rl/trunk/engine/core/include/Trigger.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/include/Trigger.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -47,9 +47,9 @@
 
         const Ogre::String&amp; getName() const {return mName;}
 
-        virtual const Property getProperty(const Ogre::String&amp; key) const;
-        virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual const Property getProperty(const Ogre::String&amp; key) const;
+        virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
+        virtual PropertyRecord* getAllProperties() const;
     protected:
         Ogre::String mName;
 	};

Modified: rl/trunk/engine/core/src/SaveGameFile.cpp
===================================================================
--- rl/trunk/engine/core/src/SaveGameFile.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/src/SaveGameFile.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -115,9 +115,9 @@
         }
     }
 
-    PropertySet* SaveGameFile::getAllProperties() const
+    PropertyRecord* SaveGameFile::getAllProperties() const
     {
-        PropertySet* set = new PropertySet();
+        PropertyRecord* set = new PropertyRecord();
         set-&gt;setProperty(&quot;ModuleID&quot;, getProperty(&quot;ModuleID&quot;));
         set-&gt;setProperty(&quot;Time&quot;, getProperty(&quot;Time&quot;));
         return set;

Modified: rl/trunk/engine/core/src/SaveGameFileReader.cpp
===================================================================
--- rl/trunk/engine/core/src/SaveGameFileReader.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/src/SaveGameFileReader.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -76,7 +76,7 @@
                          }
                      }
                  }*/
-                 PropertySet set = getPropertiesAsSet(elem);
+                 PropertyRecord set = getPropertiesAsSet(elem);
                  file-&gt;setProperties(&amp;set);
              }
         }

Modified: rl/trunk/engine/core/src/SaveGameFileWriter.cpp
===================================================================
--- rl/trunk/engine/core/src/SaveGameFileWriter.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/src/SaveGameFileWriter.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -65,8 +65,8 @@
         //Write modul of save game
         DOMElement* header = appendChildElement(mDocument, mDocument-&gt;getDocumentElement(), &quot;header&quot;);
         
-        PropertySet* headerSet = file-&gt;getAllProperties();
-        for(PropertySetMap::const_iterator it_header = headerSet-&gt;begin(); it_header != headerSet-&gt;end(); it_header++)
+        PropertyRecord* headerSet = file-&gt;getAllProperties();
+        for(PropertyRecordMap::const_iterator it_header = headerSet-&gt;begin(); it_header != headerSet-&gt;end(); it_header++)
         {
             this-&gt;processProperty(header, PropertyEntry(it_header-&gt;first.c_str(), it_header-&gt;second));
         }

Modified: rl/trunk/engine/core/src/Trigger.cpp
===================================================================
--- rl/trunk/engine/core/src/Trigger.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/core/src/Trigger.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -57,9 +57,9 @@
         }
     }
 
-    PropertySet* Trigger::getAllProperties() const
+    PropertyRecord* Trigger::getAllProperties() const
     {
-        PropertySet* ps = new PropertySet();
+        PropertyRecord* ps = new PropertyRecord();
         ps-&gt;setProperty(&quot;name&quot;, Property(mName));
 
         return ps;

Modified: rl/trunk/engine/rules/include/Armor.h
===================================================================
--- rl/trunk/engine/rules/include/Armor.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Armor.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -71,7 +71,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
 

Modified: rl/trunk/engine/rules/include/Container.h
===================================================================
--- rl/trunk/engine/rules/include/Container.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Container.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -86,7 +86,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
         bool canHold(Item* item);
 

Modified: rl/trunk/engine/rules/include/Creature.h
===================================================================
--- rl/trunk/engine/rules/include/Creature.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Creature.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -684,7 +684,7 @@
 
             virtual const Property getProperty(const Ogre::String&amp; key) const;
             virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-            virtual PropertySet* getAllProperties() const;
+            virtual PropertyRecord* getAllProperties() const;
 
              void setAlignment(Alignment);
             Alignment getAlignment() const;

Modified: rl/trunk/engine/rules/include/GameObject.h
===================================================================
--- rl/trunk/engine/rules/include/GameObject.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/GameObject.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -147,7 +147,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
         GameObjectState getState() const;
         virtual void setState(GameObjectState state);

Modified: rl/trunk/engine/rules/include/GameObjectManager.h
===================================================================
--- rl/trunk/engine/rules/include/GameObjectManager.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/GameObjectManager.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -30,7 +30,7 @@
 {
     class GameObject;
 	class Property;
-    class PropertySet;
+    class PropertyRecord;
 
     typedef MessageType&lt;RLMSG_SAVEGAME_GOS_LOADED&gt; MessageType_GameObjectsLoaded;
 
@@ -87,7 +87,7 @@
         virtual void readData(SaveGameFileReader* reader);
         virtual int getPriority() const;
     private:
-        typedef std::map&lt;const Ogre::String, PropertySet*&gt; ClassPropertyMap;
+        typedef std::map&lt;const Ogre::String, PropertyRecord*&gt; ClassPropertyMap;
         typedef std::set&lt;GameObjectStateListener*&gt; GameObjectStateListenerSet;
 
         Ogre::StringVector mScriptPatterns;
@@ -99,8 +99,8 @@
         GameObjectStateListenerSet mGameObjectStateListeners;
 
         unsigned int generateId();
-        PropertySet* getClassProperties(const Ogre::String&amp; classId) const;
-        void applyProperties(GameObject* go, PropertySet* ps) const;
+        PropertyRecord* getClassProperties(const Ogre::String&amp; classId) const;
+        void applyProperties(GameObject* go, PropertyRecord* ps) const;
     };
 }
 

Modified: rl/trunk/engine/rules/include/Inventory.h
===================================================================
--- rl/trunk/engine/rules/include/Inventory.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Inventory.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -93,7 +93,7 @@
 
 	virtual const Property getProperty(const Ogre::String&amp; key) const;
     virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-    virtual PropertySet* getAllProperties() const;
+    virtual PropertyRecord* getAllProperties() const;
 
 private:
 	bool mValuesUpToDate;

Modified: rl/trunk/engine/rules/include/Item.h
===================================================================
--- rl/trunk/engine/rules/include/Item.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Item.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -101,7 +101,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
         void doCreateActor();
     protected:

Modified: rl/trunk/engine/rules/include/Quest.h
===================================================================
--- rl/trunk/engine/rules/include/Quest.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Quest.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -162,7 +162,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
     private:
 
@@ -180,7 +180,7 @@
         State mState;
         Quest* mParent;
         QuestBook* mQuestBook;
-		PropertySet* mAdditionalProperties;
+		PropertyRecord* mAdditionalProperties;
 
         void checkDone();
         void setParent(Quest* parentQuest);

Modified: rl/trunk/engine/rules/include/QuestBook.h
===================================================================
--- rl/trunk/engine/rules/include/QuestBook.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/QuestBook.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -78,7 +78,7 @@
 
     virtual const Property getProperty(const Ogre::String&amp; key) const;
     virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-    virtual PropertySet* getAllProperties() const;
+    virtual PropertyRecord* getAllProperties() const;
 
     /// Override from SaveGameData
     /// Manages saving and loading from the SaveGameFile

Modified: rl/trunk/engine/rules/include/Weapon.h
===================================================================
--- rl/trunk/engine/rules/include/Weapon.h	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/include/Weapon.h	2007-10-21 11:18:38 UTC (rev 3941)
@@ -65,7 +65,7 @@
 
         virtual const Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const Property&amp; value);
-        virtual PropertySet* getAllProperties() const;
+        virtual PropertyRecord* getAllProperties() const;
 
 	private:
 		Tripel&lt;int&gt; mTp;

Modified: rl/trunk/engine/rules/src/Armor.cpp
===================================================================
--- rl/trunk/engine/rules/src/Armor.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Armor.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -196,9 +196,9 @@
         }
     }
 
-    PropertySet* Armor::getAllProperties() const
+    PropertyRecord* Armor::getAllProperties() const
     {
-        PropertySet* ps = Item::getAllProperties();
+        PropertyRecord* ps = Item::getAllProperties();
         ps-&gt;setProperty(Armor::PROPERTY_G_BE, Property(mGBE));
         ps-&gt;setProperty(Armor::PROPERTY_G_RS, Property(mGRS));
 

Modified: rl/trunk/engine/rules/src/Container.cpp
===================================================================
--- rl/trunk/engine/rules/src/Container.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Container.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -387,9 +387,9 @@
         }
     }
 
-    PropertySet* Container::getAllProperties() const
+    PropertyRecord* Container::getAllProperties() const
     {
-        PropertySet* ps = Item::getAllProperties();
+        PropertyRecord* ps = Item::getAllProperties();
         ps-&gt;setProperty(Container::PROPERTY_CAPACITY, Property(mCapacity));
         ps-&gt;setProperty(Container::PROPERTY_VOLUME, Property(make_pair((int)mVolume.first, (int)mVolume.second)));
 		ps-&gt;setProperty(Container::PROPERTY_CONTENT, getProperty(Container::PROPERTY_CONTENT));

Modified: rl/trunk/engine/rules/src/Creature.cpp
===================================================================
--- rl/trunk/engine/rules/src/Creature.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Creature.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -1136,9 +1136,9 @@
         }
     }
 
-    PropertySet* Creature::getAllProperties() const
+    PropertyRecord* Creature::getAllProperties() const
     {
-        PropertySet* ps = GameObject::getAllProperties();
+        PropertyRecord* ps = GameObject::getAllProperties();
         ps-&gt;setProperty(Creature::PROPERTY_AI, mAiProperties);
         ps-&gt;setProperty(Creature::PROPERTY_INVENTORY_WINDOW_TYPE, Property(mInventoryWindowType));
         ps-&gt;setProperty(Creature::PROPERTY_CURRENT_LE, getProperty(Creature::PROPERTY_CURRENT_LE));

Modified: rl/trunk/engine/rules/src/GameObject.cpp
===================================================================
--- rl/trunk/engine/rules/src/GameObject.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/GameObject.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -572,9 +572,9 @@
         }
     }
 
-    PropertySet* GameObject::getAllProperties() const
+    PropertyRecord* GameObject::getAllProperties() const
     {
-        PropertySet* ps = new PropertySet();
+        PropertyRecord* ps = new PropertyRecord();
         ps-&gt;setProperty(PROPERTY_NAME, Property(mName));
         ps-&gt;setProperty(PROPERTY_DESCRIPTION, Property(mDescription));
         if(this-&gt;getState() == GOS_IN_SCENE)

Modified: rl/trunk/engine/rules/src/GameObjectManager.cpp
===================================================================
--- rl/trunk/engine/rules/src/GameObjectManager.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/GameObjectManager.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -71,10 +71,10 @@
     {
         XmlPropertyReader* propReader = new XmlPropertyReader();
         propReader-&gt;parseGameObjectFile(stream, groupName);
-        std::vector&lt;PropertySet*&gt; psset = propReader-&gt;getPropertySets();
-        for(std::vector&lt;PropertySet*&gt;::iterator it = psset.begin(); it != psset.end(); it++)
+        std::vector&lt;PropertyRecord*&gt; psset = propReader-&gt;getPropertyRecords();
+        for(std::vector&lt;PropertyRecord*&gt;::iterator it = psset.begin(); it != psset.end(); it++)
         {
-            PropertySet* curPs = *it;
+            PropertyRecord* curPs = *it;
             Ogre::String classId = curPs-&gt;getProperty(GameObject::PROPERTY_CLASS_ID).toString().c_str();
             mClassProperties[classId] = curPs;
         }
@@ -139,7 +139,7 @@
             goId = generateId();
         }
 
-        PropertySet* ps = getClassProperties(classId);
+        PropertyRecord* ps = getClassProperties(classId);
         Ogre::String classname =  ps-&gt;getProperty(GameObject::PROPERTY_BASE_CLASS).toString().c_str();
 
         GameObject* go = mGameObjectFactory
@@ -179,11 +179,11 @@
         }
     }
 
-    void GameObjectManager::applyProperties(GameObject* go, PropertySet* ps) const
+    void GameObjectManager::applyProperties(GameObject* go, PropertyRecord* ps) const
     {
         if (ps-&gt;hasProperty(GameObject::PROPERTY_INHERITS))
         {
-            PropertySet* superClassProps = 
+            PropertyRecord* superClassProps = 
                 getClassProperties(ps-&gt;getProperty(GameObject::PROPERTY_INHERITS).toString().c_str());
             applyProperties(go, superClassProps);
         }
@@ -211,7 +211,7 @@
 		return Property(go-&gt;getClassId() + &quot;|&quot; + CEGUI::PropertyHelper::uintToString(go-&gt;getId()));
 	}
 
-    PropertySet* GameObjectManager::getClassProperties(const Ogre::String&amp; classId) const
+    PropertyRecord* GameObjectManager::getClassProperties(const Ogre::String&amp; classId) const
     {
         ClassPropertyMap::const_iterator it = mClassProperties.find(classId);
         if (it == mClassProperties.end())
@@ -340,7 +340,7 @@
                         int ID = reader-&gt;getAttributeValueAsInteger(static_cast&lt;DOMElement*&gt;(xmlGameObject), &quot;ID&quot;);
                         Ogre::String classID = reader-&gt;getAttributeValueAsStdString(static_cast&lt;DOMElement*&gt;(xmlGameObject), &quot;ClassID&quot;);
                         GameObjectState state = (GameObjectState)reader-&gt;getAttributeValueAsInteger(static_cast&lt;DOMElement*&gt;(xmlGameObject), &quot;State&quot;);
-                        PropertySet properties = reader-&gt;getPropertiesAsSet(static_cast&lt;DOMElement*&gt;(xmlGameObject));
+                        PropertyRecord properties = reader-&gt;getPropertiesAsSet(static_cast&lt;DOMElement*&gt;(xmlGameObject));
                         GameObject* object = createGameObject(classID, ID);
                         applyProperties(object, &amp;properties);
                         object-&gt;setState(state);

Modified: rl/trunk/engine/rules/src/Inventory.cpp
===================================================================
--- rl/trunk/engine/rules/src/Inventory.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Inventory.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -347,9 +347,9 @@
 		}
 	}
 
-    PropertySet* Inventory::getAllProperties() const
+    PropertyRecord* Inventory::getAllProperties() const
 	{
-		PropertySet* ps = new PropertySet();
+		PropertyRecord* ps = new PropertyRecord();
 		ps-&gt;setProperty(Inventory::PROPERTY_SLOTS, getProperty(Inventory::PROPERTY_SLOTS));
 		ps-&gt;setProperty(Inventory::PROPERTY_CONTENT, getProperty(Inventory::PROPERTY_CONTENT));
 		return ps;

Modified: rl/trunk/engine/rules/src/Item.cpp
===================================================================
--- rl/trunk/engine/rules/src/Item.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Item.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -203,9 +203,9 @@
         }
     }
 
-    PropertySet* Item::getAllProperties() const
+    PropertyRecord* Item::getAllProperties() const
     {
-        PropertySet* ps = GameObject::getAllProperties();
+        PropertyRecord* ps = GameObject::getAllProperties();
         ps-&gt;setProperty(Item::PROPERTY_IMAGENAME, Property(mImageName));
         ps-&gt;setProperty(Item::PROPERTY_SIZE, Property(mSize));
         ps-&gt;setProperty(Item::PROPERTY_ITEMTYPE, Property(mItemType));

Modified: rl/trunk/engine/rules/src/Quest.cpp
===================================================================
--- rl/trunk/engine/rules/src/Quest.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Quest.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -59,7 +59,7 @@
 	mQuestBook(NULL),
     mSubquests()
 {
-	mAdditionalProperties = new PropertySet();
+	mAdditionalProperties = new PropertyRecord();
 }
 
 Quest::~Quest()
@@ -352,9 +352,9 @@
     }
 }
 
-PropertySet* Quest::getAllProperties() const
+PropertyRecord* Quest::getAllProperties() const
 {
-    PropertySet* ps = new PropertySet();
+    PropertyRecord* ps = new PropertyRecord();
 
     ps-&gt;setProperty(PROPERTY_ID, Property(mId));
     ps-&gt;setProperty(PROPERTY_NAME, Property(mName));

Modified: rl/trunk/engine/rules/src/QuestBook.cpp
===================================================================
--- rl/trunk/engine/rules/src/QuestBook.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/QuestBook.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -170,7 +170,7 @@
             for (QuestVector::const_iterator it = allQuests.begin();
                 it != allQuests.end(); ++it)
             {
-                PropertySet* questProps = (*it)-&gt;getAllProperties();
+                PropertyRecord* questProps = (*it)-&gt;getAllProperties();
                 quests.push_back(Property(questProps-&gt;toPropertyMap()));
                 delete questProps;
             }
@@ -182,7 +182,7 @@
             PropertyVector journals;
             for(std::vector&lt;JournalEntry*&gt;::const_iterator iter = mJournalEntries.begin(); iter != mJournalEntries.end(); iter++)
             {
-                PropertySet journal;
+                PropertyRecord journal;
                 journal.setProperty(JournalEntry::PROPERTY_CAPTION, Property((*iter)-&gt;getCaption()));
                 journal.setProperty(JournalEntry::PROPERTY_TEXT, Property((*iter)-&gt;getText()));
                 journals.push_back(journal.toPropertyMap());
@@ -234,9 +234,9 @@
         }
     }
 
-    PropertySet* QuestBook::getAllProperties() const
+    PropertyRecord* QuestBook::getAllProperties() const
     {
-        PropertySet* props = new PropertySet();
+        PropertyRecord* props = new PropertyRecord();
         props-&gt;setProperty(PROPERTY_QUESTS, getProperty(PROPERTY_QUESTS));
         props-&gt;setProperty(PROPERTY_JOURNAL, getProperty(PROPERTY_JOURNAL));
         return props;
@@ -273,7 +273,7 @@
 
         DOMElement* quests = writer-&gt;appendChildElement(writer-&gt;getDocument(), writer-&gt;getDocument()-&gt;getDocumentElement(), getXmlNodeIdentifier().c_str());
 
-        PropertySet* set = getAllProperties();
+        PropertyRecord* set = getAllProperties();
         writer-&gt;writeEachProperty(quests, set-&gt;toPropertyMap());
     }
 
@@ -289,7 +289,7 @@
         if(rootNodeList-&gt;getLength())
         {
             DOMNode* xmlQuestBook = rootNodeList-&gt;item(0);
-            PropertySet properties = reader-&gt;getPropertiesAsSet(static_cast&lt;DOMElement*&gt;(xmlQuestBook));
+            PropertyRecord properties = reader-&gt;getPropertiesAsSet(static_cast&lt;DOMElement*&gt;(xmlQuestBook));
 
             setProperties(&amp;properties);
         }

Modified: rl/trunk/engine/rules/src/Weapon.cpp
===================================================================
--- rl/trunk/engine/rules/src/Weapon.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/rules/src/Weapon.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -199,9 +199,9 @@
         }
     }
 
-    PropertySet* Weapon::getAllProperties() const
+    PropertyRecord* Weapon::getAllProperties() const
     {
-        PropertySet* ps = Item::getAllProperties();
+        PropertyRecord* ps = Item::getAllProperties();
         ps-&gt;setProperty(Weapon::PROPERTY_TP, Property(mTp));
         ps-&gt;setProperty(Weapon::PROPERTY_TP_KK, Property(mTpKk));
         ps-&gt;setProperty(Weapon::PROPERTY_TP_BF, Property(mBf));

Modified: rl/trunk/engine/script/swig/RlCore.swig
===================================================================
--- rl/trunk/engine/script/swig/RlCore.swig	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/script/swig/RlCore.swig	2007-10-21 11:18:38 UTC (rev 3941)
@@ -958,7 +958,7 @@
 	const Ogre::String&amp; getName() const;
     virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
     virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-    virtual rl::PropertySet* getAllProperties() const;
+    virtual rl::PropertyRecord* getAllProperties() const;
 };
 
 class SoundFadeJob : public rl::Job

Modified: rl/trunk/engine/script/swig/RlRules.swig
===================================================================
--- rl/trunk/engine/script/swig/RlRules.swig	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/script/swig/RlRules.swig	2007-10-21 11:18:38 UTC (rev 3941)
@@ -316,13 +316,13 @@
         GOS_READY
     };
     
-    class PropertySet
+    class PropertyRecord
     {
     public:
-        PropertySet();
+        PropertyRecord();
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
     };
     
     %constant unsigned long QUERYFLAG_GAMEOBJECT = rl::QUERYFLAG_GAMEOBJECT;
@@ -390,7 +390,7 @@
         
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         
         virtual void placeIntoScene();
         void removeFromScene();
@@ -449,7 +449,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         virtual bool isContainer();
         
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
@@ -481,7 +481,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
     };
@@ -499,7 +499,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
     };
@@ -523,7 +523,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
     };
@@ -600,7 +600,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const = 0;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value) = 0;
-        virtual rl::PropertySet* getAllProperties() const = 0;
+        virtual rl::PropertyRecord* getAllProperties() const = 0;
     };
 
     class EffectFactory
@@ -742,7 +742,7 @@
 
         virtual const rl::Property getProperty(const Ogre::String&amp; key) const;
         virtual void setProperty(const Ogre::String&amp; key, const rl::Property&amp; value);
-        virtual rl::PropertySet* getAllProperties() const;
+        virtual rl::PropertyRecord* getAllProperties() const;
         
         virtual void onStateChange(GameObjectState oldState, GameObjectState newState);
     };

Modified: rl/trunk/engine/startup/src/RastullahMain.cpp
===================================================================
--- rl/trunk/engine/startup/src/RastullahMain.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/startup/src/RastullahMain.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -174,7 +174,7 @@
     int argc;
     LPWSTR* argList = CommandLineToArgvW(GetCommandLineW(), &amp;argc);
     char** argv = new char*[argc];
-    for (size_t argIdx = 0; argIdx &lt; argc; argIdx++)
+    for (int argIdx = 0; argIdx &lt; argc; argIdx++)
     {
         size_t len = wcslen(argList[argIdx])+1;
         argv[argIdx] = new char[len];

Modified: rl/trunk/engine/ui/src/PropertiesWindow.cpp
===================================================================
--- rl/trunk/engine/ui/src/PropertiesWindow.cpp	2007-10-21 10:56:04 UTC (rev 3940)
+++ rl/trunk/engine/ui/src/PropertiesWindow.cpp	2007-10-21 11:18:38 UTC (rev 3941)
@@ -74,12 +74,12 @@
         fillHeader(object);
 
         // Get the property set of the object
-        PropertySet* props = object-&gt;getAllProperties();
+        PropertyRecord* props = object-&gt;getAllProperties();
 
         int row = 0;
         //  Iterate through all properties and add a row for
         //  every Entry
-        for( PropertySetMap::const_iterator propIter = props-&gt;begin();
+        for( PropertyRecordMap::const_iterator propIter = props-&gt;begin();
             propIter != props-&gt;end(); propIter++ )
         {
             Ogre::String key = propIter-&gt;first;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001011.html">[Dsa-hl-svn] r3940 - in rl/trunk/engine/common: include src
</A></li>
	<LI>Next message: <A HREF="001013.html">[Dsa-hl-svn] r3942 - rl/trunk/engine/rules/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1012">[ date ]</a>
              <a href="thread.html#1012">[ thread ]</a>
              <a href="subject.html#1012">[ subject ]</a>
              <a href="author.html#1012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/dsa-hl-svn">More information about the Dsa-hl-svn
mailing list</a><br>
</body></html>
